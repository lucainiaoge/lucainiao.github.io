<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Lucainiao&#39;s blog</title>
  
  <subtitle>coding&amp;music</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://lucainiaoge.github.io.git/"/>
  <updated>2020-12-17T14:13:45.531Z</updated>
  <id>https://lucainiaoge.github.io.git/</id>
  
  <author>
    <name>lucainiaoge</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>An Introduction to Deep Clustering</title>
    <link href="https://lucainiaoge.github.io.git/2020/12/17/deep_clustering_intro/"/>
    <id>https://lucainiaoge.github.io.git/2020/12/17/deep_clustering_intro/</id>
    <published>2020-12-16T16:00:00.000Z</published>
    <updated>2020-12-17T14:13:45.531Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><div id="content"></div><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script><h1 id="Toy-Example"><a href="#Toy-Example" class="headerlink" title="Toy Example"></a>Toy Example</h1><p>Suppose we have a series of vectors $V=[v_n],n=1,2,…,N$, where $v_n\in {\rm R^K}$. We want to cluster together similar vectors, what will we do?</p><a id="more"></a><p>To view the whole passage, please download:<br><a href="/download/AnIntroductiontoDeepClustering.pdf">An Introduction to Deep Clustering.pdf</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;div id=&quot;content&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default&quot;&gt;&lt;/script&gt;

&lt;h1 id=&quot;Toy-Example&quot;&gt;&lt;a href=&quot;#Toy-Example&quot; class=&quot;headerlink&quot; title=&quot;Toy Example&quot;&gt;&lt;/a&gt;Toy Example&lt;/h1&gt;&lt;p&gt;Suppose we have a series of vectors $V=[v_n],n=1,2,…,N$, where $v_n\in {\rm R^K}$. We want to cluster together similar vectors, what will we do?&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="machine_learning" scheme="https://lucainiaoge.github.io.git/tags/machine-learning/"/>
    
  </entry>
  
  <entry>
    <title>Linear-upper-coverage Smoothing for Peak Finding</title>
    <link href="https://lucainiaoge.github.io.git/2020/10/10/linear-upper-coverage-algorithm-for-peak-finding/"/>
    <id>https://lucainiaoge.github.io.git/2020/10/10/linear-upper-coverage-algorithm-for-peak-finding/</id>
    <published>2020-10-09T16:00:00.000Z</published>
    <updated>2020-10-18T03:26:44.901Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><div id="content"></div><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script><h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>I came up with this idea on October 9th, 2020, when I was considering how to find the overtone peaks in a spectrogram. I happened to be playing LIMBO the previous day, and that inspired me to come up with my idea regarding Linear-upper-coverage (LUC), which converts the peak finding problem into linear optimization subtasks.</p><a id="more"></a><ul><li><font color="Gray" size="3">It is recommended that readers have grasped basic knowledge about calculus, convex optimization and digital signal processing (DSP). Still, if those pre-requisites are not satisfied, it is also OK to understand my ideas and algorithms. Most of those knowledges are helpful when readers want to understand my proofs for the Lemmas or Theorems proposed in this article.</font></li><li><font color="Gray" size="3">If [Math Processing Error] occurs or figures are not showing, please refresh this page or switch to another browser (Google chrome is recommended).</font></li><li><font color="Gray" size="3">One more tip: this article is a little bit long. However, if you skip my rationales/proofs and go directly to my motivations and experiment results, you will finish reading this article quicker. Anyway, welcome to delve into my math works and logics in order to understand LUC deeply, and welcome to correct me if I made mistakes.</font></li></ul><h1 id="Problem-Definition-and-Motivation"><a href="#Problem-Definition-and-Motivation" class="headerlink" title="Problem Definition and Motivation"></a>Problem Definition and Motivation</h1><h2 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h2><p>How to find the peaks in the following curve?</p><p><span id="original_curve"> <img src="https://i.loli.net/2020/10/10/jRu3N6WJUfzYT9d.png" alt="Original Curve.png"> </span></p><p>If we manually mark the peaks, the result may normally look like the following figure?</p><p><span id="original_curve_manual_maxima"> <img src="https://i.loli.net/2020/10/10/8I9Dcbk451fXqvp.png" alt="Original_Curve_manually_find.png"> </span></p><p>However, how to design an algorithm to robustly find the desired peaks (local maxima)?</p><p>To answer this question, we have to ask ourselves: what is a desired peak?</p><p>If we just want every local maxima, we may get this  following result:</p><p><span id="original_curve_all_maxima"> <img src="https://i.loli.net/2020/10/10/P4pVHFzLuqvjTtQ.png" alt="Original_Curve_all_maxima.png"> </span></p><p>And according to our current definition of “desired peak”, this ugly result is correct.</p><p>Therefore, you may be willing to design an algorithm which is adaptable according to our variable definitions for a “desired peak”.</p><h2 id="What-Inspired-Me"><a href="#What-Inspired-Me" class="headerlink" title="What Inspired Me"></a>What Inspired Me</h2><p>Well, in addition to the inspiring peak-finding-problem itself, another incentive of my idea is a rolling wheel on a coarse road:</p><p><span id="wheel_olling_analogy"> <img src="https://i.loli.net/2020/10/10/xaNzrKp34MEDJ7T.png" alt="wheel_rolling_analogy.png"> </span></p><p>As you can see: the centroid of the wheels form up a much smoother curve (although still a little bumping) than the original curve. However, several insignificant local maxima are still troublesome. And it is also a little bit hart do model a wheel rolling on a coarse road with a few lines of codes. So how to improve this idea?</p><p>I was lucky to be playing LIMBO the previous day, and one scene in the vedio game LIMBO just struck me:</p><p><span id="LIMBO_scene"> <img src="https://i.loli.net/2020/10/10/unDvZ8GWTBLEY4b.png" alt="limbo_analogy.png"> </span></p><p>Notice the the red arrows: there are tiles covering the roof/hill (whatever it looks like as it is dark).</p><p>So, why not cover our curve with tiles? I drew the following picture to show my idea of tile-covering:</p><p><img src="https://i.loli.net/2020/10/10/HYt1xgTnPkMKsZ6.png" alt="basic_illustration.png"></p><p>First, divide the x-axis into intervals; second, cover the curves in each intervals with tiles; third, find the centroid of each tile; finally, use the centroid scatters to find the local maxima.</p><p>Notice that we can cover over curve with tiles of different lengths, which is equivalent our variable definitions on “desired peak”: if we use short tiles, we will be more sensitive to small local maxima, while long tiles will ignore the local maxima which are insignificant in terms of a smaller measure on $x$.</p><p>Now comes the question: how to implement this idea?</p><h1 id="From-Peak-Finding-to-Linear-Optimization"><a href="#From-Peak-Finding-to-Linear-Optimization" class="headerlink" title="From Peak Finding to Linear Optimization"></a>From Peak Finding to Linear Optimization</h1><h2 id="Deriving-the-Basic-Formulation"><a href="#Deriving-the-Basic-Formulation" class="headerlink" title="Deriving the Basic Formulation"></a>Deriving the Basic Formulation</h2><p>As the title of this section suggests, I utilized linear optimization to solve the problem. Among the four steps in the previous section, you may notice that the phrase “over the curves in each intervals with tiles” is not clearly defined. How can we cover a curve with a tile? Here is where linear optimization comes into being:</p><p>Suppose we got an interval $x \in [x_i,x_{i+1}]$, where a 1-D curve $f(x)$ is defined. The tile is depicted as $l_i(x)=a_i x+b_i$. Obviously, we must have $f(x) \leq l_i(x), \forall x \in [x_i,x_{i+1}]$. With this constraint, we want to find the parameters $(a_i,b_i)$ such that the tile seems to cover the curve.</p><p>Newton’s laws suggest: if you put an object in a gravitatio, it is stable when its gravitational potential energy reaches its minimum. If we assume that the density of our tiles is uniformly distributed, we can conclude that the tile’s gravitational potential energy can be calculated by a particle locating at its centroid, which is $(\frac{x_i+x_{i+1}}{2},l_i(\frac{x_i+x_{i+1}}{2}))$. Therefore, we get our objective function: $l_i(\frac{x_i+x_{i+1}}{2})=a_i\frac{x_i+x_{i+1}}{2}+b_i$.</p><p>To sum up, we get the linear optimization problems:</p><blockquote><p>$\forall i=1,2,…$, solve the linear programming (LP)problem within interval $[x_i,x_{i+1}]$:<br>$$min_{a_i,b_i} \quad a_i\frac{x_i+x_{i+1}}{2}+b_i $$ $$s.t. f(x) \leq a_i x+b_i, \forall x \in [x_i,x_{i+1}]$$</p></blockquote><p>And I may call it linear-upper-coverage (LUC) algorithm.</p><p>Notice that there are infinite constraints, which are intractable. One intuitive way is to sample the interval $x \in [x_i,x_{i+1}]$ to get $x_{i}^{k} \in [x_i,x_{i+1}], \forall k=1,2,…,K$. And consequently, the linear constraints become: $$f(x_{i}^{k}) \leq a_i x_{i}^{k}+b_i, \forall k=1,2,…,K$$</p><p>Until now, we are able to solve that linear optimization problem with inequality constraints! The classical linear programming algorithms (e.g. the Simplex Method) are well-equipped to sove them!</p><h2 id="Formal-LUC-Definition-Generalizing-Interval-Partitions"><a href="#Formal-LUC-Definition-Generalizing-Interval-Partitions" class="headerlink" title="Formal LUC Definition Generalizing Interval Partitions"></a>Formal LUC Definition Generalizing Interval Partitions</h2><p>You may noticed that although I divided the x-axis equally, the lengths of tiles are not the same. Is it necessary to set the tile lengths all the same? This is actually about the choosing the segmentation strategy, i.e. the procedure to get $[x_i,x_{i+1}], i=1,2,…$</p><p>Therefore, if restricted to linear coverage, the most configurable aspect is the segmentation strategy. Not only can we segment in equal length, we can also segment in a log-scale, or even sample randomly. Different segmentation strategy lead to different definitions of “desired peak”.</p><p>Also, it is not necessary to assume that the intervals do not overlap. Instead, we can arbitrarily sample the curve and construct intervals for each of those sample points, even if those intervals can overlap. Such more general definition becomes:</p><blockquote><p><font color="Crimson" size="4"><strong>Definition 1 (normal LUC):</strong></font><font color="DarkRed" size="3"> Given $f:D\rightarrow \pmb{R}$, sample data points $x_i\in D,i=1,2,…$. Define intervals $I_i = [x_i^l,x_i^r]$ where $x_i \in I_i$, and define linear segments $l_i(x)=a_i x+b_i, \forall x\in I_i$.<br>Define the linear programming problems $LUC_i$ within intervals<br>$$LUC_i:\quad min_{a_i,b_i} \quad l_i(\frac{1}{2}(x_i^l+x_i^r))$$ $$s.t. f(x) \leq l_i(x), \forall x \in I_i$$ The LUC solution is the set of all optimum linear segments, i.e. $l_i^{\star}(x)$<br></font></p></blockquote><p>From now on, $x_i$ no longer means the left endpoint of interval $I_i$, but the centroid point of interval $I_i$. The left endpoint of interval $I_i$ is written as $x_i^l$ instead. (If I sometime breaks this law, please understand that because those cases are obvious.)</p><p>Moreover, we can cover the curve with actually whatever function we like: circles, ovels etc. I chose lines because they look more simple and intuitive. What about other elements? It might be worth trying, but I am not going to talk about them at this moment…</p><h1 id="Proof-that-LUC-Has-Smooth-Effects-Convex-Case"><a href="#Proof-that-LUC-Has-Smooth-Effects-Convex-Case" class="headerlink" title="Proof that LUC Has Smooth Effects: Convex Case"></a>Proof that LUC Has Smooth Effects: Convex Case</h1><p>If we want to prove that an algorithm can smoothify a curve, we have to prove that the algorithm dampens the high-frequency components in certain ways.</p><p>The main challenge to prove this for LUC is that there are linear-programming calculations in each interval, which is non-trivial. I find it difficult to prove this even convex constraint is considered.</p><h2 id="Two-Lemmas-with-Proof"><a href="#Two-Lemmas-with-Proof" class="headerlink" title="Two Lemmas with Proof"></a>Two Lemmas with Proof</h2><p>I start from the (lower) convex segments defined in $[x^l,x^r]$:<br>$$f(\lambda x^l+(1-\lambda) x^r)\leq \lambda f(x^l)+(1-\lambda) f(x^r), \forall 0\leq \lambda \leq 1$$</p><p>Intuitively, we can reach the following conclusion:</p><blockquote><p><font color="Crimson" size="4"><strong>Lemma 1 (LUC for convex function):</strong></font><font color="DarkRed" size="3"> if $f:[x^l,x^r]\rightarrow \pmb{R}$ is convex in $[x^l,x^r]$, then the optimum LUC function becomes $l^{\star}(x)=\frac{f(x^l)-f(x^r)}{x^l-x^r} (x-\frac{x^l+x^r}{2}) + \frac{f(x^l)+f(x^r)}{2}$</font></p></blockquote><p><font color="Gray" size="3"><strong>Proof:</strong><br>①First prove that the given $l^{\star}$ obeys the constraints of LUC linear programming.<br>That constraint is: $f(x) \leq l(x), \forall x \in [x^l,x^r]$. If we apply $l^{\star}$ to that constraint, we just need to prove: $f(x) \leq l^{\star}(x), \forall x \in [x^l,x^r]$.<br>Plug in the convex assumption on $f(x)$ and we get: $f(\lambda x^l+(1-\lambda) x^r)\leq \lambda f(x^l)+(1-\lambda) f(x^r), \forall 0\leq \lambda \leq 1$.<br>As $f(x^l) \leq l^{\star}(x^l)$ and $f(x^r) \leq l^{\star}(x^r)$, we get $\lambda f(x^l)+(1-\lambda) f(x^r)\leq \lambda l^{\star}(x^l)+(1-\lambda) l^{\star}(x^r) = l^{\star}(\lambda x^l+(1-\lambda) x^r)$.<br>Therefore, we proved that $f(x) \leq l^{\star}(x), \forall x \in [x^l,x^r]$ is true.<br>②Then prove that $l^{\star}$ is the optimum.<br>Recall that the objective function is $l(\frac{x^l+x^r}{2}) = a_i\frac{x^l+x^r}{2}+b_i$.<br>If we want to decrease the objective value $l(\frac{x^l+x^r}{2})=\frac{l(x^l)+l(x^r)}{2}$, either $l(x^l)$ or $l(x^r)$ should be decreased.<br>However, according to the constraints, $f(x^l) \leq l(x^l)$ and $f(x^r) \leq l(x^r)$: once we have $f(x^l) = l^{\star}(x^l)$ and $f(x^r) = l^{\star}(x^r)$, we can assert that $l^{\star}$ reaches the optimum, for neither $l^{\star}(x^l)$ or $l^{\star}(x^r)$ can be decreased. □<br></font></p><p>On the other hand, if we assume that $f(x)$ is bounded in interval $[x^l,x^r]$, it is also intuitive to reach the following conclusion:</p><blockquote><p><font color="Crimson" size="4"><strong>Lemma 2 (existance of LUC solutions and tightness):</strong></font><font color="DarkRed" size="3"> if $f:[x^l,x^r]\rightarrow \pmb{R}$ is bounded, then:</font></p><ol><li><font color="DarkRed" size="3">There are at least two zero-slackness LUC constraints at $x^{-}$ and $x^{+}$ ($x^{-}\leq x^{+}$); the term zero-slackness indicates that $f(x^{-})=l^{\star}(x^{-})$ and $f(x^{+})=l^{\star}(x^{+})$.</font></li><li><font color="DarkRed" size="3">Equality of $x^{-}\leq x^{+}$ is reached only when $x^{-}=x^{+}=x^l$ or $x^{-}=x^{+}=x^r$</font></li></ol></blockquote><p><font color="Gray" size="3"><strong>Proof:</strong><br>① First prove that there is at least one optimum solution for the LUC problem.<br>As $f(x)$ is bounded in interval $[x^l,x^r]$, assume that $m&lt;f(x)&lt;M_1&lt;M_2$, there exists $l(x)=a_i x+b_i$ such that $M_2&gt;l(x^l)&gt;M_1&gt;f(\forall x)$ and $M_2&gt;l(x^r)&gt;M_1&gt;f(\forall x)$. Therefore, feasible region is not empty.<br>On the other hand, there exists $l(x)=a_i x+b_i$ such that $m&lt;f(x^l)\leq l(x^l)$ and $m&lt;f(x^r)\leq l(x^r)$. This is to say, the objective $\frac{l(x^l)+l(x^r)}{2}&gt;m$. Therefore, the objective cannot be arbitrarily small.<br>In sum, there is at least one optimum solution for the LUC problem.<br>② Then prove that the optimum solution lead to zero slackness. Recall the <a href="https://link.springer.com/referenceworkentry/10.1007/1-4020-0611-x_140" target="_blank" rel="noopener">complementary slackness theorem</a>:<br>Given a standard LP problem $$min\quad cx, \quad s.t. \quad Ax \geq  b$$ and its dual problem $$max\quad b^T y, \quad s.t. \quad A^T y \leq  c^T$$ Definition of slackness of the $k^{th}$ constraint is $s_k = A_k x - b_k$.<br>The complementary slackness theorem says that if a feasible solution $x_0$ is optimum (which exists because of ①), and its corresponding dual solution is $y_0$ is also optimum, then $x_0^T (c-A^T y_0)=0$ and $y_0^T (A x_0 - b)=0$.<br>Therefore, for those $y_0^k \neq 0$, we must have $A_k x_0 - b_k = 0, k \in \lbrace k:y_0^k \neq 0 \rbrace$. As a result, $s_k = A_k x_0 - b_k = 0,k \in \lbrace k:y_0^k \neq 0 \rbrace$.<br>Translate this into LUC context: $x_0=(a_{i}^{\star},b_{i}^{\star})$, $A=[x^{[1:K]},ones(1,K)^T]$, $c=[\frac{x^l+x^r}{2},1]$ and $b=[f(x^1),…,f(x^K)]^T$. The “$y_0^k$” in LUC cannot be all zero, or otherwize $c=0$, which is not true. Therefore, there always exists $k$ such that “$A_k x_0 - b_k = 0$”, which is actually $f(x^k)=l^{\star}(x^k)$ (the $k^{th}$ constraint), leading to zero slackness.<br>③ Then prove that there are at least two different tight constraints.<br>According to the convexity of linear feasible region (which is a polyhedron), the optimum solution touches the vertex of that region. As we know, the vertex of a region is an intersection of two hyperplanes (in LUC, they are actually two 2-D lines, because there are only two variables), corresponding to two different constraints. Therefore, if there are at least two constraints which have zero slackness, they are different.<br>④ Finally prove the property when $x^{-}=x^{+}$.<br>We know that each constraint can be linked with an $x$ in $[x^l,x^r]$. Moreover, the statement $x\in [x^l,x^r]$ indicates two more underlying constraints $x\geq x^l$ and $x\leq x^r$. Recall ③: the two constraints at $x=x^{-}$ and $x=x^{+}$ are different. If a constraint at $x=x^{-}$ is tight and $x^{-}=x^{+}$, then this case only happens at $x=x^l$ or $x=x^r$, because: any $x\in (x^l,x^r)$ can be linked with only one constraint $f(x)\leq l(x)$; but at $x=x^l$, there exists one more constraint $x\geq x^l$, which reaches tightness (and the case when $x=x^r$ is similar). In conclusion, the statement $x^{-}=x^{+}$ indicates that two tight constraints sharing the same point, and such case can only happen at $x=x^l$ or $x=x^r$; consequently, $x^{-}=x^{+}=x^l$ or $x^{-}=x^{+}=x^r$.□<br></font></p><h2 id="Explore-the-Effects-of-LUC-on-DTFT-Spectrum"><a href="#Explore-the-Effects-of-LUC-on-DTFT-Spectrum" class="headerlink" title="Explore the Effects of LUC on DTFT Spectrum"></a>Explore the Effects of LUC on DTFT Spectrum</h2><p>Now, we have all the ingradients! What is left is to describe our problem in a proper way. Consider a uniformally-sampled sequence of $f(x)$, which is written as $[f_i] = [f_1,f_2,…] = [f(x_1),f(x_2),…]$.<br>Without downsampling, we do LUC for each interval centered with the $i^{th}$ point, i.e. the interval $[x_i-\Delta x,x_i+\Delta x]$. It is also OK to write this interval as $[x_{i-\Delta i},x_{i+\Delta i}]$ because of equal-partition.</p><p>Therefore, we have the LUC problem formally:</p><blockquote><p>$$min_{a_i,b_i} \quad a_i x_i+b_i $$ $$s.t. f(x) \leq a_i x+b_i, \forall x \in [x_{i-\Delta i},x_{i+\Delta i}]$$</p></blockquote><p>According to Lemma 2, there are at least two points $x_i^{-}$ and $x_i^{+}$ such that $f(x_i^{-})=l_i^{\star}(x_i^{-})$ and $f(x_i^{+})=l_i^{\star}(x_i^{+})$. We can  subsequently determine $l_i^{\star}$ with those two points: $$a_i^{\star} = \frac{f(x_i^{-})-f(x_i^{+})}{x_i^{-}-x_i^{+}}$$ $$l_i^{\star}(x) = a_i^{\star}(x-\frac{x_i^{-}+x_i^{+}}{2})+\frac{f(x_i^{-})+f(x_i^{+})}{2} \quad (*)$$</p><p>Consequently, I write the LUC version of uniformally-sampled sequence as $[f_i^{\star}] = [f_1^{\star},f_2^{\star},…] = [l_1^{\star}(x_1),l_2^{\star}(x_2),…]$</p><p>Assume that $f(x)$ is convex in each interval $[x_{i-\Delta i},x_{i+\Delta i}]$ (no need to be convex in the overall definition interval). Then calculate the DTFT for both $[f_i]$ and $[f_i^{\star}]$:<br>$$F(\omega) = {\rm DTFT}[f_i] = \sum_i f_i e^{\sqrt{-1}\omega i} \quad ①$$ $$F^{\star}(\omega) = {\rm DTFT}[f_i^{\star}] = \sum_i f_i^{\star} e^{\sqrt{-1}\omega i} = \sum_i [a_i^{\star}(x_i-\frac{x_i^{-}+x_i^{+}}{2})+\frac{f(x_i^{-})+f(x_i^{+})}{2}] e^{\sqrt{-1}\omega i} \quad ②$$</p><p>According to the convexity assumption, we can apply Lemma 1, which says that $l_i^{\star}(x)=\frac{f(x_{i-\Delta i})-f(x_{i+\Delta i})}{x_{i-\Delta i}-x_{i+\Delta i}} (x-\frac{x_{i-\Delta i}+x_{i+\Delta i}}{2}) + \frac{f(x_{i-\Delta i})+f(x_{i+\Delta i})}{2}$</p><p>Compare this with $(*)$ and we will get $x_i^{-}=x_{i-\Delta i}$ and $x_i^{+}=x_{i+\Delta i}$.</p><p>Plug this conclusion into $②$ and also apply the equality that $x_i = \frac{f(x_{i-\Delta i})+f(x_{i+\Delta i})}{2}$, we will get:<br>$F^{\star}(\omega) = {\rm DTFT}[f_i^{\star}] = \sum_i \frac{f(x_{i-\Delta i})+f(x_{i+\Delta i})}{2} e^{\sqrt{-1}\omega i}$<br>$= \sum_i \frac{f_{i-\Delta i}+f_{i+\Delta i}}{2} e^{\sqrt{-1}\omega i}$<br>$= \frac{1}{2}({\rm DTFT}[f_{i-\Delta i}] + {\rm DTFT}[f_{i+\Delta i}])\quad ③$</p><p>We know that ${\rm DTFT}[f_{i-\Delta i}]=\sum_i f_{i-\Delta i}e^{\sqrt{-1}\omega i}=\sum_i f_{i}e^{\sqrt{-1}\omega (i+\Delta i)}=e^{\sqrt{-1}\omega \Delta i}\sum_i f_{i}e^{\sqrt{-1}\omega i}=e^{\sqrt{-1}\omega \Delta i}{\rm DTFT}[f_{i}]$</p><p>Therefore, $③$ becomes $$F^{\star}(\omega) = {\rm DTFT}[f_i^{\star}] = \frac{1}{2}[e^{\sqrt{-1}\omega \Delta i}+e^{-\sqrt{-1}\omega \Delta i}]F(\omega) = F(\omega){\rm cos}(\omega \Delta i) \quad ④$$</p><p>Finally, we can reach from $④$ that $\vert F^{\star}(\omega) \vert = \vert F(\omega)\vert \vert {\rm cos}(\omega \Delta i)\vert \leq \vert F(\omega)\vert$</p><p>Summing up the discussions above:</p><blockquote><p><font color="Crimson" size="4"><strong>Theorem 1 (smooth effect of convex LUC):</strong></font><font color="DarkRed" size="3"> given $\Delta i &gt; 0$ and bounded $f(x):D\rightarrow R$, sample a sequence $x_i, i=1,2,…$ from $D$, whose corresponding intervals are $[x_{i-\Delta i},x_{i+\Delta i}], i=1,2,…$; the LUC centroids form a sequence $f_i^{\star}=l_i^{\star}(x_i), i=1,2,…$ whose DTFT is $F^{\star}(\omega)$, while the sampled curve becomes $f_i=f(x_i), i=1,2,…$ whose DTFT is $F(\omega)$. Then we have:<br>if $f(x)$ is convex in intervals $[x_{i-\Delta i},x_{i+\Delta i}], i=1,2,…$ separately, then $F^{\star}(\omega)=F(\omega){\rm cos}(\omega \Delta i)$</font></p></blockquote><p>Due to Taylor’s approximation of ${\rm cos}(\omega \Delta i)$: when $\omega$ is near zero, $F^{\star}(\omega)$ is near $F(\omega)$; but when $\omega$ is a little bit far from zero, $F^{\star}(\omega)$ will be dampened. Of course, the choice of $\Delta i$ is also a factor controlling such influence.</p><p>To understand this effect more intuitively, here is an example, in which $\Delta i = 1/2$, and $f(x)$ is convex in every separate interval.</p><p><img src="https://i.loli.net/2020/10/12/HIRO2igyXS7Ms3F.png" alt="LUC_convex_example.png"></p><p>The red line (downsampled results) is more rugged than the green line (LUC centroids), which confers to my previous analysis.</p><h1 id="A-Candidate-set-LUC-Algorithm-for-General-Cases"><a href="#A-Candidate-set-LUC-Algorithm-for-General-Cases" class="headerlink" title="A Candidate-set LUC Algorithm for General Cases"></a>A Candidate-set LUC Algorithm for General Cases</h1><p>In the previous section, we discussed the LUC for a convex segment. More importantly, we proved Lemma 2, which guarentees the existance of solution, and even gives the exact solution: $$a_i^{\star} = \frac{f(x_i^{-})-f(x_i^{+})}{x_i^{-}-x_i^{+}}$$ $$l_i^{\star}(x) = a_i^{\star}(x-\frac{x_i^{-}+x_i^{+}}{2})+\frac{f(x_i^{-})+f(x_i^{+})}{2} \quad (*)$$</p><p>But it did not touch the essencial case of the tile covering a rugged curve whose convexity is ill defined. How to get a more clear mind about the rugged case? My plan is to find candidates in that rugged curve, from which we select two of them as $x_i^{-}$ and $x_i^{+}$ to determine our final result.</p><p>Before delving into this, we look at several examples…</p><h2 id="Intuitive-Examples"><a href="#Intuitive-Examples" class="headerlink" title="Intuitive Examples"></a>Intuitive Examples</h2><p>There are different curves and we will cover each of those with a line.</p><p><img src="https://i.loli.net/2020/10/11/9sZRka3xNpoSD48.png" alt="examples_raw.png"></p><p>Case (c) is a convex, whose solution is that its  $x_i^{-}$ and $x_i^{+}$ are actually the endpoints, which has already been proven.<br>Case (a) and (b) are concave cases, which are intuitively different from the convex case.<br>Case (d),(e) and (f) are rugged cases.<br>Case (g),(h) and (i) are combinitions of convex and concave segments. (h) and (i) has local maxinima, while (g) is monotonic.</p><p>Think for a while about the results…<br>And then, I give my intuitions:</p><p><img src="https://i.loli.net/2020/10/11/mPtEWRMUb7NDukz.png" alt="examples_tentative.png"></p><p>My finding is that: the candidate points (marked in orange) are such typical points:</p><ol><li>The local maximima</li><li>The endpoints $X^l=(x^l,f(x^l))$ and $X^r=(x^r,f(x^r))$</li><li>The curve point $P$ such that the slope of $PX^l$ reaches maximum; the curve point $Q$ such that the slope of $QX^r$ reaches minimum</li></ol><h2 id="Designing-Candidate-Set-Algorithm"><a href="#Designing-Candidate-Set-Algorithm" class="headerlink" title="Designing Candidate-Set Algorithm"></a>Designing Candidate-Set Algorithm</h2><p>My intuition leads to an algorithm to find the candidate points:</p><p>First, deal with the problem of finding local maximima:</p><blockquote><p><font color="Crimson" size="4"><strong>Algorithm 1 (finding local maxima):</strong></font><font color="DarkRed" size="3"> $m=locmax(y)$</font><br>(1-based indexing is used) Given sample squence $y = [y_1,y_2,…,y_k,…,y_K]_{1\times K}$</p><ol><li>initialize a buffer $b = [1,0,…,0,…,0,0]_{1\times (K+1)}$</li><li>initialize the result $m = [0,0,…,0,…,0]_{1\times K}$</li><li>for $k=1,2,…,K-1$:</li><li>$\quad$ $b[k+1] = bool(y[k] \geq y[k+1])$</li><li>for $k=1,2,…,K$:</li><li>$\quad$ $m[k] = b[k]·\overline{b[k+1]}$</li><li>return $m$</li></ol></blockquote><p>Then, deal with the problem of finding $P$ and $Q$:</p><blockquote><p><font color="Crimson" size="4"><strong>Algorithm 2 (finding $P$ and $Q$):</strong></font><font color="DarkRed" size="3"> $k_P,k_Q=findPQ(x,y)$</font><br>(1-based indexing is used) Given sample squence $y_{1:K}$ and its corresponding x-axis $x_{1:K}$</p><ol><li>$p = (y[2:K]-y[1])/(x[2:K]-x[1])$</li><li>$q = (y[1:K-1]-y[K])/(x[1:K-1]-x[K])$</li><li>$k_P = {\rm argmax}_k p[k]$</li><li>$k_Q = 1+{\rm argmin}_k q[k]$</li><li>return $k_P,k_Q$</li></ol></blockquote><p>Next, we reach the algorithm for getting the candidate set:</p><blockquote><p><font color="Crimson" size="4"><strong>Algorithm 3 (finding candidate set):</strong></font><font color="DarkRed" size="3"> $I_c=findCandidate(x,y)$</font><br>(1-based indexing is used) Given sample squence $y_{1:K}$ and its corresponding x-axis $x_{1:K}$</p><ol><li>initialize $I_c = \lbrace 1,K \rbrace$</li><li>$m=locmax(y)$</li><li>$I_m = find(m==1)$</li><li>$k_P,k_Q=findPQ(x,y)$</li><li>$I_c = I_c \cup I_m \cup \lbrace k_P,k_Q \rbrace$</li><li>return $I_c$</li></ol></blockquote><p>Now, take a look at the example (d),(e) and (f) in the last section: as those curves are rugged, the candidate points in $\lbrace (x_{i_c},x_{i_c}): i_c \in I_c \rbrace$ still form a rugged curve. Why not plug those points again into Algorithm 3? Consequently, we get $\hat{I_c}=findCandidate(x[I_c],y[I_c])$, as illustrated in the following figure:<br><span id="candidate_set_algorithm_intuition"> <img src="https://i.loli.net/2020/10/11/RW8vqKDFrm4puBf.png" alt="candidate_algorithm_example.png"> </span></p><p>This leads to the ultimate algorithm:</p><blockquote><p><font color="Crimson" size="4"><strong>Algorithm 4 (finding  the smallest candidate set):</strong></font><font color="DarkRed" size="3"> $I_c=findCandidateSmallest(x,y,N)$</font><br>(1-based indexing is used) Given sample squence $y_{1:K}$ and its corresponding x-axis $x_{1:K}$;<br>$N$ denotes the max iteration times;</p><ol><li>initialize $I_c = \lbrace 1,2,…,K \rbrace, \tilde{I}=I_c, \hat{x} = x[I_c], \hat{y} = y[I_c]$</li><li>for $n$ in $range(N)$:</li><li>$\quad$ $\hat{I_c}=findCandidate(\hat{x},\hat{y})$</li><li>$\quad$ if $\vert \hat{I_c} \vert == \vert I_c \vert$:</li><li>$\quad\quad$ break</li><li>$\quad$ else:</li><li>$\quad\quad$ $I_c=\hat{I_c}$</li><li>$\quad\quad$ $\tilde{I} = \tilde{I}[I_c], \hat{x} = \hat{x}[I_c], \hat{y} = \hat{y}[I_c]$</li><li>return $\tilde{I}$</li></ol></blockquote><p>Finally, we reduce the number of constraints to those indexed by $I_c$.</p><h2 id="Reflections"><a href="#Reflections" class="headerlink" title="Reflections"></a>Reflections</h2><p>Why does the candidate-set algorithm work? Obviously, my intuitive explanations are far from compelling. To develop the following sections and to reconcile the effectiveness of candidat-set algorithm, I need to introduce my hypothesis, which is not proved at this moment:</p><blockquote><p><font color="Crimson" size="4"><strong>Hypothesis 1 (equivalence of candidate-set in terms of LUC):</strong></font><font color="DarkRed" size="3"><br>if the candidate set for bounded $f(x):I_i\rightarrow R$ is $I_{ci}$, then the normal LUC problem reduce to: $$LUC_i:\quad min_{a_i,b_i} \quad l_i(x_i)$$ $$s.t. f(x) \leq l_i(x), \forall x \in I_{ci}$$<br>Or in the language of Lemma 2: $x_i^{-}\in I_{ci}$ and $x_i^{+}\in I_{ci}$</font></p></blockquote><p>In addition, if you are careful enough, you may find that my definition for candidate-set is flawwed: it does not lead to the equivalent result as the normal LUC. This can be proven by <a href="#candidate_set_algorithm_intuition">the figure in the previous section which illustrates the candidate-set algorithm</a>, which provides a counter-example: the ultimate LUC calculated based on the blue points actually violates the LUC constraints based on the initial black curve!<br>Luckily, although this effect sometimes happens, the  LUC results do not seriously change. I am going to demonstrate this in the experiment section.</p><p>Still, I have my solution which can perfectly solve this flawwed-definition problem. The key is: modify the $3^{rd}$ criterion to get a tentative $4^{th}$ criterion:</p><blockquote><ul><li>For type 1 candidate points $X_k = (x_k,f(x_k))$ (which are local maxima), find curve points $P_k = (x_{k}^{+},f(x_{k}^{+})),Q_k = (x_{k}^{-},f(x_{k}^{-}))$ for each $X_k$, such that</li><li>$x_{k}^{+}&gt;x_k$ and the slope of $X_k P_k$ reaches maximum</li><li>$x_{k}^{-}&lt;x_k$ and the slope of $Q_k X_k$ reaches minimum</li></ul></blockquote><p>Consequently, the candidate-set finder algorithm should be modified according to the $4^{th}$ criterion. Fortunatelly, it is quite easy by changing Algorithm 2 and 3 a little bit. After all, I am going summarize all about candidate-set algorithm in the next section.</p><h2 id="Formal-Definition-for-Candidate-set-Algorithm"><a href="#Formal-Definition-for-Candidate-set-Algorithm" class="headerlink" title="Formal Definition for Candidate-set Algorithm"></a>Formal Definition for Candidate-set Algorithm</h2><blockquote><p><font color="Crimson" size="4"><strong>Definition 2 (full definition for candidate set):</strong></font><font color="DarkRed" size="3"> Given bounded $f(x):I\rightarrow R$;the endpoints are $x^l=inf(I),x^r=sup(I)$.<br>Then, the candidate set for $I$ is written as $I_{c}=\lbrace x:x\in I_m, x\in I_{e}, x\in I_{e}^a, x\in I_{m}^a \rbrace$, as defined by the following 4 criteria:</font></p><ol><li><font color="DarkRed" size="3">$I_m = \lbrace x: x\in I \quad AND \quad \exists \delta &gt;0 \quad s.t.\quad f(x)\geq f(x+\epsilon), \forall \vert \epsilon \vert &lt; \delta \rbrace$, named “Maxima Set”</font></li><li><font color="DarkRed" size="3">$I_{e} = \lbrace x^l,x^r \rbrace$, named “Endpoints”</font></li><li><font color="DarkRed" size="3">$I_{e}^a = \lbrace \arg\max_{x\in I} \frac{f(x)-f(x^l)}{x-x^l},\arg\min_{x\in I} \frac{f(x)-f(x^r)}{x-x^r} \rbrace$, named “Endpoint Accompany Set”</font></li><li><font color="DarkRed" size="3">$I_{m}^a = \lbrace \arg\max_{x\in I,x&gt;x_m} \frac{f(x)-f(x_m)}{x-x_m}, \forall x_m\in I_m \rbrace \cup \lbrace \arg\min_{x\in I,x&lt;x_m} \frac{f(x)-f(x_m)}{x-x_m}, \forall x\in I_m \rbrace$, named “Accompany Set”</font></li></ol></blockquote><p>As described, I need to modify the Algorithm 2 and 3 a little here:</p><blockquote><p><font color="Crimson" size="4"><strong>Algorithm 2.2 (finding the accompany set):</strong></font><font color="DarkRed" size="3"> $I_m^a=findAccompany(x,y,I_m)$</font><br>(1-based indexing is used) Given sample squence $y_{1:K}$, its corresponding x-axis $x_{1:K}$ and its maxima index set $I_m$</p><ol><li>Initialize $I_m^a = \emptyset$</li><li>for $k_m$ in $I_m$:</li><li>$\quad I^{-} = [1:(k_m-1)], I^{+} = [(k_m+1):K]$</li><li>$\quad a^{+} = (y[k_m]-y[I^{+}])/(x[k_m]-x[I^{+}])$</li><li>$\quad a^{-} = (y[k_m]-y[I^{-}])/(x[k_m]-x[I^{-}])$</li><li>$\quad k^{a+} = I^{+}[\arg\max_{k}a^{+}[k]]$</li><li>$\quad k^{a-} = I^{-}[\arg\min_{k}a^{-}[k]]$</li><li>$\quad I_m^a = I_m^a \cup \lbrace k^{a+},k^{a-} \rbrace $</li><li>return $I_m^a$</li></ol></blockquote><blockquote><p><font color="Crimson" size="4"><strong>Algorithm 3.2 (finding  the full candidate set):</strong></font><font color="DarkRed" size="3"> $I_c=findCandidate(x,y)$</font><br>(1-based indexing is used) Given sample squence $y_{1:K}$ and its corresponding x-axis $x_{1:K}$</p><ol><li>initialize $I_c = \lbrace 1,K \rbrace$</li><li>$m=locmax(y)$</li><li>$I_m = find(m==1)$</li><li>$k_P,k_Q=findPQ(x,y)$</li><li>$I_m^a=findAccompany(x,y,I_m)$</li><li>$I_c = I_c \cup I_m \cup \lbrace k_P,k_Q \rbrace \cup I_m^a$</li><li>return $I_c$</li></ol></blockquote><h2 id="Stepping-Further-is-it-OK-to-Leave-Out-Linear-Programming"><a href="#Stepping-Further-is-it-OK-to-Leave-Out-Linear-Programming" class="headerlink" title="Stepping Further: is it OK to Leave Out Linear Programming?"></a>Stepping Further: is it OK to Leave Out Linear Programming?</h2><p>Under Hypothesis 1, there seems no need to bother calling linear programming in order to get $l_i^{\star}$: as the candidate set is small, we can just search infinite-many pairs in order to locate $x_i^{-}$ and $x_i^{+}$.<br>This motivates me to think about accompany pairs. What is an accompany pair? Well, I define it as follows:</p><blockquote><p><font color="Crimson" size="4"><strong>Definition 3 (accompany pair and accompany pair set):</strong></font><font color="DarkRed" size="3"> Given bounded $f(x):I\rightarrow R$; the endpoints are $x^l=inf(I),x^r=sup(I)$; the maxima set is $I_m$.<br>Then, an accompany pair is such a tuple $p_m = (x_m,x_m^a)$, where:</font></p><ol><li><font color="DarkRed" size="3">$x_m \in I_m \cup \lbrace  x^l,x^r\rbrace$</font>;</li><li><font color="DarkRed" size="3">$x_m^a = \arg\max_{x\in I,x&gt;x_m} \frac{f(x)-f(x_m)}{x-x_m}$ or $x_m^a = \arg\min_{x\in I,x&lt;x_m} \frac{f(x)-f(x_m)}{x-x_m}$</font><br><font color="DarkRed" size="3">Correspondingly, if $x&gt;x_m^a$, then we can also write this pair as $p_m^{-} = (x_m,x^{a-}_m)$, which is called the left-side accompany pair; if $x&lt;x_m^a$, then we can also write this pair as $p_m^{+} = (x_m,x^{a+}_m)$, which is called the right-side accompany pair.<br>The set of all accompany pairs is written as $P^a(f,I)$, or just $P^a$</font></li></ol></blockquote><p>Easy to know that $x^l$ has no left-side accompany pair, and $x^r$ has no righy-side accompany pair. If there are $M$ elements in $I_m$, then the number of accompany pair is no greater than $2M+2$.</p><p>Lastly, as each accompany pair can determine a linear function, there must exist the best pairs in terms of LUC objective function. Let’s define the best accompany pair step-by-step:</p><blockquote><p><font color="Crimson" size="4"><strong>Definition 4 (linear accompany function):</strong></font><font color="DarkRed" size="3"> Given bounded $f(x):I\rightarrow R$; the accompany pair set is $P^a$.<br>Then, for each accompany pair $p=(x_m,x_m^a)\in P^a$, define its linear accompany function as $l_{p_m}(x)=\frac{f(x_m^a)-f(x_m)}{x_m^a-x_m}(x-x_m)+f(x_m), x\in I$.<br></font><br><font color="Crimson" size="4"><strong>Definition 5 (feasible accompany pairs and their set):</strong></font><font color="DarkRed" size="3"> Given bounded $f(x):I\rightarrow R$;  the maxima set is $I_m$; the accompany pair set is $P^a$.<br>Then, an accompany pair $p\in P^a$ is feasible i.i.f $l_p(x)\geq f(x), \forall x\in I_m \cup \lbrace x^l,x^r \rbrace$<br>Correspondingly, all feasible accompay pairs consist of the feasible accompany pair set, written as $P^{a_f}$<br></font><br><font color="Crimson" size="4"><strong>Definition 6 (best accompany pair):</strong></font><font color="DarkRed" size="3"> Given bounded $f(x):I\rightarrow R$; the endpoints are $x^l=inf(I),x^r=sup(I)$; the maxima set is $I_m$; the  feasible accompany pair set is $P^{a_f}$.<br>Then, the best accompany pair $p^{\star}$ is defined as $p^{\star}=\arg\min_{p\in P^{a_f}}\quad l_p (\frac{1}{2} (x^l+x^r))$<br></font></p></blockquote><p>Equipped with concepts of accompany pairs, I introduce another hypothesis, which is a vital hint for my next steps.</p><blockquote><p><font color="Crimson" size="4"><strong>Hypothesis 2 (at least one accompany pair is a zero-slackness pair):</strong></font><font color="DarkRed" size="3"><br>Given $f(x):I_i\rightarrow R$ whose feasible accompany pair set is $P_i^{a_f}$; then, there is at least one accompany pair ${x_i^{-},x_i^{+}}\in P_i^{a_f}, s.t.\quad l_i^{\star}(x_i^{-})=f(x_i^{-}),l_i^{\star}(x_i^{+})=f(x_i^{+})$, where $l_i^{\star}$ is the optimum LUC in interval $I_i$ for $f(x)$.</font></p></blockquote><p>The definitions regarding accompamy pair and Hypothesis 2 are actually paving the way to describe the following algorithm, which I expect to be equivalent to the LP based LUC:</p><blockquote><p><font color="Crimson" size="4"><strong>Algorithm 5 (LUCA: finding the best accompany pair):</strong></font><font color="DarkRed" size="3"> $p^{\star}=LUCBestAccompany(x,y)$</font><br>(1-based indexing is used) Given sample squence $y_{1:K}$ and its corresponding x-axis $x_{1:K}$.</p><ol><li>Initialize $P^{a} = \emptyset, y^{\star}=+\infty, x^c = \frac{1}{2} (x[1]+x[K])$</li><li>$m=locmax(y)$</li><li>$I_m = find(m==1)$</li><li>$k_P,k_Q=findPQ(x,y)$</li><li>$P^{a} = P^{a}\cup \lbrace (1,k_P),(K,k_Q) \rbrace$</li><li>for $k_m$ in $I_m$:</li><li>$\quad I^{-} = [1:(k_m-1)], I^{+} = [(k_m+1):K]$</li><li>$\quad a^{+} = (y[k_m]-y[I^{+}])/(x[k_m]-x[I^{+}])$</li><li>$\quad a^{-} = (y[k_m]-y[I^{-}])/(x[k_m]-x[I^{-}])$</li><li>$\quad k^{a+} = I^{+}[\arg\max_{k}a_k^{+}]$</li><li>$\quad k^{a-} = I^{-}[\arg\min_{k}a_k^{-}]$</li><li>$\quad P^{a} = P^{a}\cup \lbrace (k_m,k^{a+}),(k_m,k^{a-}) \rbrace$</li><li>$y_m = y[I_m], x_m = x[I_m]$</li><li>for $(k,k^a)$ in $P^{a}$:</li><li>$\quad y^c = \frac{y[k^a]-y[k]}{x[k^a]-x[k]}(x^c-x[k])+y[k]$</li><li>$\quad \hat{y_m} = \frac{y[k^a]-y[k]}{x[k^a]-x[k]}(x_m-x[k])+y[k]$</li><li>$\quad$if $y^c&lt;y^{\star}$ and $\hat{y_m}\geq y_m$:</li><li>$\quad\quad y^{\star} = y^c$</li><li>$\quad\quad p^{\star} = (k,k^a)$</li><li>return $p^{\star}$</li></ol></blockquote><p>See? the result $p^{\star}$ is actually the final decision!<br>Even so, it is still unsolved in terms of judging if LUCA is equivalent with the normal LUC, or verifying Hypothesis 2.</p><h2 id="Unsolved-Problems-and-My-Orintations"><a href="#Unsolved-Problems-and-My-Orintations" class="headerlink" title="Unsolved Problems and My Orintations"></a>Unsolved Problems and My Orintations</h2><p>To finishing the discussions, I have to recapitulate several unexplained phenomena or unjustified hypothesis:</p><ol><li>to prove that the general case LUC (not restricted to convexity) has smooth effects.</li><li>to verify or deny Hypothesis 1 and 2</li><li>to explain the phenomenon “no matter how rugged $f(x)$ is in interval $I$, once covered with LUC, the rug-details will vanish”</li><li>to invent a 2-D version of LUC, or even multi-dimension version</li></ol><ul><li>In terms of task 1, I have an idea (although not strictly proved): because we can get candidate sets $I_{ci},i=1,2…$ according to Algorithm 3.2, we can construct a new function $f_c(x),x\in \cup_i I_{ci}$. Take $f_c(x)$ as $f(x)$ and consider convexity again!<blockquote><p><font color="Crimson" size="4"><strong>Lemma 3 (candidate reconstruction):</strong></font><font color="DarkRed" size="3"> if $f:[x^l,x^r]\rightarrow \pmb{R}$ has LUC solution $l^{\star}(x)$, and the equation $l^{\star}(x)=f(x),x\in I$ has solutions $x_n^s,n=1,2,…,N$ then:<br>there exists function $f_c(x)$ such that</font>:</p><ol><li><font color="DarkRed" size="3">$f(x)&lt;f_c(x)\leq l^{\star}(x), \forall x\in I-\lbrace x_n^s,n=1,2,…,N \rbrace$</font></li><li><font color="DarkRed" size="3">$f_c(x)$ is convex respectively in $[x^l,x_1^s],[x_1^s,x_2^s],…,[x_N^s,x^{r}]$</font></li></ol></blockquote></li></ul><p><font color="Gray" size="3"><strong>Proof:</strong><br>For any interval $[x_i^s,x_{i+1}^s]$:<br>① if $f(x)$ is convex in $[x_i^s,x_{i+1}^s]$: set $f_c(x)=\frac{1}{2}(l^{\star}(x)+f(x))$ in this interval, which confers to the conditions;<br>② if $f(x)$ is not convex in $[x_i^s,x_{i+1}^s]$: set $f_c(x)=l^{\star}(x)$ in this interval, which confers to the conditions. □<br></font></p><p>After reconstruction using Lemma 3, we get $f_c(x)$, which is a concave version of $f(x)$ and is somehow like the case in Lemma 1, although the intervals are not equally partitioned. This intuition gives us a hint that even though the curve $f(x)$ is rugged, the smooth effects may still be similar to the convex case in Lemma 1 (although not exactly the same). Then, it is easy to see that $f_c(x)$ is smoother than $f(x)$ because of down-sampling. Therefore, as $l^{\star}(x)$ is smoother than $f_c(x)$ and $f_c(x)$ is smoother than $f(x)$, $l^{\star}(x)$ has smooth effects on $f(x)$, and even better than a mere down-sampling.</p><ul><li>In terms of task 2, I think we have to consider all convexity and corresponding behaviour regarding the candidate pairs… To do task 2, we have to think about the relationship with Lemma 2 and (Definition 2,3,4,5 and Algorithm 2.2,3.2,5).<br>I think a conclusion may be of help: (I am not going to utilize this Lemma to solve task 2. I merely think that this conclusion is beautiful and may be of help, therefore I put it here with proof.)<blockquote><p><font color="Crimson" size="4"><strong>Lemma 4 (LUC for concave function):</strong></font><font color="DarkRed" size="3"> if $f:[x^l,x^r]\rightarrow \pmb{R}$ is concave in $I=[x^l,x^r]$, then the optimum LUC function $l^{\star}(x),x\in I$ becomes one of the tangents of $f(x)$ at $x^l$ or $x^r$</font></p></blockquote></li></ul><p><font color="Gray" size="3"><strong>Proof:</strong><br>① first prove that $l^{\star}(x)$ must be tangent to $f(x)$ in interval $I$.<br>Assume that $l^{\star}(x)$ is not tangent to $f(x)$ in $I$, which indicates that equition $l^{\star}(x)=f(x)$ has two different solutions $x^{-}$ and $x^{+}$ where $x^{-}&lt;x^{+}$. Then, for each $x\in (x^{-},x^{+})$, there exists $0&lt;\lambda&lt;1$ such that $x=(1-\lambda) x^{-} + \lambda x^{+}$, and then $f(x)=f((1-\lambda) x^{-} + \lambda x^{+})&gt;(1-\lambda) f(x^{-}) + \lambda f(x^{+})=(1-\lambda) l^{\star}(x^{-}) + \lambda l^{\star}(x^{+})=l^{\star}((1-\lambda) x^{-} + \lambda x^{+})$, which violates the LUC constraints.<br>② then prove that $l^{\star}(x)$ is tangent to $f(x)$ at $x^l$ or $x^r$.<br>Let $l^{\star}(x)=f’(x_0)(x-x_0)+f(x_0)$, therefore the LUC min objective function $obj(x_0)=l^{\star}(\frac{1}{2}(x^l+x^r))=f’(x_0)(\frac{1}{2}(x^l+x^r)-x_0)+f(x_0)$.<br>Take the first derivative of $obj(x_0)$ and get $obj’(x_0)=f’’(x_0)(\frac{1}{2}(x^l+x^r)-x_0)$. When $obj’(x_0)=0$, then $x_0=(\frac{1}{2}(x^l+x^r)$. Unfortunately, when we take the second derivative of $obj(x_0)$ and get $obj’’(x_0)=f’’’(x_0)(\frac{1}{2}(x^l+x^r)-x_0)-f’’(x_0)$, we find that $obj’’(\frac{1}{2}(x^l+x^r))&lt;0$, which indicates that $obj(x_0)$ reaches the maxima at $\frac{1}{2}(x^l+x^r)$. But we want the minima.<br>Luckily, we find that $obj’(x_0)$ is monotonically increasing in $I^l=[x^l,\frac{1}{2}(x^l+x^r)]$ and monotonically decreasing in $I^r=[\frac{1}{2}(x^l+x^r),x^r]$. Therefore, $obj(x^l)&lt;obj(x), x\in I^l$ and $obj(x^r)&lt;obj(x), x\in I^r$. Therefore, we can just compare $obj(x^l)$ and $obj(x^r)$ in order to determine whether the final $l^{\star}(x)$ locates at $x_l$ or $x_r$.<br>③ finally give the condition for whether $x^l$ or $x^r$ is the tangent point.<br>Solve the inequality $obj(x^r)&gt;obj(x^l)$ and we shall get $\frac{f(x^r)-f(x^l)}{x^r-x^l}&gt;\frac{1}{2}[f’(x^r)+f’(x^l)]$. If this equality holds true, we choose $x^l$ as the tangent point; otherwise, we choose $x^r$. □<br></font></p><ul><li><p>In terms of task 3, it is OK to regard LUC a low-pass filter. But even if LUC coverage is relatively smooth, it still has infinite frequency components, for it is not perfectly sinusioid. As a result, the tool of Fourier Analysis may not be enough to explain the phenomenon that “LUC ignores the rugged surface, no matter how rugged the surface is”. I think the potintial explanation should be based on candidate sets.</p></li><li><p>In terms of task 4, my intuition is to segment the definition set into elment cells. Correspondingly, the function is a 2-D manifold in 3-D space. The 2-D LUC task is to cover the manifold with a linear plate, which is definited within each cell.<br>My intuition tells me that Lemma 2 still holds true for the multi-dimension versions. However, it may not be easy to find the centroids of each element cell, therefore making the statements regarding “element cell division” complicated. One example is that there no longer exists “endpoints” in the 2-D case, but margins instead. Also, the convexivity is more complexed.</p></li></ul><h1 id="Implementation-and-Experiments"><a href="#Implementation-and-Experiments" class="headerlink" title="Implementation and Experiments"></a>Implementation and Experiments</h1><p>Finally, I am going to show you the effectiveness of LUC. I am going to show two examples: one is about LUC applied to a hand-crafted curve, and another is about LUC applied to audio CQT spectrograms. In those examples, time consumptions and comparisons are included. Several challenges subsequently emerge. In this section, I will introduce those experiments and detailed problems.</p><h2 id="Experiment-1-Handcrafted-Noisy-Wave"><a href="#Experiment-1-Handcrafted-Noisy-Wave" class="headerlink" title="Experiment 1: Handcrafted Noisy Wave"></a>Experiment 1: Handcrafted Noisy Wave</h2><p>In this example, the function $f(x):D\rightarrow \pmb{R}$ is designed as: $f(x)=10\sin (0.1x)+\cos (4x) + \mathcal{N}(0,2^2), x\in [0,200]$, where $\mathcal{N}(\mu,\sigma^2)$ represents Gaussian Noise parameterized by mean $\mu$ and std $\sigma$. This curve is shown in the following figure:<img src="https://i.loli.net/2020/10/14/rN4X5VSZJmUWaIB.png" alt="exp_curve_original1.png"><br>(a) is the whole plot, and (b) zooms in $[0,20]$.<br>For simplication, I use sample rate $1$ to sample interval $[0,200]$, forming $\pmb{x} = x[0],x[2],…,x[199]$. Notice that in this section, Python-styled $0-based$ indexing is used, for easy link with codes.</p><h3 id="Configurations"><a href="#Configurations" class="headerlink" title="Configurations"></a>Configurations</h3><p>Before implementing the algorithms, the whole problem still needs more specific definition: what is the hop length and the interval size?<br>When I am talking about hop length, I assumed that the sampling strategy is equal-stepped. In the this experiment, data points are equally sampled.<br>If we denote hop length as $\Delta_h i$ and interval size as $\Delta_I$, and each index interval as $I_i$, then: $I_i[0]+\Delta_h=I_{i+1}[0]$ and $I_i[-1]-I_i[0]=\Delta_I$. For example, the first index interval is $I_0 =[0,1,…,\Delta_I - 1] = [0:0+\Delta_I]$, the second index interval is $I_1 = [\Delta_h:\Delta_h+\Delta_I]$, and the third index interval is $I_2 = [2\Delta_h:2\Delta_h+\Delta_I]$, and so forth.</p><p>Because we can use a for-loop to implement LUC for each interval, let’s just focus on implementing LUC in one interval. When it comes to one interval, then its LP, candidate set and candidate pairs come into use. In this experiment, I compared four algorithms, which are:</p><ol><li>(LP-based) normal LUC algorithm, as introduced by Definition 1</li><li>(LP-based) (non-full) candidate-set algorithm</li><li>(LP-based) full candidate-set algorithm</li><li>accompany-pair algorithm</li></ol><p>I used SciPy to implement LP-based methods by calling <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.linprog.html" target="_blank" rel="noopener">the scipy linprog method</a>.<br>One of the problems is to translate the LUC problem into the standard LP problem. The proof for Lemma 2 has already shown how to achieve this.<br>Another problem is to choose a proper method for LP solution. I tried different methods and concluded that the revised simplex method is most efficient.</p><p>For (non-full) candidate-set algorithm, I applied Algorithm 1,2,3,4 to find the candidate set, and then use LP (whose constraints are based on the candidate set) to find the solutions.</p><p>The full-candidate-set algorithm modifies the candidate-set algorithm by replacing Algorithm 3 with Algorithm 3.2.</p><p>For the accompany-pair algorithm, I apply Algorithm 5 only, which takes the role of LP.</p><h3 id="LUC-Results"><a href="#LUC-Results" class="headerlink" title="LUC Results"></a>LUC Results</h3><p>In this experiment, I set $\Delta_h = 10$ and $\Delta_I = 10$.</p><p>First I extract the first two intervals and do LUC for them. Here is the result: <img src="https://i.loli.net/2020/10/14/Rfe92bHUBSqoI5X.png" alt="exp_verify_lemma2.png"><font color="Gray" size="3">The yellow lines indicate candidate-sets, while the red lines indicate the original curve.</font></p><p>Those results verify the correctness of Lemma 2 by showing that at least two zero-slackness constraints are reached. They also show that applying full definition of candidate set does not lead to seriously different results compared with the results obtained by the non-full definition.</p><p>Then, I test the whole curve, which is shown in the following figure:<img src="https://i.loli.net/2020/10/14/7PZFAXfUTQr3gDm.png" alt="exp_LUC_all_methods.png"><font color="Gray" size="3">The green-star marks indicate local maxima of the centroid sequence, which are marked mostly by blue marks.</font></p><p>From the whole-curve result we can see several phenomena:</p><ol><li>The accompany-pair algorithm result is the same as the normal-LP algorithm result and the candidate-set-full algorithm result.</li><li>There are slight differences between results of the candidate-set-full algorithm and non-full candidate-set algorithm.</li><li>Peaks are correctly detected regardless of serious noise.</li></ol><p>Phenomenon 1 verifies my Hypothesis 1 and 2, because the candidate-set-full algorithm and the accompany-pair algorithm is grounded on Hypothesis 1 and 2.<br>Phenomenon 2 gives us a hint that we can change candidate-set-full algorithm into non-full candidate-set algorithm without losing much accuracy. In the next section I will compare the time consumption between those two algorithms.<br>Phenomenon 3 verifies the effectiveness of LUC algorithm: after smoothed by LUC, it is OK to directly apply the strict $locmax$ function to the centroid serie and get the desired peaks.</p><p>Next, I will compare each algorithm more deeply regarding their time cost and correctness.</p><h3 id="Time-Consumption"><a href="#Time-Consumption" class="headerlink" title="Time Consumption"></a>Time Consumption</h3><p>For each algorithm, I adjusted interval size $\Delta_I$ and LP methods (except accompany-pair algorithm). I used Monte-Carlo method to reduce the variation of time cost estimation. In this test, I run each case for 100 times. Results are shown in the following figure:<br><img src="https://i.loli.net/2020/10/15/aBU3SZX4i7jsImD.png" alt="exp_time_cost.png"><font color="Gray" size="3">Time cost experiment results.</font></p><p>This experiment is done by my old laptop, whose CPU is an Intel CORE i5.<br>From the results, we can observe that:</p><ol><li>The most efficient algorithm is the accompany-pair algorithm, whose time cost is much lower than the others</li><li>Candidate-set algorithm did reduce time cost compaired with normal algorithm, when the simplex-family LP methods are used. However, in when interior-point LP method is used, the candidate-set algorithm will be a little bit slower than normal algorithm.</li><li>The revised simplex LP method is most efficient, while the original simplex LP method is least efficient.</li><li>The full-candidate-set algorithm does not increase time cost too much compared with the non-full-candidate-set algorithm. Still, non-full-candidate-set algorithm is faster.</li><li>The candidate-set algorithms show an interesting trend regarding $\Delta_I$: when $\Delta_I$ increases, time cost do not increase, but even decrease. This may be because that candidate-set filered out most irrelevant constraints and therefore there are less constraints left for LP.</li></ol><h3 id="Influence-of-SNR-and-SIR-on-LUC-Accuracy"><a href="#Influence-of-SNR-and-SIR-on-LUC-Accuracy" class="headerlink" title="Influence of SNR and SIR on LUC Accuracy"></a>Influence of SNR and SIR on LUC Accuracy</h3><h3 id="Influence-of-Interval-Partition-on-LUC-Accuracy"><a href="#Influence-of-Interval-Partition-on-LUC-Accuracy" class="headerlink" title="Influence of Interval Partition on LUC Accuracy"></a>Influence of Interval Partition on LUC Accuracy</h3><h3 id="High-order-LUC"><a href="#High-order-LUC" class="headerlink" title="High-order LUC"></a>High-order LUC</h3><p>It is not a must to apply $locmax$ directly after LUC. Insteac, we can do another LUC after LUC, which can be called as 2-order LUC. An example is shown in the following figure:<br><img src="https://i.loli.net/2020/10/16/vfdNsP1DglLuMjn.png" alt="exp_2-order_LUC_example.png"></p><p>The first LUC, namely first-order LUC, adopts $\Delta_{h1}=1$ and $\Delta_{I1}=10$. This smoothifies the original curve, as shown in (a). The second-order LUC adopts $\Delta_{h2}=5$ and $\Delta_{I2}=10$, and then we get the correct peaks.</p><p>Notice that LUC is good at finding peaks with proper x-axis span. For example, in the figure above, the  index width of each peak is around 20; when $\Delta_{h2}=5$, it is prone to find those peaks because 5 is around the same scale as 20, no matter how low those peaks are; when $\Delta_{h1}=1$, however, it is easier to find peaks of shorter x-axis span.</p><h2 id="Experiment-2-LUC-on-Spectrograms"><a href="#Experiment-2-LUC-on-Spectrograms" class="headerlink" title="Experiment 2: LUC on Spectrograms"></a>Experiment 2: LUC on Spectrograms</h2><p>To demonstrate the potentials of LUC on audio analysis, I did another experiment, in which I applied LUC to find peaks in spectrograms.<br>A spectrogram consists of time-variant spectrums. Those spectrums may be FFT, CQT or mel-spectra etc. Normally, we use color to demonstrate the intensity at each time-frequency. An example of CQT spectrogram is shown as following:<br><img src="https://i.loli.net/2020/10/16/NKvDqsXBnyi6ATE.png" alt="exp2_spectrogram.png"></p><p>If those CQT stuff do not make sense to you, no need to worry. Just remember that our task is to find the peaks (bright stripes) in that spectrogram, ignoring noisy points.</p><h3 id="Dealing-with-low-hight-peaks"><a href="#Dealing-with-low-hight-peaks" class="headerlink" title="Dealing with low-hight peaks"></a>Dealing with low-hight peaks</h3><p>Sometimes, we do not want our model to detect low peaks, althought those peaks are wide enough. This leads to a problem: what exactly is our definition on a desired peak? On the one hand, we want a desired peak to be wide enough (otherwise, it is a fake peak); on the other hand, we want to ignore the peaks which are too low compared with the higher peaks. The first condition can be guarenteed by LUC, but LUC does not provide solution to meet the second condition. An example is shown in the following figure:<br><img src="https://i.loli.net/2020/10/16/whfAVBuby3qlC4x.png" alt="exp_2_low_peak_problem.png"></p><p>Therefore, we have to come up with a new way to discriminate those low peaks from high peaks. My solution is to weight the peaks with salience.</p><p>If a spectrogram $\pmb{S}=[s_{ft}]<em>{F\times T}$ is inputted to a 1-order LUC, I hope my model can output a peak-weight map $\pmb{W}=[w</em>{it}]_{L\times T}$. The relationship between $\pmb{S}$ and $\pmb{W}$ is as such:</p><ol><li>If hop length is $\Delta_h$ and interval size is $\Delta_I$, then $L=floor(\frac{F+\Delta_h-\Delta_I}{\Delta_h})$</li><li>$w_{i}$ refers to the weights at the $i^{th}$ interval centroid.</li></ol><h2 id="Experiment-3-Comparing-LUC-with-Existing-Smoothing-Methods"><a href="#Experiment-3-Comparing-LUC-with-Existing-Smoothing-Methods" class="headerlink" title="Experiment 3: Comparing LUC with Existing Smoothing Methods"></a>Experiment 3: Comparing LUC with Existing Smoothing Methods</h2><p>There are all kinds of existing smoothing methods, among which the most common ones include: low-pass filtering, kernel smoothing, moving average smoothing and local regression.</p><p>In order to fairly compare those methods, I use the same pipeline: signal → smoothing (to be tested) → locmax.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;div id=&quot;content&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default&quot;&gt;&lt;/script&gt;

&lt;h1 id=&quot;Intro&quot;&gt;&lt;a href=&quot;#Intro&quot; class=&quot;headerlink&quot; title=&quot;Intro&quot;&gt;&lt;/a&gt;Intro&lt;/h1&gt;&lt;p&gt;I came up with this idea on October 9th, 2020, when I was considering how to find the overtone peaks in a spectrogram. I happened to be playing LIMBO the previous day, and that inspired me to come up with my idea regarding Linear-upper-coverage (LUC), which converts the peak finding problem into linear optimization subtasks.&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="math" scheme="https://lucainiaoge.github.io.git/tags/math/"/>
    
  </entry>
  
  <entry>
    <title>My Music Thoughts</title>
    <link href="https://lucainiaoge.github.io.git/2020/09/03/my-music-thoughts/"/>
    <id>https://lucainiaoge.github.io.git/2020/09/03/my-music-thoughts/</id>
    <published>2020-09-02T16:00:00.000Z</published>
    <updated>2020-09-04T11:24:18.534Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><div id="content"></div><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>This article summarizes my understandings on music composing and appreciation.<a id="more"></a>If you have something to add, or if you simply disagree with me, feel free to comment below!<h1 id="Starting-from-Sample-Space"><a href="#Starting-from-Sample-Space" class="headerlink" title="Starting from Sample Space"></a>Starting from Sample Space</h1><p>What is the music sample space? The largest (whole) music sample space is the set of all possible combinitions of musical elements. Actually, the whole musical set is far too large. Great composers can extract the exact subsets which are good compositions.</p><p>When composing music, we try to <strong>reduce our sample space</strong>, or <strong>eliminate the uncertainty in our mind</strong>. This process is like <strong>finding a winding path towards a beautiful hidden corner</strong>. For example, <em>theory of harmony</em> tells us what kind of chords are recommended to be used in certain <em>musical contexts</em>, and this reduces the <em>chord sample space</em> to a few so-called <em>consonant chords</em>.</p><p>Now, we may ask: what is the property of those good subsets, and how to reach them? Well, a musician can write a thousand-paged essay to explain that, maybe from the point of view of melody, harmony, counterpoint and music structures… I am not going to expand those topics here. </p><p>Instead, if we are inspired by information theory, we can find the commonplace of good musical works: they bring something unexpected. Those unexpected can be good melodies, satisfying chord prograssions or impressing performance skills etc.</p><p>This may be a little hard to understand. I will explain this “unexpectation theory” in the next section.</p><h1 id="Music-Appreciation-from-Information-Theory’s-Perspective"><a href="#Music-Appreciation-from-Information-Theory’s-Perspective" class="headerlink" title="Music Appreciation: from Information Theory’s Perspective"></a>Music Appreciation: from Information Theory’s Perspective</h1><h2 id="Appreciation-Eliminate-the-Uncertainty"><a href="#Appreciation-Eliminate-the-Uncertainty" class="headerlink" title="Appreciation = Eliminate the Uncertainty"></a>Appreciation = Eliminate the Uncertainty</h2><p>Appreciating music is like travelling: we aim to encounter the unknown world. From my point of view (and also an information theoretrical point of view), appreciation is centered in acquiring knowledge, eliminating uncertainty, or adding up regularity. (And no matter what we appreciate, like music, sculptures, maths etc.) </p><p>Therefore, just like famous attractions have some landmarks which can “surprise” the tourists (e.g. the spectacular landscape of Yello Stone Park which tourists had never experienced on the scene), musical works should contain something out of listeners’ expectations. This is the intuition from information theory, which defines information as the existance to eliminate uncertainty.</p><p>When appreciating music, we try to <strong>cumulate more information</strong> by decoding the music signal. Again, in information theory’s point of view, we are <strong>eliminating the uncertainty of the world</strong>. Our validation music sample space is then enlarged.</p><h2 id="Why-Listening-to-a-Music-Segment-Again-and-Again"><a href="#Why-Listening-to-a-Music-Segment-Again-and-Again" class="headerlink" title="Why Listening to a Music Segment Again and Again"></a>Why Listening to a Music Segment Again and Again</h2><p>You may be curious about the case that we may listen to a piece of music again and again, enjoying an impressing music moment for many times even if we are familiar with that moment. Why are we so keen on the moment which seemingly cannot surprise us? Well… I explain this with our limited capacity of music decoding.</p><p>Remember one of the music pieces which did not impress you when you first hear, but later when you happened to listen to it again, and then it captivated you. You may have listened to a music segment in that piece over and over again, and each time you listened to that piece, you expected to reach that segment. This was because, when you first listened to that music, you did not successfully decode the music signal into exciting information. Later when your decoder worked better, you captured the moment that important information was decipherd, and you wanted to emphasize that moment over and over again until you could easily decipher the similar information.</p><p>You appreciation skills are improved during this process!</p><p>Then comes the question: how to evaluate “appreciation skills”?</p><h2 id="Our-Appreciation-Skills-Need-Training"><a href="#Our-Appreciation-Skills-Need-Training" class="headerlink" title="Our Appreciation Skills Need Training"></a>Our Appreciation Skills Need Training</h2><p>Different people are sensitive on different things, and this is because of the diversity in their capacities of (music) decoders. For example, many listeners cannot be moved by atonal music because they focus on the jarring sound and cannot acquire artistic information which is impressive to musicians, who may be impressed by the organization of the piece or fantastic chord tensions. This is similar to: illiterate people cannot appreciate the beauty of Euler’s $e^{i\pi}+1=0$ because they do not know the prior knowledge associated with this formula.</p><p>Again, our appreciation skills are in fact the capacity of our decoders.</p><p>How to train those skills? First, we need training data. The key is trying to appreciate unfamiliar music and look for the surprising moments, which is like visiting an unknown place on your own. Another choice is to check music reviews (some of which are logs of the beautiful moments of a music piece), and this process is similar to visiting an attraction with a tour guide.</p><p>Of course, even if we are well-trained to appreciate music, we cannot despise the music we have already familar with. After all, we upgraded out decoder system thanks to them. And more importantly, there may remain something we did not discover in the music even if we think we are well familiar with.</p><h1 id="How-About-Music-Composing"><a href="#How-About-Music-Composing" class="headerlink" title="How About Music Composing"></a>How About Music Composing</h1><p>We have established the point that listeners are to be surprised when appreciating music. Therefore, composers have to <strong>surprise the listeners</strong> in order to create impressing works.</p><p>What does <strong>surprising the listeners</strong> mean? This is not necessarily mean that they have to use “$\pmb{pppp} \rightarrow \pmb{ffff}$” to startle the listeners. This is to say that they have to <strong>convey important information which is out of listeners’ expectations</strong>, just as we have already discussed.</p><h2 id="The-Case-of-Pop-Music"><a href="#The-Case-of-Pop-Music" class="headerlink" title="The Case of Pop Music"></a>The Case of Pop Music</h2><p>For listeners who did not receive a lot of appreciation training, a fairly normal chord progression could grasp their attentions and make them feel surprised and happy. Hence, most pop music composers achieve this by applying easy-listening chord progressions and music structures to their music, and they focus on writing “surprising” melodies, which are normally easy to appreciate.</p><p>In this case, the music sample space of the composer may be greatly larger than listeners. Composers should find the music samples at the edge of listeners’ music sample spaces, and this is enough to entertain listeners.</p><p>The intersection of the music sample spaces of most people form the set of universal pop music. What about the rest (which may be a lot larger)?</p><h2 id="The-Case-of-All-Kinds-of-Music"><a href="#The-Case-of-All-Kinds-of-Music" class="headerlink" title="The Case of All Kinds of Music"></a>The Case of All Kinds of Music</h2><p>For listeners who are well-trained, they may seek for an unexpected music element combination (remember, it is actually a sample point of the music sample space). This challenges composers to explore their music sample spaces, and this is the fairly interesting: because not everyone share the same music sample space, the hidden corner you visited is not likely to be visited by others.</p><p>Before surprising the listeners, composers had better first surprise themselves, and this needs composers to have be skillful at appreciation, which means that they have to dig out more and more information. In other words, composers themselves have to own powerful decoders.</p><p>But where do the surprising things come from? You know that even if you have a good decoder, you may not have musical codes to feed into the decoder. And this is where generative models are crutial!</p><h2 id="Randomness-Generative-Models-and-Sampling"><a href="#Randomness-Generative-Models-and-Sampling" class="headerlink" title="Randomness, Generative Models and Sampling"></a>Randomness, Generative Models and Sampling</h2><p>To be frank, we do generation by implementing randomness. We randomly sample music data points from our music sample spaces. Main differences between composers lie in <strong>1. the structure of music sample spaces</strong>, <strong>2. their sampling strategies</strong> and <strong>3. their appreciation skills</strong>. Appreciation skills are analyzed in the previous section. Therefore, I mainly talk about the other two.</p><p>First talk about music sample spaces. Remember the first section? I put it here again…</p><blockquote><p>When composing music, we try to <strong>reduce our sample space</strong>, or <strong>eliminate the uncertainty in our mind</strong>. This process is like <strong>finding a winding path towards a beautiful hidden corner</strong>.</p></blockquote><p>Yeah, good composers know how to reduce their sample spaces. They may use harmony theory to exclude the bad chords, and thus the amount of remaining music data points are smaller. They also have other constraints on their sample spaces, like: melody alignments, music structures, instruments etc. You know, it is fairly easy to sample a data point from a small sample space according to their wills!</p><p>In order to be skillful at reducing the sample space, composers need to know what compact sample spaces look like. Therefore, they had better learn harmony theory, music structures, counterpoint and different music styles. All aspects lead to certain compact sample spaces, and great composers are skilled in pinpointing the required compact sample space.</p><p>Now let’s go to another question: even if we have a compact sample space, how to sample a music data point from that space?</p><h2 id="Randomness-and-Sampling-Stratagies-for-Music"><a href="#Randomness-and-Sampling-Stratagies-for-Music" class="headerlink" title="Randomness and Sampling Stratagies for Music"></a>Randomness and Sampling Stratagies for Music</h2><p>Notice that the famous generative models (e.g. HMM, VAE, GAN) all depend on randomness, and they achieve generation by sampling their <strong>sample space</strong> in various ways. With a good sampling stratagy (e.g. conferring to the thinking pattern of first determining the music structure), you can have a good start point to converge your chaotic mind into a relatively small sample space.</p><p>Music is contextulized. Therefore, we do sampling according to contexts. Most composers may sample their music measure by measure, and the result might be that their music do not have a good structure. This is similar to the strategy of RNNs.</p><p>Another strategy is to first determine some global constraints and then do sampling over time. This is the case of most composers because this safe guards a good music structure. This is similar to the strategy of transformers.</p><p>What about music with unexpected beautiful organizations? Chances are that composers see the music structures as non-deterministic, and they have a unique subset of sample space for music organizations. They first sample a music organization, and then follow the traditional way as described before.</p><p>Of course there are many many other ways I have not mentioned. For example, some avant-guard compsers may record natural sounds and reorganize them as a music work, which is totally unconventional. This is where composers have to explore various of ways of sampling, and this is where to expand the border of art!</p><h2 id="Go-Practice"><a href="#Go-Practice" class="headerlink" title="Go Practice"></a>Go Practice</h2><p>A last topic, how to practice composing music?</p><p>We have to know that, when practicing to compose music or perform music, we try to <strong>revisit the winding paths towards beautiful hidden corners</strong>. This is because we are humans rather than GODs (who know the global maxima), and we have to struggle to do optimization, just like training the machine learning models.</p><p>On the one hand, if you find an unvisited “winding path” (e.g. a unique melody), you can revisit it over and over again until you can introduce it to others, and then you become a composer! You must train yourself to be familiar with the process of <strong>encoding the “winding path” into audios or music language</strong>. Remember not all people have visited those winding paths. Therefore, practicing to efficiently encode your music minds into music signals can let a composer quickly impress the audience.</p><p>On the other hand, your decoder should also be sensitive enough to discover the winding paths in your chaotic mind or the colorful world! In this case, you should try to listen to more music you did not tried, and push yourself into digging out surprising information from them, or even imitate them. Just as I had explained previously.</p><p>Another thing you can really do is to optimize your <strong>sampling stratagy</strong>, or the composition process. You have to try a lot in order to find a desirable process. For me, I am kind of conventional that I use draft scores to compose music instead of use DAW. What about you? Try try try!</p><p>Finally, your chaotic mind, the generation source. Well, your mind can be influenced by external conditions like changing moods or spirits. Therefore, try to find different envirments of composing.</p><p>Go practice, think more, and appreciate more!</p><h1 id="Algorithm-Composing"><a href="#Algorithm-Composing" class="headerlink" title="Algorithm Composing"></a>Algorithm Composing</h1><p>In fact, all of my discussions above can be instructions for designing algorithm composing models.</p><p>Algorithm composing models face the same challenges: to constrain the sample space, to have a sample stratagy, to have a good decoder and a good discriminator, to be optimized in order to be familiar with the “winding paths”…</p><p>Interestingly, you can find corresponding topics in machine learning in terms of each of the aspect I mentioned above. Let’s go and see!</p>]]></content>
    
    <summary type="html">
    
      &lt;div id=&quot;content&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default&quot;&gt;&lt;/script&gt;
This article summarizes my understandings on music composing and appreciation.
    
    </summary>
    
    
    
      <category term="music" scheme="https://lucainiaoge.github.io.git/tags/music/"/>
    
      <category term="philosophy" scheme="https://lucainiaoge.github.io.git/tags/philosophy/"/>
    
  </entry>
  
  <entry>
    <title>Intuition for Statistical Inference</title>
    <link href="https://lucainiaoge.github.io.git/2020/08/03/intuition-for-statistical-inference/"/>
    <id>https://lucainiaoge.github.io.git/2020/08/03/intuition-for-statistical-inference/</id>
    <published>2020-08-02T16:00:00.000Z</published>
    <updated>2020-12-17T14:18:09.968Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><div id="content"></div><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script><h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>In a word, statistical inference deal with the problem of “trying to reach the God”. In other words, we observe data, and we try to fit to the distribution of such data. A little bit hard to understand? Hope that this article can help you understand that…</p><a id="more"></a><ul><li><strong>An example: pictures</strong></li></ul><blockquote><p>Suppose you are studying digital pictures $x \in \pmb{R^{M\times M}}$. Accordingly, its distribution is $p_G(x): \pmb{X_{G}} \rightarrow \pmb{R^+}\cup\pmb{O}$. One of our goals is to find exactly the subspace $\pmb{X_{G}}\subseteq\pmb{R^{M\times M}}$ where the pictures $x \in \pmb{X_{G}}$ look like hand-written numbers (correspondingly, $\pmb{X_{G}}$ is the space where the ${M\times M}$ hand-written number pictures are defined). Again, our mission is to find the  $p_G(x): \pmb{X_{G}} \rightarrow \pmb{R^+}\cup\pmb{O}$ given a hand-written number dataset $\pmb{X_{s}}$.</p></blockquote><blockquote><p>We take $\pmb{X_{G}}$ as the “God/Ground-truth dataset” and $\pmb{X_{s}} \subseteq \pmb{X_{G}}$ as the “observation dataset” (e.g. MNIST).</p></blockquote><p>Now, question is: how to fit to that God/Ground-truth distribution? Well… For each question, we have to represent it before we solve it. In this article, I try to represent it clearly.</p><p>This article does not try to solve those questions explicitly. The aim of this article is to remind you what you are really doing when you get lost in some annoying math works.</p><p>By the way, why it is important to estimate $p_G(\pmb{x})$? Because once we know $p_G(\pmb{x})$, we can do such things: 1. to judge whether a given data point $x_0$ belongs to our distribution $p_G(\pmb{x})$, and then we can do classification; 2. to sample data points according to $p_G(\pmb{x})$, and then we can do generation!</p><h1 id="The-Variational-Problem"><a href="#The-Variational-Problem" class="headerlink" title="The Variational Problem"></a>The Variational Problem</h1><p>We have already been familiar with this form: given a vector space $X$ (e.g. $X=\lbrace 0,1,2 \rbrace$) and a function $f$ (e.g. $f(x)=x^2$), we want to solve<br>$$\mathrm{argmax}_{x∈X} f(x)$$<br>What about the argmax problem which finds the optimum function? i.e. given a function space $\mathcal{F}$ (e.g. $\mathcal{F}=\lbrace f: f(x)=x^2+c,c\in \pmb{R} \rbrace$) and a <strong>functional</strong> $F: \mathcal{F}→\pmb{R}$ (e.g. $F[f]=\int_0^1 f^2(x)dx$), we want to calculate:</p><p>$$\mathrm{argmin}_{f∈\mathcal{F}} F[f]$$</p><p>This problem is called a <strong>variational problem</strong>, which aims to find a function $f∈\mathcal{F}$ which minimizes/maximizes a functional $F$.</p><p>We have already encountered this kind of problem in information theory!<br>For example, we have already found the “discrete maximum entropy”</p><p>$$\mathrm{argmax}_{p∈\mathcal{P}} H[p]$$</p><p>If $\mathcal{P}= \lbrace AllDiscreteDistributionsWith\quad M \quad Values \rbrace$, and $H[p(x)]=\sum_{x}p(x)  \mathrm{log}⁡ \frac{1}{p(x)}$, then </p><p>$$\mathrm{argmax}_{p∈\mathcal{P}} H[p]=U(x)$$</p><p>where, $U(x)$ is the uniform distribution on $M$ possible discrete values.</p><h1 id="The-Statistical-Inference-Variational-Problem"><a href="#The-Statistical-Inference-Variational-Problem" class="headerlink" title="The Statistical Inference Variational Problem"></a>The Statistical Inference Variational Problem</h1><h2 id="Problem-definitions"><a href="#Problem-definitions" class="headerlink" title="Problem definitions"></a>Problem definitions</h2><p>What we want to do is: given data $\pmb{x}$, we want to approximate its distribution $p_G(\pmb{x})$. i.e. we want to solve this variational problem:</p><p>$$p^*(\pmb{x})=\mathrm{argmax}_{p∈\mathcal{F}} D[p(\pmb{x}),p_G (\pmb{x})]$$</p><p>The term $p_G (\pmb{x})$ means the God’s distribution of data $\pmb{x}$, or the “Ground truth distribution”. Well, I have to say that we assumed that there is a ground truth (or GOD!), which is our philosophical point of view.<br>Now is the problem:</p><blockquote><ul><li>Problem 1: How to define the functional (distance between distributions) $D[p(\pmb{x}),p_G (\pmb{x})]$?</li><li>Problem 2: How to define the function space $\mathcal{F}$?</li></ul></blockquote><h3 id="Problem-1-where-the-“Maximum-Likelihood”-comes-from"><a href="#Problem-1-where-the-“Maximum-Likelihood”-comes-from" class="headerlink" title="Problem 1: where the “Maximum Likelihood” comes from"></a>Problem 1: where the “Maximum Likelihood” comes from</h3><p>Problem 1: how to find the functional (distance between distributions) $D[p(\pmb{x}),p_G (\pmb{x})]$? Note that we do not know the GOD distribution i.e. $p_G(\pmb{x})$. Thus, it is impossible to calculate this functional by directly calculating the distance between $p(\pmb{x})$ and GOD distribution. However, there is an easy way to define $D[p(\pmb{x}),p_G (\pmb{x})]$ as:<br>$$D[p(\pmb{x}),p_G (\pmb{x})]≜\mathrm{log}⁡p(\pmb{x})$$(Other ways include estimating the momentums or other sufficient statistics. Those are out of the current scope.)<br>For i.i.d. data $\pmb{x}$, we can even write $\mathrm{log}⁡p(\pmb{x})$ as $\mathrm{log}⁡p(\pmb{x})=\sum_{i=1}^N \mathrm{log}⁡p(x_i)$<br>The term $\mathrm{log}⁡p(\pmb{x})$ is called as “log-likelihood”, and the variational problem $p^*(\pmb{x})=\mathrm{argmax}_{p∈\mathcal{F}} D[p(\pmb{x}),p_G (\pmb{x})]$ is called “maximum likelihood”, which we have already been familiar with.<br>(Note that in the scheme of “maximum likelihood”, we did not consider $p_G (\pmb{x})$ explicitly. We assumed that if $\pmb{x}$ is from the ground-truth, $p_G (\pmb{x})$ should always be larger or equal than other $p(\pmb{x})$. We tend to think that “what we see is GOD”. Or in other words, “data (what we observed) are all we know, and we cannot do better unless we know more information (more data, or more observations)”. The “<a href="https://en.wikipedia.org/wiki/Method_of_moments" target="_blank" rel="noopener">momentum estimation method</a>” directly applies this philosophical assumption, i.e. calculating the distances between moments in order to make $p(\pmb{x})$ as near as  $p_G (\pmb{x})$.)</p><h3 id="Problem-2-to-parameterize-or-not-to"><a href="#Problem-2-to-parameterize-or-not-to" class="headerlink" title="Problem 2: to parameterize or not to"></a>Problem 2: to parameterize or not to</h3><p>Well… For problem 2, we have two ways: to parameterize or not.<br>What is parameterization? I use an example to illustrate that:<br>Suppose the data $\pmb{x}$ are 1D. And we assume the function space is Gaussian, i.e. $\mathcal{F}=\lbrace AllOneDimGaussianPDFs \rbrace$. We can easily write $\mathcal{F}$ in the form of the space of its sufficient statistics (i.e. $\mu$ and $\sigma$). In other words, the space $\Theta=\pmb{R}\times\pmb{R^+}$ is actually the function space $\mathcal{F}$. And there exists a unique Gaussian Function $G:\Theta→\mathcal{F}$ such that for any $(\mu,\sigma)∈\Theta$, $G(\mu,\sigma)=f(x\vert \mu,\sigma)∈\mathcal{F}$<br>In this case, we parameterized $\mathcal{F}$ with $\Theta$, with the distribution assumption $P:\Theta→\mathcal{F}$. In other words, $\Theta$ are the parameters which control the function space. Thus, the variational problem<br>$$p^*(\pmb{x})=\mathrm{argmax}_{p∈\mathcal{F}} D[p(\pmb{x}),p_G (\pmb{x})]$$</p><p>can be written as an argmax problem for parameters:</p><p>$$\theta^*=\mathrm{argmax}_{\theta∈\Theta} D[f(\pmb{x}\vert\theta),p_G (\pmb{x})]$$</p><p>$$p^* (\pmb{x})=P(\theta^* )$$</p><p>Of course, we can search the $\mathcal{F}$ directly without introducing $\Theta$ and $P:\Theta→\mathcal{F}$. How to search $\mathcal{F}$ given $\pmb{x}$? There are also various ways (e.g. $k-means$). However, we are not talking about those methods right now.</p><h3 id="A-statement-for-a-challenge-how-to-find-the-God-bias-vs-variance"><a href="#A-statement-for-a-challenge-how-to-find-the-God-bias-vs-variance" class="headerlink" title="A statement for a challenge: how to find the God - bias vs. variance"></a>A statement for a challenge: how to find the God - bias vs. variance</h3><p>How to assume a nice function space $\mathcal{F}$ such that the $p^* (\pmb{x})∈\mathcal{F}$ is easy to find and that $D[p(\pmb{x}),p_G (\pmb{x})]$ is relatively small? In other words, the function space $\mathcal{F}$ (or parameter space $\Theta$ in the case of parameterization) should satisfy such properties in order to be a good one:</p><blockquote><ol><li>there exists $p^* (\pmb{x}))∈\mathcal{F}$ such that $D[p(\pmb{x}),p_G (\pmb{x})]$ is small, i.e. $\mathrm{E}_{\pmb{x}\in\pmb{X_G}} [D[p(\pmb{x}),p_G (\pmb{x})]]$ is small;</li><li>$D[p(\pmb{x}),p_G (\pmb{x})]$ cannot be too unstable, i.e. $\mathrm{Var}_{\pmb{x}\in\pmb{X_G}} [D[p(\pmb{x}),p_G (\pmb{x})]]$ is small.</li></ol></blockquote><p>If $\mathrm{E}_{\pmb{x}\in\pmb{X_G}} [D[p(\pmb{x}),p_G (\pmb{x})]]$ is small, we say that the function space F is of small bias compared with the GOD’s function $p_G (\pmb{x})$;</p><p>If $\mathrm{Var}_{\pmb{x}\in\pmb{X_G}} [D[p(\pmb{x}),p_G (\pmb{x})]]$ is small, we say that the function space $\mathcal{F}$ is of small variance compared with the GOD’s function $p_G (\pmb{x})$, or that our model $p^* (\pmb{x})$ has a good ability to generalize. The term “generalize” means that no matter what data $\pmb{x}$ is given, the difference between $p^* (\pmb{x})$ and $p_G (\pmb{x})$ will not change too much.</p><p>Intuition from Hung-yi Lee: see the pictures in<br><a href="http://speech.ee.ntu.edu.tw/~tlkagk/courses/ML_2016/Lecture/Bias%20and%20Variance%20(v2).pdf" target="_blank" rel="noopener">http://speech.ee.ntu.edu.tw/~tlkagk/courses/ML_2016/Lecture/Bias%20and%20Variance%20(v2).pdf</a></p><p><img src="https://i.loli.net/2020/08/03/hkIGbLB6nuM73sK.png" width="50%" height="50%"><img src="https://i.loli.net/2020/08/03/OHZu2yWABVl3Cgb.png" width="50%" height="50%"></p><p>Each “sample point $p_s^* (\pmb{x})$” is actually an instance of $p_s^*(\pmb{x})=\mathrm{argmax}_{p∈\mathcal{F}} D[p(\pmb{x}),p_G (\pmb{x})]$, where $\pmb{x}\in\pmb{X_s}$, and $\pmb{X_s}$ (e.g. MNIST) is a subset of the God data set $X_G$ (e.g. all possible  pictures of handwritten numbers).</p><h2 id="Afterwards…"><a href="#Afterwards…" class="headerlink" title="Afterwards…"></a>Afterwards…</h2><p>You have already got an intuition of our challenges. Now, time to solve the challenges! Of course, for several specific problems, simple models are enough! For example, if we want to fit a Gaussian distribution, the most convenient way is to calculate the mean and variance of the dataset (observation). However, most problems are complex in reality. We have to design models which can deal with such complexity.</p><p>A genious way is to introduce Latent Variables to make our models more powerful. We assume that the Latent Variables can reveal the underlying modes of our observations. How to calculate the Latent Variables and find the argmax? We will discuss later when introducing HMM (Hidden Markov Model), GMM (Gaussian Mixure Model), EM (Expectation Maximization) algorithm and variational inference. The Latent Variable trick is in fact a statistical assumption.</p><p>Another genious way is to use Neural Networks in order to fit arbitrary functions. The Neural Networks trick is in fact a structural (connectivism) assumption.</p><p>In order to reduce the variance, more tricks can be considered (e.g. early stopping, dropout, normalization, residual connection, parameter sharing, simplified models…). Details are overwhelming. Not going to introduce them here!</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;div id=&quot;content&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default&quot;&gt;&lt;/script&gt;

&lt;h1 id=&quot;Intro&quot;&gt;&lt;a href=&quot;#Intro&quot; class=&quot;headerlink&quot; title=&quot;Intro&quot;&gt;&lt;/a&gt;Intro&lt;/h1&gt;&lt;p&gt;In a word, statistical inference deal with the problem of “trying to reach the God”. In other words, we observe data, and we try to fit to the distribution of such data. A little bit hard to understand? Hope that this article can help you understand that…&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="machine_learning" scheme="https://lucainiaoge.github.io.git/tags/machine-learning/"/>
    
  </entry>
  
  <entry>
    <title>A Summarization for Labs and People in Music Technology (Useful Links Attached!)</title>
    <link href="https://lucainiaoge.github.io.git/2020/08/02/music-computation-labs-and-people-and-useful-links/"/>
    <id>https://lucainiaoge.github.io.git/2020/08/02/music-computation-labs-and-people-and-useful-links/</id>
    <published>2020-08-01T16:00:00.000Z</published>
    <updated>2020-08-06T08:05:02.234Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>(2020) I am trying to summarize labs and researchers around the world who dedicate in music computation. I am writing this list because I really want to do researches about MIR and music generation. Of course, this list is far from complete. If you have recommendations, feel free to comment below!</p><hr><div id="content"></div><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script><a id="more"></a><h1 id="If-You-Did-not-Know-about-MIR"><a href="#If-You-Did-not-Know-about-MIR" class="headerlink" title="If You Did not Know about MIR"></a>If You Did not Know about MIR</h1><p><font color="gray"> Here is a superfacial introduction for starters and for people who are interested in music computation.</font></p><p>MIR means Music Information Retrieval. Its relevant topics are broad! If I am talking about MIR, I am refering to the topics which trie to analyze everything about music in a technological fashion. In many cases, MIR is a term which has the same meaning with “music computation”. <font color="gray">By the way, another term “music technology” mainly means topics about synthesizers, digital music formats (e.g. MIDI, mp3) and instruments, which emphasizes differently from the term “MIR”.</font></p><p>You may be curious about how to identify a song by humming, which is an MIR topic called <a href="https://en.wikipedia.org/wiki/Query_by_humming" target="_blank" rel="noopener">Query by Humming (wiki)</a>. You may also be curious about how to translate a musical performance into scores, which is an MIR topic called <a href="https://www.researchgate.net/publication/330068609_Automatic_Music_Transcription_An_Overview" target="_blank" rel="noopener">automatic music transcription (AMT) (paper)</a>. Other interesting topics include <a href="https://medium.com/@briansrebrenik/introduction-to-music-recommendation-and-machine-learning-310c4841b01d" target="_blank" rel="noopener">music recommendation (blog)</a>, <a href="https://medium.com/@krisshaffer/what-is-computational-musicology-f25ee0a65102" target="_blank" rel="noopener">computational musicology (blog)</a>, <a href="https://soundtraining.com/synthesis-a-basic-understanding/" target="_blank" rel="noopener">sound synthesizing (blog)</a> and <a href="https://en.wikipedia.org/wiki/Algorithmic_composition" target="_blank" rel="noopener">algorithm composing (wiki)</a> etc., which are all relevant topics.<br>Search “MIR” in wiki: <a href="https://en.wikipedia.org/wiki/Music_information_retrieval#References" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Music_information_retrieval</a>.</p><p>Those listed above are all tasks/goals. But what about the methodology to achieve them? Remember: music is created by people. Therefore, tasks about understanding musical rules and phenomenons are actually tasks about understanding human thoughts. How to understand them?<br>Well… On the one hand, the nature of music is audio and the nature of musical understandings is human cognition; thus, we have to deal with audio properties and human perceptions. Relevant techonologies include <a href="https://en.wikipedia.org/wiki/Digital_signal_processing" target="_blank" rel="noopener">Digital Signal Processing (wiki)</a>, <a href="https://en.wikipedia.org/wiki/Synthesizer" target="_blank" rel="noopener">Synthesizer (wiki)</a> and <a href="https://www.researchgate.net/publication/324721430_An_Introduction_to_Cognitive_Musicology_Historical-Scientific_Presuppositions_in_the_Psychology_of_Music" target="_blank" rel="noopener">Cognitive Musicology (paper)</a>.<br>On the other hand, music is a kind of rule-based art, and we are interested in such rules. But how to understand and apply such rules? Relevant methods include <a href="https://music.arts.uci.edu/dobrian/CD.music.lang.htm" target="_blank" rel="noopener">Music as Language (paper)</a>, <a href="https://en.wikipedia.org/wiki/Natural_language_processing" target="_blank" rel="noopener">Natural Language Processing (NLP)(wiki)</a>. We know that the “rules” in rule-based-arts are far from simple. Therefore, we have to use systems which have great complexity to fit to those rules. Such method is <a href="https://www.internetsociety.org/resources/doc/2017/artificial-intelligence-and-machine-learning-policy-paper/?gclid=Cj0KCQjwyJn5BRDrARIsADZ9ykEnMQdP44IZ9_PlHJ2KOTHFgnnQ15DvdeIeIjVRyRo3HWru2BA0YtoaAkX6EALw_wcB" target="_blank" rel="noopener">machine learning (paper)</a>.<br>With such tools, we can deal with problems which are directly relevant to music. For example, we can design our “generative music language”, and then apply it for algorithm composing. Or we can apply the DSP methods to identify chords from audio. Of course, every topic has its unique side. Therefore, never stop learning!</p><p><strong>The following links in the rest of this page are all relevant with what I introduced before.</strong></p><h1 id="Labs-Groups-and-Individual-Researchers"><a href="#Labs-Groups-and-Individual-Researchers" class="headerlink" title="Labs, Groups and Individual Researchers"></a>Labs, Groups and Individual Researchers</h1><h2 id="Links-of-Summarizations"><a href="#Links-of-Summarizations" class="headerlink" title="Links of Summarizations"></a>Links of Summarizations</h2><blockquote><ul><li>Research Centers Summarized by SMC:<br><a href="http://www.smcnetwork.org/centers.html" target="_blank" rel="noopener">http://www.smcnetwork.org/centers.html</a><br>This is a comprehensive list, which includes groups mainly in Europe and America.</li></ul></blockquote><blockquote><ul><li>Archives, Journals and Societies about “Science &amp; Music” by University of Cambridge, Center for Music and Science:<br><a href="https://cms.mus.cam.ac.uk/links" target="_blank" rel="noopener">https://cms.mus.cam.ac.uk/links</a><br>This page is a summarization of research groups and research society mainly in Europe. You may find links of research groups as well as academic sources in this page.</li></ul></blockquote><blockquote><ul><li>Research Centers Summarized by Beici Liang:<br><a href="https://mp.weixin.qq.com/s/2nDWikda9fh2x5o093F6HA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/2nDWikda9fh2x5o093F6HA</a><br>The groups mentioned in this list are mostly in universities. By the way, the wechat official account (in Chinese 中文) in this link is a tutorial for beginners who are interested in music tech.</li></ul></blockquote><p>I give those comprehensive links first. After all, I have to reinvent the wheel because I cannot remember all of them unless I write them down and read them all.</p><h2 id="My-summarization"><a href="#My-summarization" class="headerlink" title="My summarization"></a>My summarization</h2><p>Here is a summarization of research group websites I have visited. My list is far from complete. I am just writing them down in order to have a review on the MIR society I have explored, straightening my mind. After all, I felt dizzy when I first began to search about MIR groups around the world…<br>If you are a starter, hope that the following links can help you. If you are already a researcher, well… hope that my naive list does not bother you and that you can give some suggestions!<br><strong>Note that the information here is limited. I may have left out or misunderstood a lot of information. Therefore, the information in my list is inevitably biased! Again, this list is created mainly for myself and for starters to get familiar with the MIR society. If I wrote something improper, please contact me for correction!</strong></p><p><font color="gray">…To be expanded</font></p><h3 id="Europe"><a href="#Europe" class="headerlink" title="Europe"></a>Europe</h3><blockquote><ul><li>Center for Digital Music (C4DM), Queen Mary University of London (QMUL)<br><a href="http://c4dm.eecs.qmul.ac.uk/index.html" target="_blank" rel="noopener">http://c4dm.eecs.qmul.ac.uk/index.html</a><br>A very big lab with many groups.</li></ul></blockquote><blockquote><ul><li>Digital and Cognitive Musicology Lab (DCML), École polytechnique fédérale de Lausanne (EPFL)<br><a href="https://www.epfl.ch/labs/dcml/" target="_blank" rel="noopener">https://www.epfl.ch/labs/dcml/</a><br>Led by <a href="https://people.epfl.ch/martin.rohrmeier" target="_blank" rel="noopener">Prof. Martin Alois Rohrmeier</a>. </li></ul></blockquote><blockquote><ul><li>Music Technology Group (MTG), Universitat Pompeu Fabra (UPF), Barcelona<br><a href="https://www.upf.edu/web/mtg/" target="_blank" rel="noopener">https://www.upf.edu/web/mtg/</a></li></ul></blockquote><blockquote><ul><li>Center for Music and Science (CMS), Faculty of Music, University of Cambridge.<br>Faculty of Music: <a href="https://www.mus.cam.ac.uk/" target="_blank" rel="noopener">https://www.mus.cam.ac.uk/</a>; CMS: <a href="https://cms.mus.cam.ac.uk/" target="_blank" rel="noopener">https://cms.mus.cam.ac.uk/</a></li></ul></blockquote><blockquote><ul><li>Prof. Remco Veltkamp, Utrecht University<br><a href="http://www.cs.uu.nl/centers/give/multimedia/music/index.html" target="_blank" rel="noopener">http://www.cs.uu.nl/centers/give/multimedia/music/index.html</a></li></ul></blockquote><h3 id="Asia"><a href="#Asia" class="headerlink" title="Asia"></a>Asia</h3><blockquote><ul><li>Laboratory of Audio and Music Technology (FD-LAMT), Fudan University<br><a href="http://homepage.fudan.edu.cn/weili/fd-lamt/" target="_blank" rel="noopener">http://homepage.fudan.edu.cn/weili/fd-lamt/</a><br>Led by Prof. Wei Li.</li></ul></blockquote><blockquote><ul><li>Musix X Lab, New York University Shanghai (NYU Shanghai)<br><a href="http://www.musicxlab.com/#/index" target="_blank" rel="noopener">http://www.musicxlab.com/#/index</a><br>Led by <a href="https://www.cs.cmu.edu/~gxia/" target="_blank" rel="noopener">Prof. Gus Xia</a>.</li></ul></blockquote><blockquote><ul><li>Sound &amp; Music Computing Lab, National University of Singapore (NUS)<br><a href="https://smcnus.comp.nus.edu.sg/" target="_blank" rel="noopener">https://smcnus.comp.nus.edu.sg/</a><br>Currently Led by <a href="https://smcnus.comp.nus.edu.sg/ye-wang/" target="_blank" rel="noopener">Prof. Ye Wang</a>. </li></ul></blockquote><blockquote><ul><li>Affective Computing and AI Team (AMAAI), Singapore University of Technology and Design (SUTD)<br><a href="https://dorienherremans.com/team" target="_blank" rel="noopener">https://dorienherremans.com/team</a><br>Currently Led by <a href="https://dorienherremans.com" target="_blank" rel="noopener">Prof. Dorien Herremans</a>.</li></ul></blockquote><h3 id="America"><a href="#America" class="headerlink" title="America"></a>America</h3><blockquote><ul><li>Center for Music Technology, Georgic Tech (GaTech).<br><a href="https://gtcmt.gatech.edu" target="_blank" rel="noopener">https://gtcmt.gatech.edu</a><br>Currently Led by <a href="http://www.alexanderlerch.com/" target="_blank" rel="noopener">Prof. Alexander Lerch</a>.</li></ul></blockquote><blockquote><ul><li>Center for Computer Research in Music and Acoustics (CCRMA), Stanford University<br><a href="https://ccrma.stanford.edu/" target="_blank" rel="noopener">https://ccrma.stanford.edu/</a><br>This is a big lab. There are many groups in CCRMA. See <a href="https://ccrma.stanford.edu/groups/detail" target="_blank" rel="noopener">here</a>.</li></ul></blockquote><blockquote><ul><li>Prof. Julian McAuley, Computer Science Department, University of California San Diago (UCSD)<br><a href="https://cseweb.ucsd.edu/~jmcauley/" target="_blank" rel="noopener">https://cseweb.ucsd.edu/~jmcauley/</a></li></ul></blockquote><blockquote><ul><li>Music and Audio Research Laboratory (MARL), Dept. of Music and Performing Arts Professions, New York University (NYU)<br><a href="https://research.steinhardt.nyu.edu/marl/" target="_blank" rel="noopener">https://research.steinhardt.nyu.edu/marl/</a><br>This is a big group. Its music informatics group is currently led by <a href="https://wp.nyu.edu/jpbello/" target="_blank" rel="noopener">Prof. Juan Pablo Bello</a>,</li></ul></blockquote><blockquote><ul><li>Prof. Roger B. Dannenberg, CMU<br><a href="http://www.cs.cmu.edu/~rbd/" target="_blank" rel="noopener">http://www.cs.cmu.edu/~rbd/</a><br>A great computer music research, a camposer and a trumpet player. However, he is not accepting students.</li></ul></blockquote><blockquote><ul><li>Centre For Interdisciplinary Research in Music Media And Technology (CIRMMT), McGill University<br><a href="https://www.cirmmt.org/" target="_blank" rel="noopener">https://www.cirmmt.org/</a><br>A big lab.</li></ul></blockquote><h3 id="Research-Groups-in-Industry"><a href="#Research-Groups-in-Industry" class="headerlink" title="Research Groups in Industry"></a>Research Groups in Industry</h3><p>…Pending</p><p>An outline: Google Magenta, Spotify, Open AI, NAVIDA, Jukedeck - TikTok London, Tencent Music (TME), Netease Music…</p><h1 id="Useful-Links"><a href="#Useful-Links" class="headerlink" title="Useful Links"></a>Useful Links</h1><h2 id="Pages-of-Conferences"><a href="#Pages-of-Conferences" class="headerlink" title="Pages of Conferences"></a>Pages of Conferences</h2><blockquote><ul><li>ISMIR (International Society for Music Information Retrieval)<br><a href="https://ismir.net/" target="_blank" rel="noopener">https://ismir.net/</a><br>“The ISMIR conference is held annually and is the world’s leading research forum on processing, searching, organising and accessing music-related data.”</li></ul></blockquote><blockquote><ul><li>MIREX (Music Information Retrieval Evaluation eXchange)<br><a href="https://www.music-ir.org/mirex/wiki/MIREX_HOME" target="_blank" rel="noopener">https://www.music-ir.org/mirex/wiki/MIREX_HOME</a><br>“The Music Information Retrieval Evaluation eXchange (MIREX) is an annual evaluation campaign for MIR algorithms, coupled to the ISMIR conference.”</li></ul></blockquote><blockquote><ul><li>SMC (Sound and Music Computing Network)<br><a href="http://www.smcnetwork.org/" target="_blank" rel="noopener">http://www.smcnetwork.org/</a><br>“The SMC Conference is a double-blind peer-reviewed international scientific conference around the core interdisciplinary topics of Sound and Music Computing.”</li></ul></blockquote><blockquote><ul><li>NLP4MusA<br><a href="https://sites.google.com/view/nlp4musa" target="_blank" rel="noopener">https://sites.google.com/view/nlp4musa</a><br>“In this context, we propose the First Workshop on NLP for Music and Audio, a forum for bringing together academic and industrial scientists and stakeholders interested in exploring synergies between NLP and music and audio.” “Accepted papers will be published in the ACL anthology.”</li></ul></blockquote><blockquote><ul><li>CSMT (Conference on Sound and Music Techonology)<br><a href="http://www.csmcw-csmt.cn/" target="_blank" rel="noopener">http://www.csmcw-csmt.cn/</a><br>CSMT是中国音乐科技相关的研究者交流的很好平台，可以见到很多工业界和学术界的同行。CSMT推动者中国的音乐科技领域的发展合作，也在吸引世界范围内学术界的关注。</li></ul></blockquote><p>Of course, information here is limited due to my limited knowledge… More links pending…</p><h2 id="Dataset-sources"><a href="#Dataset-sources" class="headerlink" title="Dataset sources"></a>Dataset sources</h2><blockquote><ul><li>Datasets summarized by Prof. Alexander Lerch, Gatech<br><a href="https://www.audiocontentanalysis.org/data-sets/" target="_blank" rel="noopener">https://www.audiocontentanalysis.org/data-sets/</a><br>A grrrrrreat list of useful music datasets. Brief tags are attached there (e.g. MIDI or not? Labelled or not? Rhythm or melody? Monophonic or Polyphonic…)</li></ul></blockquote><blockquote><ul><li>Datasets summarized by UPF Compmusic<br><a href="https://compmusic.upf.edu/datasets" target="_blank" rel="noopener">https://compmusic.upf.edu/datasets</a><br>Mainly about Indian art music, Turkish Makam music and Beijing Opera</li></ul></blockquote><blockquote><ul><li>Magenta Datasets<br><a href="https://magenta.tensorflow.org/datasets" target="_blank" rel="noopener">https://magenta.tensorflow.org/datasets</a><br>Mainly about Bach Doodle Dataset, Groove MIDI Dataset, MAESTRO and NSynth</li></ul></blockquote><h2 id="Blogs"><a href="#Blogs" class="headerlink" title="Blogs"></a>Blogs</h2><blockquote><ul><li>Computer Music Conferences Deadline by Yixiao Zhang’s Blog<br><a href="https://yixiao-music.github.io/?sub=SYM,AI,OTHER,AUO" target="_blank" rel="noopener">https://yixiao-music.github.io/?sub=SYM,AI,OTHER,AUO</a><br>See also: <a href="https://www.zhihu.com/question/314142299/answer/612302579" target="_blank" rel="noopener">his zhihu</a></li></ul></blockquote><blockquote><ul><li>Chinese Blog of rogerkeane<br><a href="http://blog.sina.com.cn/rogerkeane" target="_blank" rel="noopener">http://blog.sina.com.cn/rogerkeane</a><br>A little bit old Sina blog. He studied in GaTech. 很有生活趣味的一个博客!</li></ul></blockquote><blockquote><ul><li>Intelligent sound engineering by <a href="http://www.eecs.qmul.ac.uk/~josh/" target="_blank" rel="noopener">Prof Joshua D Reiss</a><br><a href="https://intelligentsoundengineering.wordpress.com/" target="_blank" rel="noopener">Intelligent sound engineering</a></li></ul></blockquote><blockquote><ul><li>Chris Donahue<br><a href="https://chrisdonahue.com/" target="_blank" rel="noopener">https://chrisdonahue.com/</a></li></ul></blockquote><blockquote><ul><li>…To be expanded</li></ul></blockquote><blockquote><ul><li>And… Hey! And my blog here!</li></ul></blockquote><h2 id="Other-Useful-Links"><a href="#Other-Useful-Links" class="headerlink" title="Other Useful Links"></a>Other Useful Links</h2><blockquote><ul><li>dblp: computer science bibliography<br><a href="https://dblp.uni-trier.de/" target="_blank" rel="noopener">https://dblp.uni-trier.de/</a><br>“The dblp computer science bibliography provides open bibliographic information on major computer science journals and proceedings.”</li></ul></blockquote><blockquote><ul><li>Papers With Code: The latest in machine learning<br><a href="https://paperswithcode.com/" target="_blank" rel="noopener">https://paperswithcode.com/</a><br>“Papers With Code highlights trending ML research and the code to implement it.”</li></ul></blockquote><blockquote><ul><li>imslp: download sheet music<br><a href="https://imslp.org/wiki/Main_Page" target="_blank" rel="noopener">https://imslp.org/wiki/Main_Page</a><br>“The International Music Score Library Project (IMSLP), also known as the Petrucci Music Library after publisher Ottaviano Petrucci, is a subscription-based project for the creation of a virtual library of public-domain music scores.” - wiki</li></ul></blockquote><blockquote><ul><li>word2tex and tex2word<br><a href="https://www.chikrii.com/" target="_blank" rel="noopener">https://www.chikrii.com/</a></li></ul></blockquote><blockquote><ul><li>Google scholar, Media, Wiki, Zhihu, CSDN…</li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;(2020) I am trying to summarize labs and researchers around the world who dedicate in music computation. I am writing this list because I really want to do researches about MIR and music generation. Of course, this list is far from complete. If you have recommendations, feel free to comment below!&lt;/p&gt;
&lt;hr&gt;
&lt;div id=&quot;content&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default&quot;&gt;&lt;/script&gt;
    
    </summary>
    
    
    
      <category term="introduction" scheme="https://lucainiaoge.github.io.git/tags/introduction/"/>
    
      <category term="guide" scheme="https://lucainiaoge.github.io.git/tags/guide/"/>
    
      <category term="music" scheme="https://lucainiaoge.github.io.git/tags/music/"/>
    
  </entry>
  
  <entry>
    <title>My Music Explorations</title>
    <link href="https://lucainiaoge.github.io.git/2020/07/18/my-music-explorations/"/>
    <id>https://lucainiaoge.github.io.git/2020/07/18/my-music-explorations/</id>
    <published>2020-07-17T16:00:00.000Z</published>
    <updated>2020-12-17T13:24:36.517Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>Welcome! I am Tongyu Lu (路通宇)! This is an introduction of my explorations on composing!</strong></p><hr><p><font color="gray"> If my music fails to be played here, it may be because of copyright barriers. You can click the links and listen to them in outside webpages. You can also find my music in my <a href="https://music.163.com/#/artist/album?id=31150711" target="_blank" rel="noopener">Netease Music Personal Page</a></font></p><p>This is an introduction of my explorations and my musical pieces! <font color="gray"> I am sharing my works not purely aiming at showing my skills, and I am far from professional. Instead, I hope that my explorations on composition can inspire more music lovers to try bravely!</font></p><h1 id="Early-explorations"><a href="#Early-explorations" class="headerlink" title="Early explorations"></a>Early explorations</h1><ul><li>My aunt taught me piano when I was a little boy!</li><li>In around 2012, I began practicing music myself: transcripting the pieces I like into piano scores and practicing piano skills.</li><li>I composed my first collection of <strong>12 Scottish and Irish folk song styled pieces</strong> in 2018 and published it here: <a href="https://music.163.com/#/album?id=75139286" target="_blank" rel="noopener">Lucainiao’s Musical Adventures in Ireland (路菜鸟梦游爱尔兰)</a></li><li>Here are several pieces in this collection:<blockquote><p><a href="https://music.163.com/#/song?id=1339507651" target="_blank" rel="noopener">Reel In the Summer (夏日的舞会)</a><br><a href="https://music.163.com/#/song?id=1339513121" target="_blank" rel="noopener">Wonderland (秘境)</a></p></blockquote></li></ul><h1 id="Trials-on-orchistral-works"><a href="#Trials-on-orchistral-works" class="headerlink" title="Trials on orchistral works"></a>Trials on orchistral works</h1><ul><li><p>I tried composing orchistral works in 2018 just for fun:</p><blockquote><p><a href="https://music.163.com/#/album?id=75541918" target="_blank" rel="noopener">Collection of 6 pieces: The Walking of Insects (惊蛰)</a><br>Here are two of this collection:</p><ul><li><a href="https://music.163.com/#/song?id=1346054283" target="_blank" rel="noopener">Short orchistral piece: The Walking of Insects (惊蛰)</a></li><li><a href="https://music.163.com/#/song?id=1356722304" target="_blank" rel="noopener">Short orchistral piece: Spring Birds (春天的鸟)</a></li></ul></blockquote></li><li><p>The Walking of Insects (惊蛰) was performed in Shenzhen College Music Festival of 2019.</p></li><li><p>Further, I tried to compose a march and an overture in Chinese style:</p><blockquote><p><a href="https://music.163.com/#/album?id=82799337" target="_blank" rel="noopener">Lucainiao’s Trial on Orchestral Pieces</a></p></blockquote></li><li><p>In 2020, I realized that I lacked professional skills :)  Then I began studying harmony myself… (I will modify many of my pieces in the future because I am not satisfied with my composing skills in the past… After relistening my works, I found a lot of flaws. Anyway, I am kind of surprised that I composed them even if I did not learn harmony and other basics about composing!) By the way, I am currently fancinated with Brahms Symphony No.4!</p></li></ul><h1 id="Trials-on-chamber-music-and-piano-pieces"><a href="#Trials-on-chamber-music-and-piano-pieces" class="headerlink" title="Trials on chamber music and piano pieces"></a>Trials on chamber music and piano pieces</h1><ul><li><p>Meanwhile, I tried to compose solo piano pieces and chamber music. In early 2019, I composed a few pieces trying to depict my feelings about winter:</p><blockquote><p><a href="https://music.163.com/#/album?id=75865572" target="_blank" rel="noopener">Two Quartets and a piano Etude: Charming winter</a><br>Here are the two Quartets:</p><ul><li><a href="https://music.163.com/#/song?id=1353626912" target="_blank" rel="noopener">Quartet: Snow and Flying Leaves</a></li><li><a href="https://music.163.com/#/song?id=1353154329" target="_blank" rel="noopener">Quartet: Charming Winter</a></li></ul></blockquote></li><li><p>I collected my early piano solo works. Although I play the piano, it is still challenging to write friendly piano pieces (especially when I want to express beauty of skills). I collected many of my piano solo works (old ones and new ones) here:</p><blockquote><p><a href="https://music.163.com/#/album?id=82784553" target="_blank" rel="noopener">Piano solo collection of 7 pieces: Lucainiao’s Trial on Piano Pieces</a><br>Here are the two of them:</p><ul><li><a href="https://music.163.com/#/song?id=1400108823" target="_blank" rel="noopener">Etude in c minor - phone ringtone</a></li><li><a href="https://music.163.com/#/song?id=1400108795" target="_blank" rel="noopener">Etude in g minor - autumn rain</a></li></ul></blockquote></li><li><p>After reflections on my early chamber music, I found that cooperation between different voices is important. Then I tried more:</p><blockquote><p><a href="https://music.163.com/#/album?id=82784570" target="_blank" rel="noopener">Chamber music collection of 4 pieces: Lucainiao’s Trial on Chamber Music</a><br>Here are the two of them:</p><ul><li><a href="https://music.163.com/#/song?id=1407112983" target="_blank" rel="noopener">Duet for violin and piano: Crazy bug</a></li><li><a href="https://music.163.com/#/song?id=1400124120" target="_blank" rel="noopener">Fantasia Trio Fantasia in c# minor - for Flute, Cello and Piano</a></li></ul></blockquote></li><li><p>In late 2020, I plan to explore orchestration topics, and I tried to orchestrate Beethoven’s Piano Sonata No.30, 2nd movement.</p><blockquote><ul><li><strong>Orchestration - Beethoven Piano Sonata No.30 - 2 Prestissimo</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/orchestration-beethoven-piano-sonata-no30-2-prestissimo" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1498903299" target="_blank" rel="noopener">Netease</a></li></ul></blockquote></li></ul><h1 id="Explorations-on-jazz"><a href="#Explorations-on-jazz" class="headerlink" title="Explorations on jazz"></a>Explorations on jazz</h1><ul><li><p>In 2018, inspired by a friend who plays saxphone, I tried to write several works in Jazz style. After trying this, I found myself arrested! I began to add something jazzy in my works in late 2019 and early 2020. I created my first collection for my jazzy works in 2018 and early 2019.</p><blockquote><ul><li><a href="https://music.163.com/#/album?id=81658899" target="_blank" rel="noopener">Collection of 8 pieces: JAZZ rehearsal room</a><br>Here are the three of them:</li><li><a href="https://music.163.com/#/song?id=1391341109" target="_blank" rel="noopener">Rehearsal room for experts (高手的排练室)</a></li><li><a href="https://music.163.com/#/song?id=1391427346" target="_blank" rel="noopener">Are you feeling bored (是否感觉无聊)</a></li><li><a href="https://music.163.com/#/song?id=1391341110" target="_blank" rel="noopener">A flock of entertainers (喜剧仪仗队)</a></li></ul></blockquote></li><li><p>I then began to read <a href="https://www.amazon.com/Jazz-Piano-Book-Mark-Levine/dp/0961470151" target="_blank" rel="noopener"><em>the Jazz Piano Book</em></a> in early 2020, and learned several tricks! Then I composed a few jazz piano solos (and even played and recorded some of them):</p><blockquote><ul><li><a href="https://music.163.com/#/song?id=1412072801" target="_blank" rel="noopener">Fantasia for Christmas in C major</a></li><li><a href="https://music.163.com/#/album?id=89536700" target="_blank" rel="noopener">My blind mind</a></li></ul></blockquote></li><li><p>In late 2020, I began trying to compose pieces for brass ensambles. Here are several of such pieces:</p><blockquote><ul><li><strong>Jazz Sextet: 6+4</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/jazz-sextet-in-d-major-64" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1803729586" target="_blank" rel="noopener">Netease</a></li><li><strong>Jazz Sextet: Walking Freely</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/jazz-sextet-in-f-major-walking-freely" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1475119850" target="_blank" rel="noopener">Netease</a></li><li><strong>Brass Quintet in E flat major - A Happy Festival</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/brass-quintet-in-e-flat-major-a-happy-festival" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1470270973" target="_blank" rel="noopener">Netease</a></li></ul></blockquote></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="introduction" scheme="https://lucainiaoge.github.io.git/tags/introduction/"/>
    
      <category term="music" scheme="https://lucainiaoge.github.io.git/tags/music/"/>
    
  </entry>
  
  <entry>
    <title>Welcome! I am Tongyu Lu! 我是路通宇!</title>
    <link href="https://lucainiaoge.github.io.git/2020/07/18/personal-page/"/>
    <id>https://lucainiaoge.github.io.git/2020/07/18/personal-page/</id>
    <published>2020-07-17T16:00:00.000Z</published>
    <updated>2020-12-17T13:16:20.451Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>Thank you for coming to know about me!</strong><br><font color="gray">If “Tongyu Lu” is hard to pronounce… Try <strong>T’ungyü Lu</strong>… Or… <strong>Tony Lu</strong>! hahhh…</font></p><hr><div id="content"></div><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script><h1 id="About-Me"><a href="#About-Me" class="headerlink" title="About Me"></a>About Me</h1><ul><li>Currently studying at Harbin Institute of Technology (Shenzhen) as an undergraduate student in Electronic Information Engineering major.</li><li>I am interested in music informatics, including automatic music transcription, music generation and computational musicology.</li><li>I am an amateur composer. My ideas and my works are introduced <a href="#My-Musical-Minds">here</a></li></ul><p><img src="https://i.loli.net/2020/07/18/Iey4EUrcPWH1oLz.jpg" alt="me_smaller.jpg"><br><font color="gray"> My photo in LA Universal Studio </font></p><div style="display: none">![me.jpg](https://i.loli.net/2020/07/18/Y9hEZvTqo8Fe4bD.jpg)</div><h1 id="My-Musical-Minds"><a href="#My-Musical-Minds" class="headerlink" title="My Musical Minds"></a>My Musical Minds</h1><p>Instead of using DAW, I keep composing music with staff sheets. Although I cannot create impressing sound effects in this manner, I think it is more important to express the musical information in a higher level.</p><p>Some of my understandings on music composing and appreciation are introduced in <a href="https://lucainiaoge.github.io/2020/09/03/my-music-thoughts/" target="_blank" rel="noopener"><strong>the page of my music thoughts</strong></a>. Hope that you can find something inspiring in that article.</p><p>And here are a few of my pieces!</p><p><font color="gray"> If my music fails to be played here, you can click the links and listen to them in outside webpages. You can also find my music in my <a href="https://soundcloud.com/lu-tongyu" target="_blank" rel="noopener">SoundCloud Personal Page</a> or <a href="https://music.163.com/#/artist/album?id=31150711" target="_blank" rel="noopener">Netease Music (网易云音乐) Personal Page</a></font></p><blockquote><ul><li><strong>Jazz Sextet: 6+4</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/jazz-sextet-in-d-major-64" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1803729586" target="_blank" rel="noopener">Netease</a><iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/946063726&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/lu-tongyu" title="Lu Tongyu" target="_blank" style="color: #cccccc; text-decoration: none;">Lu Tongyu</a> · <a href="https://soundcloud.com/lu-tongyu/jazz-sextet-in-d-major-64" title="Jazz Sextet in D Major - 6+4" target="_blank" style="color: #cccccc; text-decoration: none;">Jazz Sextet in D Major - 6+4</a></div></li></ul></blockquote><blockquote><ul><li><strong>Jazz Sextet: Walking Freely</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/jazz-sextet-in-f-major-walking-freely" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1475119850" target="_blank" rel="noopener">Netease</a><iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/884455780&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/lu-tongyu" title="Lu Tongyu" target="_blank" style="color: #cccccc; text-decoration: none;">Lu Tongyu</a> · <a href="https://soundcloud.com/lu-tongyu/jazz-sextet-in-f-major-walking-freely" title="Jazz Sextet in F major - Walking Freely" target="_blank" style="color: #cccccc; text-decoration: none;">Jazz Sextet in F major - Walking Freely</a></div></li></ul></blockquote><blockquote><ul><li><strong>Jazz Quartet: Rehearsal Room for Experts (高手的排练室)</strong>; Links: <a href="https://music.163.com/#/song?id=1391341109" target="_blank" rel="noopener">Netease</a> | <a href="https://soundcloud.com/lu-tongyu/rehearsal-room-for-experts" target="_blank" rel="noopener">SoundCloud</a><iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/871639720&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/lu-tongyu" title="Lu Tongyu" target="_blank" style="color: #cccccc; text-decoration: none;">Lu Tongyu</a> · <a href="https://soundcloud.com/lu-tongyu/rehearsal-room-for-experts" title="Rehearsal Room for Experts 高手的排练室" target="_blank" style="color: #cccccc; text-decoration: none;">Rehearsal Room for Experts 高手的排练室</a></div></li></ul></blockquote><blockquote><ul><li><strong>Jazz Piano Work: Fantasia for Christmas in C Major</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/fantacia-for-christmas-in-c-major" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1412072801" target="_blank" rel="noopener">Netease</a><iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/871634182&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/lu-tongyu" title="Lu Tongyu" target="_blank" style="color: #cccccc; text-decoration: none;">Lu Tongyu</a> · <a href="https://soundcloud.com/lu-tongyu/fantacia-for-christmas-in-c-major" title="Fantasia for Christmas in C major" target="_blank" style="color: #cccccc; text-decoration: none;">Fantasia for Christmas in C major</a></div></li></ul></blockquote><blockquote><ul><li><strong>Brass Quintet in E flat major - A Happy Festival</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/brass-quintet-in-e-flat-major-a-happy-festival" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1470270973" target="_blank" rel="noopener">Netease</a><iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/874399084&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/lu-tongyu" title="Lu Tongyu" target="_blank" style="color: #cccccc; text-decoration: none;">Lu Tongyu</a> · <a href="https://soundcloud.com/lu-tongyu/brass-quintet-in-e-flat-major-a-happy-festival" title="Brass Quintet in E flat major - A Happy Festival" target="_blank" style="color: #cccccc; text-decoration: none;">Brass Quintet in E flat major - A Happy Festival</a></div></li></ul></blockquote><blockquote><ul><li><p><strong>Jazz Piano Work: My Blind Mind</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/my-blind-mind" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/album?id=89536700" target="_blank" rel="noopener">Netease</a></p></li><li><p><strong>Piano Work: Etude in c minor - Phone Ringtone</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/etude-in-c-minor-phone-ringtone" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1400108823" target="_blank" rel="noopener">Netease</a></p></li><li><p><strong>Duet for Violin and Piano: Crazy Bug</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/crazy-bug" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1407112983" target="_blank" rel="noopener">Netease</a></p></li><li><p><strong>Short Orchistral Piece: The Walking of Insects (惊蛰)</strong> ; Links: <a href="https://soundcloud.com/lu-tongyu/the-walking-of-insects-arrival-of-spring" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1346054283" target="_blank" rel="noopener">Netease</a></p></li><li><p><strong>Short Orchistral Piece: Spring Birds (春天的鸟)</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/birds-in-the-spring" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1356722304" target="_blank" rel="noopener">Netease</a></p></li><li><p><strong>Early Work: Wonderland (秘境)</strong>; Links: <a href="https://soundcloud.com/lu-tongyu/wonderland" target="_blank" rel="noopener">SoundCloud</a> | <a href="https://music.163.com/#/song?id=1339513121" target="_blank" rel="noopener">Netease</a></p></li></ul></blockquote><p>Finally, here is <a href="https://lucainiaoge.github.io/2020/07/18/my-music-explorations/" target="_blank" rel="noopener"><strong>a link of introduction</strong></a> of my explorations and my musical pieces!</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="blog_start" scheme="https://lucainiaoge.github.io.git/tags/blog-start/"/>
    
      <category term="introduction" scheme="https://lucainiaoge.github.io.git/tags/introduction/"/>
    
  </entry>
  
  <entry>
    <title>CNN Note2 - Back Propagation Alogorithm</title>
    <link href="https://lucainiaoge.github.io.git/2020/04/03/CNNnote2-BP_algorithm/"/>
    <id>https://lucainiaoge.github.io.git/2020/04/03/CNNnote2-BP_algorithm/</id>
    <published>2020-04-02T16:00:00.000Z</published>
    <updated>2020-04-03T13:41:33.364Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>This is a detailed derivation and summerization on back propagation (BP) algorithm in fully-connected neural networks and CNN:</p><a id="more"></a><h2 id="References-and-helpful-links"><a href="#References-and-helpful-links" class="headerlink" title="References and helpful links"></a>References and helpful links</h2><blockquote><ul><li><a href="http://cogprints.org/5869/1/cnn_tutorial.pdf" target="_blank" rel="noopener">Reference 1: CNN tutorial note of Jake Bouvrie</a></li><li><a href="https://blog.csdn.net/ck1798333105/article/details/52369122" target="_blank" rel="noopener">Reference 2: A helpful CSDN blog in Chinese, author - xqp_dream</a></li></ul></blockquote><h2 id="Prerequisites-for-this-note"><a href="#Prerequisites-for-this-note" class="headerlink" title="Prerequisites for this note"></a>Prerequisites for this note</h2><p>neural network concepts, CNN concepts, vector calculus</p><h1 id="First-Part-Review-–-BP-back-propagation-in-fully-connected-layers"><a href="#First-Part-Review-–-BP-back-propagation-in-fully-connected-layers" class="headerlink" title="First Part: Review – BP (back propagation) in fully connected layers"></a>First Part: Review – BP (back propagation) in fully connected layers</h1><h2 id="Review-of-Feedforward-and-BP-formula"><a href="#Review-of-Feedforward-and-BP-formula" class="headerlink" title="Review of Feedforward and BP formula"></a>Review of Feedforward and BP formula</h2><p><img src="https://i.loli.net/2020/04/03/l6dOyAPTnqRcGtS.jpg" alt="Part1_1-1_1.jpg"><br>Just a review, not a tutorial! How to derive the formula? Please go to learn neural network basics.<br>Give <a href="http://ufldl.stanford.edu/wiki/index.php/%E5%8F%8D%E5%90%91%E4%BC%A0%E5%AF%BC%E7%AE%97%E6%B3%95" target="_blank" rel="noopener">a link of tutorial from Andrew Ng</a></p><h2 id="Detailed-derivation-of-BP-formula"><a href="#Detailed-derivation-of-BP-formula" class="headerlink" title="Detailed derivation of BP formula"></a>Detailed derivation of BP formula</h2><p><img src="https://i.loli.net/2020/04/03/O9Kr2CpN7iLTegG.jpg" alt="Part1_1-2_1.jpg"><br><img src="https://i.loli.net/2020/04/03/1gUuzNhxtQnrEdY.jpg" alt="Part1_1-2_2.jpg"><br><img src="https://i.loli.net/2020/04/03/mZOnVXgxsQL4tYf.jpg" alt="Part1_1-2_3.jpg"></p><h1 id="Second-Part-math-in-CNN-–-representation-and-BP"><a href="#Second-Part-math-in-CNN-–-representation-and-BP" class="headerlink" title="Second Part: math in CNN – representation and BP"></a>Second Part: math in CNN – representation and BP</h1><h2 id="Math-formalization-of-CNN-feeding-forward"><a href="#Math-formalization-of-CNN-feeding-forward" class="headerlink" title="Math formalization of CNN feeding forward"></a>Math formalization of CNN feeding forward</h2><p><img src="https://i.loli.net/2020/04/03/miqXKzBD7CE1rL3.jpg" alt="Part2-1_1.jpg"><br><img src="https://i.loli.net/2020/04/03/ECVM5AsbKok2xLY.jpg" alt="Part2-1_2.jpg"></p><h2 id="BP-for-convolutional-layers"><a href="#BP-for-convolutional-layers" class="headerlink" title="BP for convolutional layers"></a>BP for convolutional layers</h2><p><img src="https://i.loli.net/2020/04/03/OspeVKBUJvXqGHD.jpg" alt="Part2-2_0.jpg"></p><h3 id="The-start-of-error-terms-and-dealing-with-BP-of-the-L-th-layer-which-is-a-pooling-layer"><a href="#The-start-of-error-terms-and-dealing-with-BP-of-the-L-th-layer-which-is-a-pooling-layer" class="headerlink" title="The start of error terms and dealing with BP of the $L^{th}$ layer (which is a pooling layer)"></a>The start of error terms and dealing with BP of the $L^{th}$ layer (which is a pooling layer)</h3><p><img src="https://i.loli.net/2020/04/03/z3EOHS85xdV4Wai.jpg" alt="Part2-2_1_1.jpg"><br><img src="https://i.loli.net/2020/04/03/5AM3KsWoSx7jvmR.jpg" alt="Part2-2_1_2.jpg"></p><h3 id="Dealing-with-BP-of-the-L-1-th-layer-which-is-a-convolutional-layer"><a href="#Dealing-with-BP-of-the-L-1-th-layer-which-is-a-convolutional-layer" class="headerlink" title="Dealing with BP of the $(L-1)^{th}$ layer (which is a convolutional layer)"></a>Dealing with BP of the $(L-1)^{th}$ layer (which is a convolutional layer)</h3><p><img src="https://i.loli.net/2020/04/03/9b1aSiH2FrcCzqp.jpg" alt="Part2-2_2_1.jpg"><br><img src="https://i.loli.net/2020/04/03/fQND1v9PutTHmCc.jpg" alt="Part2-2_2_2.jpg"><br><img src="https://i.loli.net/2020/04/03/k5PZdEBDzOVWL1r.jpg" alt="Part2-2_2_3.jpg"><br><img src="https://i.loli.net/2020/04/03/dRnJtA8plyIFMbY.jpg" alt="Part2-2_2_4.jpg"></p><h2 id="BP-for-CNN-–-a-summarization"><a href="#BP-for-CNN-–-a-summarization" class="headerlink" title="BP for CNN – a summarization"></a>BP for CNN – a summarization</h2><p><img src="https://i.loli.net/2020/04/03/5NhKxmcvrGFbWZz.jpg" alt="Part2-2_3.jpg"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;Intro&quot;&gt;&lt;a href=&quot;#Intro&quot; class=&quot;headerlink&quot; title=&quot;Intro&quot;&gt;&lt;/a&gt;Intro&lt;/h1&gt;&lt;p&gt;This is a detailed derivation and summerization on back propagation (BP) algorithm in fully-connected neural networks and CNN:&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="machine_learning" scheme="https://lucainiaoge.github.io.git/tags/machine-learning/"/>
    
      <category term="CNN" scheme="https://lucainiaoge.github.io.git/tags/CNN/"/>
    
      <category term="neural_network" scheme="https://lucainiaoge.github.io.git/tags/neural-network/"/>
    
      <category term="math" scheme="https://lucainiaoge.github.io.git/tags/math/"/>
    
  </entry>
  
  <entry>
    <title>Course Note1 - Propositional Logic - BN and inference UCLA Adnan Darwiche</title>
    <link href="https://lucainiaoge.github.io.git/2020/03/18/course_note1-propositional_logic-BN_and_inference_UCLA_Adnan/"/>
    <id>https://lucainiaoge.github.io.git/2020/03/18/course_note1-propositional_logic-BN_and_inference_UCLA_Adnan/</id>
    <published>2020-03-17T16:00:00.000Z</published>
    <updated>2020-08-03T11:16:02.759Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>This is a fundamental course for those who wanna have a thorough understanding of Baysian Networks:</p><a id="more"></a><blockquote><ul><li><a href="https://www.bilibili.com/video/av44032749" target="_blank" rel="noopener">bilibili course link: UCLA Bayesian Networks and Inference - Adnan Darwiche</a></li><li><a href="https://www.youtube.com/watch?v=-6A6b_Z4bIg&list=PLlDG_zCuBub6ywAIrM1DfJp8xaeVjyvwx" target="_blank" rel="noopener">youtube course link: UCLA Bayesian Networks and Inference - Adnan Darwiche</a></li></ul></blockquote><p>When studying the course, I was somehow confused partly because the lecture goes too fast. I have to frequently halt and comprehend the slides. Luckily, the slides are very well arranged.<br>Through the first several courses, we are lead to discover the mathematical essence of Baysian Networks (BN).</p><h2 id="Prerequisites-for-this-note"><a href="#Prerequisites-for-this-note" class="headerlink" title="Prerequisites for this note"></a>Prerequisites for this note</h2><p>Knowing what sets are, knowing basic boolean logic, a mathematical mind</p><h2 id="Purpose-of-this-note"><a href="#Purpose-of-this-note" class="headerlink" title="Purpose of this note"></a>Purpose of this note</h2><p>Set up the foundation of probability calculus.</p><p>Link logical calculation with set calculation.</p><h1 id="Constructing-Propositional-Logic"><a href="#Constructing-Propositional-Logic" class="headerlink" title="Constructing Propositional Logic"></a>Constructing Propositional Logic</h1><p><strong>Motivation:</strong> There will be a great deal of definitions. My understanding is that they are like fundations of the magnificent building of probibilistic inference for what we interpret as “events” are explained with the Propositional Logic.</p><p><font color="Crimson" size="4"><strong>Definition (propositional variable and sentence/event):</strong></font><font color="DarkRed" size="3"> a propositional variable $p$ is defined on a discrete set P;a sentence or an event $\alpha$ is an assignment of propositional variables. $\alpha$ can hold <strong>true</strong> or <strong>false</strong></font></p><p>In other words,$(p=p_0)=\alpha \in \lbrace \pmb{true},\pmb{false} \rbrace$<br>In the following discussions, we take <strong>True</strong> as T and <strong>False</strong> as F.</p><blockquote><p>e.g. propositional variable: B=”Burglery”, E=”Earthquake”, A=”Alarm”; a sentence: $\alpha$=(B=T,A=F)</p></blockquote><p>When we have a lot of propositional variables, the combinitions of <strong>possible circumstances</strong> are exploding exponentially. To efficiently deal with that is one of our tasks.<br>First we have to define such <strong>possible circumstances</strong> with term “world”:</p><p><font color="Crimson" size="4"><strong>Definition (world):</strong></font><font color="DarkRed" size="3"> a world $w$ is an assignment for <strong>all</strong> propositional variables $p_i$.</font></p><p>We can treat worlds as smallest elements of the whole set $\Omega$.</p><blockquote><p>e.g. $p_B$=”Burglery”, $p_E$=”Earthquake”, $p_A$=”Alarm”<br>$w_1=[(p_B,p_E,p_A)=(T,T,T)]$<br>$w_2=[(p_B,p_E,p_A)=(T,T,F)]$<br>$w_3=[(p_B,p_E,p_A)=(T,F,T)]$<br>$w_4=[(p_B,p_E,p_A)=(T,F,F)]$<br>$w_5=[(p_B,p_E,p_A)=(F,T,T)]$<br>$w_6=[(p_B,p_E,p_A)=(F,T,F)]$<br>$w_7=[(p_B,p_E,p_A)=(F,F,T)]$<br>$w_8=[(p_B,p_E,p_A)=(F,F,F)]$<br>$\Omega=\lbrace w_1,w_2,…,w_8 \rbrace$</p></blockquote><p><font color="Crimson" size="4"><strong>Definition ($w \models \alpha$):</strong></font><font color="DarkRed" size="3"> a world $w$ holds true if a sentence $\alpha$ is true.</font></p><blockquote><p>e.g. given sentences: $B=[p_B=T]$(means Burglery happens), $E=[p_E=T]$, $A=[p_A=T]$, $\neg B=[p_B=F]$ and so forth<br>Then, $w_1 \models B$, $w_5 \models \neg B$</p></blockquote><p><font color="Crimson" size="4"><strong>Definition (model of sentence $\alpha$):</strong></font><font color="DarkRed" size="3"> $Mods(\alpha)=\lbrace w:w \models \alpha ,w\in \Omega \rbrace$</font><br>Model of a sentence is a set. It’s obvious that model of a sentence is unique and given a set of worlds there is a unique sentence whose model is the set.</p><blockquote><p>e.g. $Mods(B)=\lbrace w_1,w_2,w_3,w_4 \rbrace$</p></blockquote><p>Until now, we know that:</p><ol><li>We are studying <strong>Propasitional Variables</strong> which are discrete</li><li>A <strong>sentence/event</strong> is a function for Propasitional Variable vectors (i.e. a value assignment). The function value domain is $\lbrace \pmb{true},\pmb{false} \rbrace$</li><li>A <strong>world</strong> is a sentence considering all Propasitional Variables.</li><li><strong>Model of a sentence</strong> is a set whose elements are worlds that hold true when this sentence holds true.</li></ol><p>Hope you are getting excited: we are linking the logic world of Ture or False with the world of sets. We can really define logical calculations.</p><h1 id="Propositional-Logic-Calculation"><a href="#Propositional-Logic-Calculation" class="headerlink" title="Propositional Logic Calculation"></a>Propositional Logic Calculation</h1><p><font color="Crimson" size="4"><strong>Definition (Basic Propositional Logic Calculation):</strong></font><font color="DarkRed" size="3"> given sentence $\alpha$ and $\beta$<br>$\alpha \wedge \beta $ is such a sentence that $Mods(\alpha \wedge \beta)=Mods(\alpha)\cap Mods(\beta)$<br>$\alpha \vee \beta $ is such a sentence that $Mods(\alpha \wedge \beta)=Mods(\alpha)\cup Mods(\beta)$<br>$\neg \alpha $ is such a sentence that $Mods(\neg \alpha)=\Omega \setminus Mods(\alpha)$<br></font><br>You see? Your familiar logical calculation “and”,”or” and “not” is actually set calculation “intersection”,”union” and “complement”.</p><p><font color="Crimson" size="4"><strong>Definition (relationships of sentences):</strong></font><font color="DarkRed" size="3"> given sentence $\alpha$ and $\beta$<br>$\alpha$ is <strong>consistent or satisfiable</strong> $\Leftrightarrow$ $Mods(\alpha)\neq \emptyset$<br>$\alpha$ is <strong>valid</strong> $\Leftrightarrow$ $Mods(\alpha)= \Omega$ $\Leftrightarrow$ $\models \alpha$ $\Leftrightarrow$ $\alpha = True$<br>$\alpha$ and $\beta$ are <strong>equivalent</strong> $\Leftrightarrow$ $Mod(\alpha)=Mods(\beta)$<br>$\alpha$ and $\beta$ are <strong>mutually exclusive</strong> $\Leftrightarrow$ $Mods(\alpha)\cap Mods(\beta)=\emptyset$<br>$\alpha$ and $\beta$ are <strong>exhaustive</strong> $\Leftrightarrow$ $Mods(\alpha)\cup Mods(\beta)=\Omega$<br>$\alpha$ <strong>implies</strong> $\beta$ $\Leftrightarrow$ $Mods(\alpha)\subset Mods(\beta)$ $\Leftrightarrow$ $\alpha \models \beta$<br></font><br>I think those definitions are to remind people the importance of such relationships. Also helping people to communicate in a more logical manner…</p><p>A few more definitions of Propositional Logic calculation:<br><font color="Crimson" size="4"><strong>Definition (More Propositional Logic Calculation):</strong></font><font color="DarkRed" size="3"> given sentence $\alpha$ and $\beta$<br>$\alpha \rightarrow \beta $ $\Leftrightarrow$ $\neg \alpha \vee \beta$<br>$\alpha \leftrightarrow \beta $ $\Leftrightarrow$ $(\alpha \rightarrow \beta)\wedge (\beta \rightarrow \alpha)$<br></font><br>Worth noticing those definitions.<br>$\alpha \rightarrow \beta $ is in fact telling you that $\alpha$ implies $\beta$, or <strong>contraposition</strong>. $\alpha \rightarrow \beta = True$ means: whenever $\alpha$ is true, $\beta$ is true. So $Mods(\alpha)\subset Mods(\beta)$. (Think the worlds!)<br>$\alpha \leftrightarrow \beta $ is actually <strong>XNOR</strong>. $\alpha \leftrightarrow \beta = True$ means that $\alpha$ and $\beta$ are equivalent.</p><p>Several examples:</p><blockquote><p>given sentences: $B=[p_B=T]$, $E=[p_E=T]$, $A=[p_A=T]$, $\neg B=[p_B=F]$ and so forth<br>$\alpha=(E \vee B)\rightarrow A$<br>$Mods(\alpha)=\lbrace w_1,w_3,w_5,w_7,w_8 \rbrace$<br>$\beta=(E \rightarrow B)$<br>$Mods(\beta)=\lbrace w_1,w_2,w_5,w_6,w_7,w_8 \rbrace$<br>then, $Mods(\alpha \wedge \beta)=\lbrace w_1,w_5,w_7,w_8 \rbrace$</p></blockquote><p>Calculating intersection is in fact adding information, and we throw away world elements by doing this. This is compactible with information theory!</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;Intro&quot;&gt;&lt;a href=&quot;#Intro&quot; class=&quot;headerlink&quot; title=&quot;Intro&quot;&gt;&lt;/a&gt;Intro&lt;/h1&gt;&lt;p&gt;This is a fundamental course for those who wanna have a thorough understanding of Baysian Networks:&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="machine_learning" scheme="https://lucainiaoge.github.io.git/tags/machine-learning/"/>
    
      <category term="BN" scheme="https://lucainiaoge.github.io.git/tags/BN/"/>
    
      <category term="logic" scheme="https://lucainiaoge.github.io.git/tags/logic/"/>
    
  </entry>
  
  <entry>
    <title>2019数模国赛B题解析Part2(Analysis of 2019CUMCM Question-B Part2)</title>
    <link href="https://lucainiaoge.github.io.git/2019/10/02/math-modling-2019CUMCM-answer-2/"/>
    <id>https://lucainiaoge.github.io.git/2019/10/02/math-modling-2019CUMCM-answer-2/</id>
    <published>2019-10-01T16:00:00.000Z</published>
    <updated>2019-10-04T10:12:31.415Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><p>这篇文章讲解2019年数学建模国赛B题的求解历程。这是第二篇。</p><ul><li>基础知识required：运动学和牛顿力学，空间向量的概念，最好有点反馈控制的知识（没有也行）</li></ul><a id="more"></a><ul><li>本文物理量如果无特殊说明一律采用国际单位制</li><li>若无法显示公式，或者出现[Math Processing Error]，请尝试shift+F5或者ctrl+shift+F5刷新页面<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script></li></ul><h1 id="Restart-Operate-in-3D-World"><a href="#Restart-Operate-in-3D-World" class="headerlink" title="Restart: Operate in 3D World"></a>Restart: Operate in 3D World</h1><p>上回书说道，为了解决前两问，我们搭建了<del>逼真的物理引擎</del>，然后建立了竖直方向施力的反馈机制。上一文章链接：<a href="https://lucainiaoge.github.io/2019/09/29/math-modling-2019CUMCM-answer-1/" target="_blank" rel="noopener">2019数模国赛B题解析Part1(Analysis of 2019CUMCM Question-B Part1)</a></p><p>但是，我们怎么让我们的模型适用于三维世界？我们还有哪些没有做？捋了一遍，发现还差好多！具体总结如下：<br><img src="https://i.loli.net/2019/10/02/g4J72biRmOPfU9j.png" alt="TODO_list.png"></p><p>让我们逐(man)一(man)解决！</p><h2 id="Solution-Get-Feedback-and-Adjust"><a href="#Solution-Get-Feedback-and-Adjust" class="headerlink" title="Solution: Get Feedback and Adjust"></a>Solution: Get Feedback and Adjust</h2><p>在这里依然使用反馈的思路，只不过不能是简单地画一个单调递减函数就能解决的问题了。这回，我们要按照控制论的思想实时进行控制了！</p><p>什么是控制论的思想？就是：首先，我们有一个目标的值，叫做期望值。假如我们想让$\Delta t$时间后，被控制物体的位置$\pmb{r}(t+\Delta t)$变到$\pmb{r_0}$，那么我们就说期望值为$\pmb{r_0}$。</p><p>在这里请允许我借用概率论中求期望的符号:$E[\pmb{r}(t+\Delta t)]=\pmb{r_0}$</p><p>请注意：这里的$E[·]$作用的对象是我们要调整的时变量，我们假定$E[·]$对于这些时变量的期望具有<strong>线性性质</strong>，这么认为的理由在后面会有解释。</p><p>那么接下来，我们就要竭尽所能达成这个期望。我们能干什么？当然是：调整力！牛顿力学的体系下，我们可以认为：力是改变物体运动状态的<strong>原因</strong>！</p><p>接下来，我是用PID（比例积分微分）的方法来进行控制。什么是PID？可以自行百度，这里只是一个名称罢了，代表一种方法，没必要知道工程上如何使用。实现这道题的要求，进行比例控制就够了。</p><p>如果仅使用比例控制，则$E[x]=K_p x$，$K_p$为比例系数。也就是下一次的输出量为期望值乘以一个系数。下文中，出现“求期望”字样，指的是获取目标量的期望值，不是统计学中的期望！</p><h3 id="PID-in-problem-①-amp-②"><a href="#PID-in-problem-①-amp-②" class="headerlink" title="PID in problem ①&amp;②"></a>PID in problem ①&amp;②</h3><p>①好说，每次将要碰撞（球中心距离距鼓面距离等于球的半径）的时候进行一次判断，如果此时球在水平面的投影不落在鼓的投影内部，那么就判负。</p><p>主要讲如何实现②：控制拉力合力的水平分力，使鼓始终跟随球走。</p><p>力和位置，一个是二阶量，一个是零阶量，无法直接得出力的控制方程（就是决定下一时刻的输出量的计算式）。有一个办法：使用串级PID，不过这里我不打算采用这样的方法。</p><p>还有一个办法：我们连推两阶，就可以获取力的控制方程了。</p><p>下一时刻，鼓水平位置的期望值为球水平位置：<br>$E[\pmb{r_d}(i+1)]=\pmb{r_b(i)}$(注意，这里向量都是二维向量)<br>考虑运动方程$\pmb{r_d}(i+1)=\pmb{r_d}(i)+\pmb{v_d}(i)\Delta t$<br>由于实际世界是连续的，我们的迭代步长可以取得足够小，使得：$|\pmb{v_d}(i+1)-\pmb{v_d}(i)|&lt;\epsilon$<br>所以运动方程还可写为：$\pmb{r_d}(i+1)=\pmb{r_d}(i)+\pmb{v_d}(i+1)\Delta t$</p><p>运动方程两边求期望得到：$E[\pmb{v_d}(i+1)]=(E[\pmb{r_d}(i+1)]-\pmb{r_d}(i))/\Delta t=(\pmb{r_b}(i)-\pmb{r_d}(i))/\Delta t$<br>记$\pmb{r_{db}}(i)=(\pmb{r_b}(i)-\pmb{r_d}(i))$<br>则有$E[\pmb{v_d}(i+1)]=\pmb{r_{db}}(i)/\Delta t$<br>仅使用PID比例控制，则可以拆掉期望运算$\pmb{v_d}(i+1)=\pmb{K_{pv}}\pmb{r_{db}}(i)/\Delta t$<br>其中：$\pmb{K_{pv}}=diag(k_{vx},k_{vy})$<br>又根据冲量定理，$\pmb{v_d}(i+1)=\pmb{v_d}(i)+\pmb{F_{xy}}(i)\Delta t/m_d$<br>结合以上式子，经过简单代入和移项，可以推出：</p><blockquote><p>$\pmb{F_{xy}}(i)=\pmb{K_{pv}}\pmb{r_{db}}(i)m_d/(\Delta t)^2-\pmb{v_d}(i)m_d/\Delta t $<br>这就是我们想要的控制方程，按照这个式子设置此时的合力即可使得鼓的水平位置趋向于球的水平位置！</p></blockquote><h3 id="PID-in-problem-③"><a href="#PID-in-problem-③" class="headerlink" title="PID in problem ③"></a>PID in problem ③</h3><p>③的目的是：让鼓始终保持水平。为什么要让鼓保持水平？一个原因是让球更容易被接到；还有一个原因就是减少转动防止力的不均匀性使得鼓过不了多久就转翻了。<br>对于力矩的推导相似，但是更复杂。具体呢：看下面吧！</p><p>我们期望鼓的法向量$\pmb{n}(i+1)$为$z单位向量\pmb{e_z}$，即$E[\pmb{n}(i+1)]=\pmb{e_z}$<br>根据转动定理和连续性，$\pmb{n}(i+1)=\pmb{n}(i)+\pmb{\omega}(i+1)\times\pmb{n}(i)\Delta t$<br>两边求期望得到$E[\pmb{\omega}(i+1)]\times\pmb{n}(i)\Delta t=E[\pmb{n}(i+1)]-\pmb{n}(i)$<br>代入$E[\pmb{n}(i+1)]=\pmb{e_z}$得到$E[\pmb{\omega}(i+1)]\times\pmb{n}(i)\Delta t=\pmb{e_z}-\pmb{n}(i)$<br>我们仅使用比例控制PID，那么可以继续拆掉期望运算，得到：<br>$\pmb{\omega}(i+1)\times\pmb{n}(i)\Delta t=\pmb{K_{pr}}(\pmb{e_z}-\pmb{n}(i))$<br>其中，$\pmb{K_{pr}}=diag(k_{rx},k_{ry},k_{rz})$<br>列出动力学公式$J\pmb{\omega}(i+1)=J\pmb{\omega}(i)+\pmb{M}(i)\Delta t$<br>将动力学公式两边同时叉乘$\pmb{n}(i)$，结合已得到的式子，推出<br>$\pmb{M}(i)\times\pmb{n}(i)\Delta t=J\pmb{K_{pr}}(\pmb{e_z}-\pmb{n}(i))/\Delta t-J\pmb{\omega}(i)\times\pmb{n}(i)$<br>我们最终要得到$\pmb{M}(i)$&lt;所以把这个向量积方程解出来就好了。这个方程怎么解？<br>我们先把和设定值$\pmb{M}(i)$无关的已知量（即时刻$i$的运动参量）挪到一边去，<br>令$\pmb{S}(i)=J[\pmb{K_{pr}}(\pmb{e_z}-\pmb{n}(i))/\Delta t-\pmb{\omega}(i)\times\pmb{n}(i)]/\Delta t$<br>那么这个方程就写成了$\pmb{M}(i)\times\pmb{n}(i)=\pmb{S}(i)$<br>求解过程如下图<br><img src="https://i.loli.net/2019/10/03/XmkEJsN53zDy4gn.png" alt="solve_equation.png"><br>最终得到：</p><blockquote><p>$\pmb{M}(i)=diag(-S_y(i)/n_z(i),S_x(i)/n_z(i),0)$<br>这就是我们想要的力矩的控制方程，按照此式子迭代可以使得鼓始终保持水平</p></blockquote><h3 id="Problem-④-amp-⑤"><a href="#Problem-④-amp-⑤" class="headerlink" title="Problem ④&amp;⑤"></a>Problem ④&amp;⑤</h3><p>问题一个个解决，一半多的理论问题已经被搞定了！那么，三维碰撞怎么描绘？如何刻画使球竖直弹回的条件？</p><h4 id="Describe-3D-Collision"><a href="#Describe-3D-Collision" class="headerlink" title="Describe 3D Collision"></a>Describe 3D Collision</h4><p>先解决碰撞的迭代公式<br><img src="https://i.loli.net/2019/10/03/cd1Tux6BAgvISqG.png" alt="collision_analysis.png"><br>上图是碰撞瞬间部分物理量的示意图。我们需要研究N点两个物体的速度。这涉及到了：鼓在N点的线速度(质心速度和转动线速度之和)、鼓的转动角速度、碰撞点的位置、球的质心速度(之前假设不考虑球的自转)。让我们一一列方程！<br>设鼓的厚度为$h$，球的半径为$R$，用单一字母代表原点到该字母表示点的向量，那么有<br>$\pmb{PQ}=h\pmb{n}/2$,$\pmb{N}=\pmb{O}-h\pmb{n}/2$,$\pmb{Q}=\pmb{P}+\pmb{PQ}$<br>我们知道$平面\sigma:n_x(x-x_Q)+n_y(y-y_Q)+n_z(z-z_Q)=0$<br>其中$n_x,n_y,n_z$为鼓面单位法向量的分量<br>那么球到鼓面的距离为$d_{ON}=|n_x(x_O-x_Q)+n_y(y_O-y_Q)+n_z(z_O-z_Q)|$<br>每次迭代判断一次$d_{ON}\le R?$，如果成立则对碰撞进行迭代：<br>设此时鼓的质心速度为$\pmb{v_d}$，鼓的角速度为$\pmb{\omega}$，$N$点处鼓的旋转线速度为$\pmb{v_{\tau}}$，N点鼓的质点速度为$\pmb{v_{N}}$，球的质心速度为$\pmb{v_d}$，那么我们有：<br>$\pmb{v_{\tau}}=\pmb{\omega}\times\pmb{PN}$<br>$\pmb{v_{N}}=\pmb{v_d}+\pmb{v_{\tau}}$<br>下面，列写动力学方程更新下一时刻鼓和球的运动参量：<br>对物体列冲量定理和碰撞系数定义式<br>$\pmb{P}(i)=m_{b} \pmb{v_b}(i)+m_{d} \pmb{v_d}(i) $（前一时刻动量）<br>$\pmb{P}(i+1)=m_{b} \pmb{v_b}(i+1)+m_{d} \pmb{v_d}(i+1) $（后一时刻动量）<br>$I(i)=\sum \pmb{F}(i) \Delta t-\left(m_{b}+m_{d}\right) g \Delta t \pmb{e_z} $（外力冲量）<br>$\pmb{P}(i)+\pmb{I}(i)=\pmb{P}(i+1) $（冲量定理）<br>$e\left[\pmb{v_b}(i+1)-\pmb{v_d}(i+1)\right]=\pmb{v_d}(i)-\pmb{v_b}(i) $（碰撞系数定义）</p><!--![formula-collision-3D-source.png](https://i.loli.net/2019/10/03/yU9PwAunKDNcYXf.png)--><p>上面$\pmb{\sum F}$为队员拉力的合力。<br>可以求得下一时刻二者的质心速度</p><blockquote><p><img src="https://i.loli.net/2019/10/03/qQ1dcMPTu6bwEUt.png" alt="formula-collision-3D.png"></p></blockquote><p>对系统列角动量守恒得到<br>$J\pmb{\omega}(i)+\pmb{PO}\times m_b\pmb{v_b}(i)=J\pmb{\omega_d}(i+1)+\pmb{PO}\times m_b\pmb{v_b}(i+1)$<br>整理得到下一时刻鼓的角速度</p><blockquote><p>$\pmb{\omega}(i+1)=\pmb{\omega}(i)+\pmb{PO}\times m_b(\pmb{v_b}(i)-\pmb{v_b}(i+1))$</p></blockquote><h4 id="Describe-the-Condition-in-⑤"><a href="#Describe-the-Condition-in-⑤" class="headerlink" title="Describe the Condition in ⑤"></a>Describe the Condition in ⑤</h4><p>下面，我们需要探究碰撞瞬间满足什么条件，就可以将球竖直弹回。<br>如果下一时刻球竖直弹回，那么一定有：<br>$\pmb{v_b}(i+1)\times\pmb{e_z}=0$<br>根据上一部分推出的鼓质心速度$\pmb{v_d}(i+1)$的计算公式，忽略重力影响，得到<br><img src="https://i.loli.net/2019/10/03/FO4jHdkUBqPf3Vl.png" alt="formula-collision-3D-part.png"><br>式子两边同时叉乘$\pmb{e_z}$并移项化简，得到：<br><img src="https://i.loli.net/2019/10/03/8aeiAUXDIf4Lb9x.png" alt="formula-collision-3D-part2.png"><br>写成分量形式并运算向量积，得到：</p><blockquote><p><img src="https://i.loli.net/2019/10/03/gFZpkHW5nCusXoT.png" alt="formula-collision-3D-part3.png"><br>这就是让球竖直弹回应该满足的条件。可以发现，如果不考虑碰撞过程中摩擦等情况，仅调用碰撞系数，球在下一时刻的弹回方向仅由鼓和球的水平质心速度决定，而且二者速度反向共线。</p></blockquote><h3 id="Problem-⑥"><a href="#Problem-⑥" class="headerlink" title="Problem ⑥"></a>Problem ⑥</h3><p>将上一部分推导的条件写成二维向量的向量表达式：<br><img src="https://i.loli.net/2019/10/04/WuKfHAkLJdUxrZY.png" alt="formula-collision-3D-part4.png"><br>下面推导省去脚标$xy$，向量都是二维向量，$水平合力\pmb{F_{xy}}=\pmb{\sum T}$。<br>将此式子中的$ \pmb{v_d}(i)$作为下一时刻鼓速度$\pmb{v_d}(i+1)$的参考值。移项，可以获得：<br>$E[\pmb{v_d}(i+1)]=-(\frac{\pmb{\sum T(i)}-(m_b+m_d)g\pmb{e_z}}{(1+e)m_d}\Delta t + \frac{m_b-em_d}{(1+e)m_d}\pmb{v_b}(i))$<br>仅采用比例控制PID，则可以拆掉期望运算：<br>$\pmb{v_d}(i+1)=-\pmb{K_{pf}}(\frac{\pmb{\sum T(i)}-(m_b+m_d)g\pmb{e_z}}{(1+e)m_d}\Delta t + \frac{m_b-em_d}{(1+e)m_d}\pmb{v_b}(i))$<br>其中$\pmb{K_{pf}}=diag(k_{fx},k_{fy})$<br>结合冲量定理：$m_d\pmb{v_d}(i+1)-m_d\pmb{v_d}(i)=\pmb{\sum T(i)}\Delta t$<br>令$\lambda=(em_d-m_b)/\Delta t$，再参考连续性并化简上式可以得到：</p><blockquote><p>$\pmb{F_{xy}}(i)=\pmb{\sum T(i)}=diag(\frac{\lambda k_{fx}-1}{1+k_{fx}},\frac{\lambda k_{fy}-1}{1+k_{fy}})\pmb{v_b}(i)$<br>这就是迎接球使其竖直弹回需要设定的下一时刻水平合力迭代公式<br>细心的小伙伴会发现：这个式子和之前问题②的迭代式子打架了，不过没关系，我们使用分段PID，在判断球快要碰撞时才采用此表达式。</p></blockquote><h2 id="Results-3D-movement"><a href="#Results-3D-movement" class="headerlink" title="Results: 3D movement"></a>Results: 3D movement</h2><p>先上效果图：<img src="https://i.loli.net/2019/10/04/2lUHrf6sEc4qu17.gif" alt="3D_system_demonstrate_Compress.gif"><br>如何实现的？之前我们的准备工作已经十分充足了！话不多说，现在只需要把迭代公式列一遍：</p><blockquote><hr><ul><li>Section 0: get several values<br>$d_{ON}=|n_x(x_O-x_Q)+n_y(y_O-y_Q)+n_z(z_O-z_Q)|$ (球到鼓面的距离)<br>set $\pmb{K_{pv}},\pmb{K_{pr}},\pmb{K_{pf}},\epsilon_d,\epsilon_v,\epsilon_{collide}$</li></ul><hr><ul><li>Section 1: set $\pmb{M}(i),\pmb{F}(i), status \quad X$<ul><li>角动量设置<br>$\pmb{S}(i)=J[\pmb{K_{pr}}(\pmb{e_z}-\pmb{n}(i))/\Delta t-\pmb{\omega}(i)\times\pmb{n}(i)]/\Delta t$<br>$\pmb{M}(i)=diag(-S_y(i)/n_z(i),S_x(i)/n_z(i),0)$</li><li>水平合力设置<br>$if \quad d_{ON}&gt;\epsilon_d$ ……(距离较远，鼓追球)<br>$\quad\pmb{F_{xy}}(i)=\pmb{K_{pv}}\pmb{r_{db}}(i)m_d/(\Delta t)^2-\pmb{v_d}(i)m_d/\Delta t $ ……(二维向量)<br>$else$ ……(距离较近，鼓迎球)<br>$\quad\lambda=(em_d-m_b)/\Delta t$<br>$\quad\pmb{F_{xy}}(i)=diag(\frac{\lambda k_{fx}-1}{1+k_{fx}},\frac{\lambda k_{fy}-1}{1+k_{fy}})\pmb{v_b}(i)$…… (二维向量)</li><li>竖直合力设置<br>$F_z(i)=min(F_X(i),T_{lim}(z_d(i)))$,$F_X(i)\in \lbrace F_I,F_{II},F_{III},F_{IV} \rbrace$</li><li>根据第一问的状态机更新状态X(此处略去)</li></ul><hr></li><li>Section 2: physics system<ul><li>rotation<br>$\pmb{\omega}(i+1)=\pmb{\omega}(i)+\pmb{M}(i)\Delta t/J$……(转动定理)<br>$\pmb{\Delta n}(i)=\pmb{n(i)}\times\pmb{\omega}(i)\Delta t$……(角速度造成的法向量瞬时变化量)<br>$\pmb{n}(i+1)=\pmb{n}(i)+\pmb{\Delta n}(i)$……(更新法向量)<br>$\pmb{n}(i+1)=\pmb{n}(i+1)/ | \pmb{n}(i+1) |$……(归一化消除长度误差)<br>$\pmb{R_k^o}(i+1)=\pmb{R}(i+1)\pmb{R_k^o}(1)$……(更新鼓的径向,R为旋转矩阵)</li><li>translation<br>drum：<br>$\pmb{f_{d_{air}}}(i) = 0.5 C_d \rho S_d  \pmb{v_d}(i) |\pmb{v_d}(i)|$<br>$m_d \pmb{v_d}(i+1) = (-m_d g\pmb{e_z} + \rho V_d g\pmb{e_z} - \pmb{f_{d_{air}}}(i) + \pmb{F}(i))\Delta t + m_d \pmb{v_d(i)}$<br>$\pmb{r_d}(i+1) = \pmb{r_d}(i) + \pmb{v_d}(i)\Delta t$<br>ball：<br>$\pmb{f_{b_{air}}}(i) = 0.5 C_b \rho S_b  \pmb{v_b}(i) |\pmb{v_b}(i)|$<br>$m_b \pmb{v_b}(i+1) = (-m_b g\pmb{e_z} + \rho V_b g\pmb{e_z} - \pmb{f_{b_{air}}}(i) + m_b \pmb{v_b(i)}$.<br>$\pmb{r_b}(i+1) = \pmb{r_b}(i) + \pmb{v_b}(i)\Delta t$</li><li>collision<br>$if \quad d_{ON}&lt;\epsilon_{collide}$<br>$\quad\pmb{P}(i)=m_{b} \pmb{v_b}(i)+m_{d} \pmb{v_d}(i) $<br>$\quad I(i)=\pmb{F}(i) \Delta t-\left(m_{b}+m_{d}\right) g \Delta t \pmb{e_z} $<br>$\quad$<img src="https://i.loli.net/2019/10/03/qQ1dcMPTu6bwEUt.png" alt="formula-collision-3D.png"><br>$\quad\pmb{\omega}(i+1)=\pmb{\omega}(i)+\pmb{r_{db}}(i)\times m_b(\pmb{v_b}(i)-\pmb{v_b}(i+1))$</li></ul></li></ul><hr><ul><li>Section 3: judge system<br>$if \quad d_{ON}&lt;\epsilon_{collide}$……(接不到球)<br>$\quad if \quad (x_d-x_b)^2+(y_d-y_b)^2&gt;R_d^2$……(简单化处理)<br>$\quad\quad fail=2$<br>$if \quad v_b(i)&lt;\epsilon_{v}$……(球达到最高)<br>$\quad if \quad d_{ON}&lt;0.4$……(球太低的判负)<br>$\quad\quad fail=1$</li></ul></blockquote><h2 id="Implementation-solve-Q4-partially"><a href="#Implementation-solve-Q4-partially" class="headerlink" title="Implementation: solve Q4 partially"></a>Implementation: solve Q4 partially</h2><blockquote><p>Q4: 当鼓面发生倾斜时，球跳动方向不再竖直，于是需要队员调整拉绳策略。假设人数为10，绳长为2m，球的反弹高度为60cm，相对于竖直方向产生1度的倾斜角度，且倾斜方向在水平面的投影指向某两位队员之间，与这两位队员的夹角之比为1:2。为了将球调整为竖直状态弹跳，请给出在可精确控制条件下所有队员的发力时机及力度，并分析在现实情形中这种调整策略的实施效果。</p></blockquote><p>初始条件，按照我们的解读刻画如下：<br><img src="https://i.loli.net/2019/10/04/6N8FTysDujeWCk5.png" alt="Q4_init.png"><br>$\pmb{r_b}(1) =\left(\cos \left(\left(\frac{2 \pi}{N}\right)(k-1)+\frac{2 \pi}{3 N}\right) x, \sin \left(\left(\frac{2 \pi}{N}\right)(k-1)+\frac{2 \pi}{3 N}\right) x, \Delta H\right)$<br>$\pmb{v_b}(1) =\left(\cos \left(\left(\frac{2 \pi}{N}\right)(k-1)+\frac{2 \pi}{3 N}\right) v_{x O y}, \sin \left(\left(\frac{2 \pi}{N}\right)(k-1)+\frac{2 \pi}{3 N}\right) v_{x O y}, 0\right)$</p><p>代入初始条件，依然按照目标规划搜索三组比例系数，z方向直接调用第一问的最优结果(我们跑了很多次，由于搜索时间实在太长，每次都没跑完，所以在这里只取一个有代表性的来演示，论文中用的另一个结果)，得到第四问的决策结果和游戏过程：<br><img src="https://i.loli.net/2019/10/04/3bW2OXLGtzsAx7U.png" alt="Q4_ans3.png"><img src="https://i.loli.net/2019/10/04/9bJFkRmcHQDAEIL.png" alt="Q4_ans1.png"><img src="https://i.loli.net/2019/10/04/fhG7N3bdavXVLtH.png" alt="Q4_ans2.png"></p><h1 id="Complete-the-system"><a href="#Complete-the-system" class="headerlink" title="Complete the system"></a>Complete the system</h1><h2 id="Solve-problem-⑦"><a href="#Solve-problem-⑦" class="headerlink" title="Solve problem ⑦"></a>Solve problem ⑦</h2><p>这个问题是本队翔哥解决的，在这里直接贴出来原汁原味的总结：<br><img src="https://i.loli.net/2019/10/04/PzwODfaCUV4nMeh.png" alt="problem7_summary.png"><br>按照这个规则分解以后，代入问题4的初始条件，出来结果是这样子：<br><img src="https://i.loli.net/2019/10/04/TwVOfL2Zgx4mhSc.png" alt="Q4_ans4.png"><img src="https://i.loli.net/2019/10/04/NhzecI2pO86jMS9.png" alt="Q4_ans5.png"></p><h2 id="System-Summary-and-Robustness-Analysis"><a href="#System-Summary-and-Robustness-Analysis" class="headerlink" title="System Summary and Robustness Analysis"></a>System Summary and Robustness Analysis</h2><p><img src="https://i.loli.net/2019/10/04/TQUHp4E9myc3k5a.png" alt="system.png"><br>可以看到，大部分我们已经做完，就差最后一个验证了。计算接近度，我们使用的是相关系数。将上面搞出来的分力合成以后再次代入系统，发现：原来设定25000步，运行了11584步就输掉了。大概是因为重新合成的力没有引入反馈吧，误差会累计。不过结果已经相当不错了。<br>计算一下接近度（标注part的是只算了11584步的接近度）<br><img src="https://i.loli.net/2019/10/04/5xljGHzE2dRwisa.png" alt="close_ofe.png"><br>发现即使力非常接近（都是1），运行轨迹也不是很接近。反馈的重要性可见一斑了。</p><p>一个遗憾：时间和能力有限，我们没有做分力代入系统的实时反馈以及考虑了力矩的合力分解。</p><p>啊写了好多！鲁棒性分析就贴图好了。<br><img src="https://i.loli.net/2019/10/04/DVPKA4tYnduq1JI.png" alt="e_sensitive_1.png"><img src="https://i.loli.net/2019/10/04/8Rf7GXJchDY3Vxe.png" alt="e_sensitive_2.png"><br>结果是：系统至少可以支持碰撞系数0.68&lt;e&lt;0.99的变化，在此区间内可以无限颠球。</p><h1 id="At-last"><a href="#At-last" class="headerlink" title="At last"></a>At last</h1><p>先写到这里吧，期间有许多细节也略过了，毕竟要总结的东西特别多，要抓住重点。</p><p>总觉得这次数学建模以后，<del>我就可以去游戏公司开发3D游戏了！</del><br>其实自己写出仿真程序还是很爽的，体验了一把决定论哲学下的上帝视角！今后用到控制、用到三维世界描述的时候，也会更加得心应手。</p><p>数学建模还是很占精力的，尤其是当你不是为了划水得奖而是认认真真研究问题的时候。不过闹了半天，我也没有用上什么特别先进特别现代的算法，也没用上什么近代的数学知识。不过也不要好高骛远，慢慢成长慢慢来，时间可以填补知识空白。</p><p>祝大家学业有成，参加数模的小伙伴遇到自己心仪的问题，有志于科研的小伙伴遇到自己心仪的课题（祝我自己）！</p><h1 id="2019数学建模系列传送门"><a href="#2019数学建模系列传送门" class="headerlink" title="2019数学建模系列传送门"></a>2019数学建模系列传送门</h1><ul><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-1/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 1 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-2/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 2 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-3/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 3 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-4/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 4 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/29/math-modling-2019CUMCM-answer-1/" target="_blank" rel="noopener">2019数模国赛B题解析Part1(Analysis of 2019CUMCM Question-B Part1)</a></li><li><a href="https://lucainiaoge.github.io/2019/10/02/math-modling-2019CUMCM-answer-2/" target="_blank" rel="noopener">2019数模国赛B题解析Part2(Analysis of 2019CUMCM Question-B Part2)</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;这篇文章讲解2019年数学建模国赛B题的求解历程。这是第二篇。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基础知识required：运动学和牛顿力学，空间向量的概念，最好有点反馈控制的知识（没有也行）&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="math" scheme="https://lucainiaoge.github.io.git/tags/math/"/>
    
      <category term="math_moding" scheme="https://lucainiaoge.github.io.git/tags/math-moding/"/>
    
      <category term="MATLAB" scheme="https://lucainiaoge.github.io.git/tags/MATLAB/"/>
    
      <category term="physics" scheme="https://lucainiaoge.github.io.git/tags/physics/"/>
    
      <category term="simulation" scheme="https://lucainiaoge.github.io.git/tags/simulation/"/>
    
  </entry>
  
  <entry>
    <title>三维旋转矩阵和刚体旋转(Object Rotation in 3D Space)</title>
    <link href="https://lucainiaoge.github.io.git/2019/10/02/rotation-in-3D-space/"/>
    <id>https://lucainiaoge.github.io.git/2019/10/02/rotation-in-3D-space/</id>
    <published>2019-10-01T16:00:00.000Z</published>
    <updated>2019-10-02T04:41:04.482Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><p>如何描绘一个向量在三维世界中的旋转？如何描绘一个物体在三维世界中的旋转？</p><ul><li>基础知识required：空间向量的概念</li></ul><a id="more"></a><ul><li>若无法显示公式，或者出现[Math Processing Error]，请尝试shift+F5或者ctrl+shift+F5刷新页面<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script><h1 id="Rotation-of-Vector"><a href="#Rotation-of-Vector" class="headerlink" title="Rotation of Vector"></a>Rotation of Vector</h1></li></ul><p>我们知道,在三维空间中，描绘一个三维列向量$\pmb{v}$<strong>逆时针</strong>绕着$z$轴旋转$\theta$角度，可以用这个矩阵来表示：<br><img src="https://i.loli.net/2019/10/02/QDcOun5d6wK7kmb.png" alt="Rotation_mat_2D.png"><br>那么$Rv$就是旋转之后的向量了！<br>（如果不能理解，可以试试推导一下二维空间中向量绕原点旋转的矩阵）<br>同理，绕着x轴,y轴旋转的矩阵如下：<br><img src="https://i.loli.net/2019/10/02/qExRjpni4POm1Zr.png" alt="Rotation_mat_2D_xy.png"></p><p>接下来：我们试着求一下三维空间中任何一个向量$\pmb{n_2}$绕着原点旋转到$z$轴方向的矩阵：肯定要经历两次二维旋转！<br><img src="https://i.loli.net/2019/10/02/bKTACj6dDYQezO9.png" alt="3D-vector_rotation.png"></p><p>如上图：先绕$x轴$转到$xOz$平面，再绕$y轴$转到$z$方向。构造出来旋转矩阵：<br><img src="https://i.loli.net/2019/10/02/xlRXAWsi5jQPD9z.png" alt="Rotation_mat_3D.png"><br>(上图中$\alpha \beta$ 的直角坐标计算公式就不给出了！)<br>那么$\pmb{n_2}=\pmb{R_1} \pmb{R_2} \pmb{e_z}$</p><p>我们令$\pmb{R_z}=\pmb{R_1R_2}$，即为将z单位向量$\pmb{e_z}$旋转到任意向量$\pmb{n}$的旋转矩阵（简记为z旋转矩阵）。$\pmb{R^{-1}}$即为将任意向量$\pmb{n}$旋转到$\pmb{e_z}$方向的旋转矩阵。</p><p>如何将任意向量$\pmb{n_1}$旋转到另一个任意向量$\pmb{n_2}$的方向？设$\pmb{n_1}$的z旋转矩阵为$\pmb{R_{z1}}$，$\pmb{n_2}$的z旋转矩阵为$\pmb{R_{z2}}$，那么先将$\pmb{n_1}$转到z轴，再将z轴转到$\pmb{n_2}$，得到$\pmb{n_2}=\pmb{R_{z2}}\pmb{R_{z1}^{-1}}\pmb{n_1}$</p><h1 id="Rotation-of-Object"><a href="#Rotation-of-Object" class="headerlink" title="Rotation of Object"></a>Rotation of Object</h1><p>我们已知某个物体初始时刻的任意质点的位矢$\pmb{r}(x,y,z)$。现在，我们想描述这个物体绕着原点随便转动，转动的角度按球坐标系刻画，为：$xOy平面极角\beta$，$z轴极角\alpha$。对应的z旋转矩阵为$\pmb{R_{z}}$。</p><p>如果知道这个物体某个质点$\pmb{P}$位于$\pmb{e_{z}}$方向时其他质点相对于这个质点的位矢为$\pmb{\Delta r}=(\Delta x,\Delta y,\Delta z)$，那么$\pmb{R_{z}P}+\pmb{\Delta r}$即为刚体任意其他质点的方向了~</p><p>描述一个物体，只需要知道其一个位矢$\pmb{r}$（一般为质心），要旋转物体，只需要对$\pmb{r}$进行操作：$\pmb{R_{z}} \pmb{r}$，其余质点按照相对位置分配即可。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;如何描绘一个向量在三维世界中的旋转？如何描绘一个物体在三维世界中的旋转？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基础知识required：空间向量的概念&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="math" scheme="https://lucainiaoge.github.io.git/tags/math/"/>
    
      <category term="physics" scheme="https://lucainiaoge.github.io.git/tags/physics/"/>
    
  </entry>
  
  <entry>
    <title>A brief introduction of lucainiaoge&#39;s website</title>
    <link href="https://lucainiaoge.github.io.git/2019/09/29/blog-intro/"/>
    <id>https://lucainiaoge.github.io.git/2019/09/29/blog-intro/</id>
    <published>2019-09-28T16:00:00.000Z</published>
    <updated>2020-10-16T02:04:34.145Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><a id="more"></a><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script><p>最近(2020.9.29)心血来潮想要开始写博客。</p><p>我想写这些东西（当然是我觉得值得记录并感兴趣的啦）：</p><ul><li>个人介绍和研究</li><li>技术教程和链接搬运（造福人类嗷）</li><li>学习笔记</li><li>平时的思考结果</li><li>值得记录的经历和故事</li></ul><p>可能还有很多不知道怎么分类的。无论如何，所有文章都可以在博客的边栏中“All articles”项目中找到，并且可以按照标签筛选哦！</p><p>稍微YY一下博客将会侧重涉及的门类：</p><ul><li>数学,物理学,信息科学,电子信息技术,音乐…</li></ul><p>构想很宏大，那就从现在开始拧螺丝了~</p><p>欢迎大家来一起交流。</p><hr><p><strong>A Guide through my website!</strong> (added on July 21, 2020)</p><p>This website is for blogging myself and sharing my ideas! I will archive my researches/notes/thoughts/stories/works in this website!</p><ul><li>All articles are tagged and you can find all of them by clicking the <strong>all articles</strong> button in the menu on the left/top side.</li><li>If you are reading a certain webpage, you can find a menu of contents on the bottom-right side of the page.</li><li>(Feel free to comment below! You can use Markdown!)</li><li>You can visit <a href="https://lucainiaoge.github.io/2020/07/18/personal-page/" target="_blank" rel="noopener"><strong>my personal page in this website</strong></a> to know about me!</li></ul><p>Hurry up, lucainiao! Stay ambitious!</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
    
    </summary>
    
    
    
      <category term="blog_start" scheme="https://lucainiaoge.github.io.git/tags/blog-start/"/>
    
      <category term="introduction" scheme="https://lucainiaoge.github.io.git/tags/introduction/"/>
    
  </entry>
  
  <entry>
    <title>2019数模国赛B题解析Part1(Analysis of 2019CUMCM Question-B Part1)</title>
    <link href="https://lucainiaoge.github.io.git/2019/09/29/math-modling-2019CUMCM-answer-1/"/>
    <id>https://lucainiaoge.github.io.git/2019/09/29/math-modling-2019CUMCM-answer-1/</id>
    <published>2019-09-28T16:00:00.000Z</published>
    <updated>2019-10-04T02:52:38.022Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><p>这篇文章讲解2019年数学建模国赛B题的求解历程。</p><ul><li>基础知识required：运动学和牛顿力学，空间向量的概念</li></ul><a id="more"></a><ul><li>本文物理量如果无特殊说明一律采用国际单位制</li><li>若无法显示公式，或者出现[Math Processing Error]，请尝试shift+F5或者ctrl+shift+F5刷新页面<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script></li></ul><h1 id="First-Sight-Discovering-and-Creating"><a href="#First-Sight-Discovering-and-Creating" class="headerlink" title="First Sight: Discovering and Creating"></a>First Sight: Discovering and Creating</h1><ul><li>问题链接：<blockquote><p>全国大学生数学建模大赛官网<a href="http://www.mcm.edu.cn/" target="_blank" rel="noopener">http://www.mcm.edu.cn/</a>，进去点击“赛题与评奖”，即可获取赛题</p></blockquote></li></ul><p>我们做的是B题，同心鼓那个。起初我觉得这题很没劲，但做起来以后才觉得有意思。数学建模心路历程和经历已经写过了，可以看我博客的这套文章：<a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-1/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 1</a></p><p>解决第一问：</p><blockquote><p>Q1. 在理想状态下，每个人都可以精确控制用力方向、时机和力度，试讨论这种情形下团队的最佳协作策略，并给出该策略下的颠球高度。</p></blockquote><h2 id="Solve-by-simulation"><a href="#Solve-by-simulation" class="headerlink" title="Solve by simulation"></a>Solve by simulation</h2><p>我们拿到问题，首先考虑：我们要输出什么样子的结果？<br>我们要输出“最佳协作策略”。既然要建模，一定要定量，那么这个策略也是定量的。想：协作需要确定什么量？以人为单位，每个人需要通过绳子提供拉力，拉力包含夹角和方向，同时也包含随时间变化的信息（毕竟游戏是一个过程）。</p><p>怎么刻画这些量？$\varphi_k - t \quad curve \quad and \quad \textbf{F}_k - t \quad curve$</p><p>$\varphi_k$是每个人施力夹角，$\textbf{F}_k$是每个人施力的大小</p><p>有了这个思路，我们就要确定这个有关每个人施力随时间变化的函数了。这个函数的目的：使得游戏得分最高。即：将函数输入游戏，游戏输出得分结果，我们要这么样的函数使得结果最优——优化问题。那么我们又要开始想：游戏如何输入这个函数？我们要构建游戏的真实过程！</p><p>到此为止，我们其实已经进入正题上了——构建游戏的过程。说白了：物理仿真系统！</p><p>仿真系统的构建，我们使用MATLAB，后面也一直在用MATLAB。我首先写了一个最简单的仿真系统——小球与地碰撞反弹的系统。</p><p>我们能参考的是什么？运动学方程，牛顿运动定律，碰撞定理。</p><p>以最简单的反弹系统为例，我们有这么几个微分方程：<br>$\frac{dy(t)}{dt} = v(t)$<br>$\frac{dv(t)}{dt} = g$<br>$v(t+\Delta t)=-ev(t) \quad when \quad y(t)&lt;\epsilon$, e为碰撞系数</p><p>我们要做的是将其以时间步长$\Delta t$离散化以适应MATLAB仿真：</p><p>$y(i+1)-y(i) = v(t) \Delta t$<br>$v(i+1)-v(i) = g \Delta t$<br>$v(i+1)=-ev(i) \quad when \quad y(i)&lt;\epsilon$</p><p>好的，接下来就要代码实现了。其实，上面已经给出了迭代公式。离散化其实是对实际世界的近似。实际世界一切物理现象的发生可以看成是同时的，不会出现“上帝先确定某物体的加速度，再确定它的速度，最后确定它的位置”这种情况（至少用微分方程求解是这样的）。但我们迭代时候，就产生了这样的问题：我们有很多迭代公式，先迭代哪个？</p><p>如果我们要求解差分方程组，也不存在这个问题，毕竟求解差分方程和求解微分方程是一个套路，最后得出的解与我们先解出哪个方程无关。可是迭代的话，我们先算谁后算谁，有一个因果性。我们一般按照高阶(eg:加速度，速度)到低阶(eg:速度，位置)的顺序来迭代。<br>实例代码如下：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:max_step</span><br><span class="line">   t=t_step*<span class="built_in">i</span>;</span><br><span class="line">   v(<span class="built_in">i</span>+<span class="number">1</span>)=-g*t_step+v(<span class="built_in">i</span>);</span><br><span class="line">   y(<span class="built_in">i</span>+<span class="number">1</span>)=v(<span class="built_in">i</span><span class="number">-1</span>)*t_step+y(<span class="built_in">i</span>);</span><br><span class="line">   <span class="keyword">if</span>(y(<span class="built_in">i</span>)&lt;<span class="built_in">eps</span>)</span><br><span class="line">       v(<span class="built_in">i</span>+<span class="number">1</span>)=-v(<span class="built_in">i</span>)*<span class="number">0.998</span>;</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>运行这个代码，可以得到这样的过程（横轴是时间）：<img src="https://i.loli.net/2019/09/29/mnJzdb4A6iYMDoU.gif" alt="exp_collide_simulate.gif"></p><h2 id="Creat-1D-Physical-Simulation-System"><a href="#Creat-1D-Physical-Simulation-System" class="headerlink" title="Creat 1D Physical Simulation System"></a>Creat 1D Physical Simulation System</h2><p>我们其实完成了历史性的一步：构建了一个物理仿真系统。接下来，就是将其应用到题目中了。</p><p>题目第一问对实际施力情况可以做理想化处理。理想到什么程度？我们的把握是：让每个均匀站立的人可以做到对称施力——竖直分力相等，水平分力也相等使得八个人水平合力为0。那么，我们只需获取竖直方向合力，结合任何时刻人的高度和鼓的高度，即可得到每个人的分力以及力的夹角了。现在，我们的任务就是：设定每个时刻的竖直合力。</p><p>我们要考虑两个物体的运动。模型较为简单，迭代求解甚至可以考虑空气阻力、浮力等因素（不用获取解析形式，是数值方法的一大优点，这样可以使得我们考虑很多通过解析方法很难刻画的因素）。在我们直接列离散化之后的方程如下(为节省篇幅，一些明显易求得的物理量[例如截面积和体积]在这里不加以计算，仅做符号说明)：</p><ul><li>符号说明：<ul><li>脚标”d”代表”drum”，即“鼓”；脚标”b”代表”ball”，即“球”；</li><li>“C”是空气阻力系数，对于球而言$C_b = 0.5$，对于圆柱而言$C_d = 0.73$</li><li>“V”代表体积，”S”代表截面积，”$F_z$”代表队员的竖直合力，”$\rho$”代表空气密度，”m”表示质量</li><li>指标$i$代表迭代变量（即时间），$\Delta t$为迭代步长</li></ul></li></ul><blockquote><p>$f_{d_{air}}(i) = 0.5 C_d \rho S_d  v_d(i) |v_d(i)|$……(鼓的空气阻力)<br>$f_{b_{air}}(i) = 0.5 C_b \rho S_b  v_b(i) |v_b(i)|$……(球的空气阻力)<br>$m_d v_d(i+1) = (-m_d g + \rho V_d g - f_{d_{air}}(i) + F_z(i))\Delta t + m_d v_d(i)$……(鼓的速度迭代公式)<br>$m_b v_b(i+1) = (-m_b g + \rho V_b g - f_{b_{air}}(i))\Delta t + m_b v_b(i)$……(球的速度迭代公式)<br>$z_d(i+1) = z_d(i) + v_d(i)\Delta t$……(鼓的位置迭代公式)<br>$z_b(i+1) = z_b(i) + v_b(i)\Delta t$……(球的位置迭代公式)<br>$if \quad z_b(i)-z_d(i)&lt;\epsilon \quad :$<img src="https://i.loli.net/2019/09/30/8PNUSLkOJi27lGz.png" alt="formula-collision-1D.png">(碰撞迭代公式)</p></blockquote><p>碰撞的迭代公式的推导由来如下图所示<br><img src="https://i.loli.net/2019/09/30/6fpOwxPnALTGZV4.png" alt="formula-collision-1D-source.png"><br>其中P代表冲量，这几个式子是列了冲量定理和碰撞系数e的定义式。</p><h2 id="How-to-Set-F-z-i"><a href="#How-to-Set-F-z-i" class="headerlink" title="How to Set $F_z(i)$"></a>How to Set $F_z(i)$</h2><p>上面的物理模型想要运行，必须实时输入$F_z(i)$，所以我们需要构建一个确定$F_z(i)$的系统。想了半天，憋出来一个想法：使用状态机并引入反馈。</p><p>什么是状态机？就是设置决策者在不同情况下进入不同的状态，不同的状态下做出不同的决策。这里，我们设置了这么几种状态：</p><p><img src="https://i.loli.net/2019/09/30/gosYxRNWvh4O3n1.png" alt="status_change.png"><img src="https://i.loli.net/2019/09/30/6KJmLD1gfPVX5AW.png" alt="status_change_2.png"></p><p>在不同状态下，设定不同的$F_z(i)$值，即：$F_z(i)\in \lbrace F_I,F_{II},F_{III},F_{IV} \rbrace$，每次迭代都根据目前状态设置$F_z(i)$即可。</p><p>我们探索了几个$F_z(i)$的值，比如$[F_I,F_{II},F_{III},F_{IV}]=[(g+6)m_d,0,gm_d,(g+3)m_d]$，设置鼓向下运动最大速度为0.6m/s，按照上述图片的状态转换规则进行迭代，会得到这样的结果(在这里我也加入了和地面碰撞反弹的判断)(红线是球的运动轨迹，蓝线是鼓面的运动轨迹，碰撞判断时没有考虑球的大小)：</p><p><img src="https://i.loli.net/2019/09/30/mHWCrbuwtqUkDdj.png" alt="raw_result_1D_1.png"></p><p>会发现，要不就往下掉，要不就越飞越高，没有实现稳定地控制。怎么让它稳定？我们想到了引入负反馈！也就是，鼓太高的时候，就减少向上的力使鼓保持在下面。</p><p>反馈很简单，设置一个分段函数$T_{lim}(y)$如下：</p><p><img src="https://i.loli.net/2019/09/30/Ly6GIkAxmgY9Cqw.png" alt="feedback_func.png"></p><p>每次迭代按照状态设置完参考竖直力之后，按照这个函数限制一下$F_z(i)$(这个函数是力的上限，如果设定值大于$T_{lim}(z(i))$，就将$F_z(i)$设置为$T_{lim}(z(i))$)。于是得到了令人满意的结果：</p><p><img src="https://i.loli.net/2019/09/30/3SXr2HuRfKLmqnQ.png" alt="result-1D-feasible.png"></p><p>鼓的初始高度对稳定结果没有影响，实验结果如下：<br><img src="https://i.loli.net/2019/09/30/dvxUw1T8SFhHBRK.png" alt="init_pos_inf.png"></p><p>接下来，我们要获取最优值，“最优”是什么？当然是游戏得分多！所以，我们首先要实现：接球数目最多。接下来，我们能接球的时间越长越好。当然，还要考虑一下成员的操作难易度。这个操作难易度定义为$\xi = |\frac{1}{Iter}\sum_{i=1}^{Iter}y_d(i)-y_{conft}|$，其中$y_{conft}$为舒适高度，我们取的0.8，$Iter$为游戏能进行的最大迭代次数，$t_{step}$是迭代步长。</p><p>搜索反馈函数的两个lim值和stageI的参考值，求解这个目标规划：<br><img src="https://i.loli.net/2019/09/30/zSFWc6YLH7AGf9M.png" alt="opt_purpose.png"><br>进一步考虑了球的大小，得到最优结果如下：<br><img src="https://i.loli.net/2019/09/30/icnR9PMd5sS7UKT.png" alt="best-result-1D.png"></p><p>基本符合预期！在迭代时间极限40秒内，击打了80个球！</p><p>接下来，将分力分解给每个队员：</p><p>设每个队员都有一个舒适施力的值服从正态分布，记为$h_{pull}-N(1.1,0.1^2)$，设N个队员之间夹角为$\gamma=2\pi /N$，<br>人到鼓边缘的距离$d_{max}=\frac{0.3}{sin(\gamma/2)}-0.2$  (其中0.3=0.6/2,即两人之间距离的一半，0.2为鼓的半径)。<br>那么，任意时刻，每个人施力夹角为：$\varphi_k(i)=arctan( \frac{h_{pull_k} - y_d(i)}{d_{max}} )$，<br>每个人施力大小为：$T_k(i)=T_z(i)/(Nsin \varphi_k(i) )$</p><p>于是，我们就有了分解之后队员的力与时间的指导规律：<img src="https://i.loli.net/2019/09/30/o7vwpghjZFrLqmC.jpg" alt="F_and_angle_1D.jpg"></p><p>开始向第二问进发！</p><h1 id="Second-Process-Move-to-the-3D-World"><a href="#Second-Process-Move-to-the-3D-World" class="headerlink" title="Second Process: Move to the 3D World"></a>Second Process: Move to the 3D World</h1><blockquote><p>Q2. 在现实情形中，队员发力时机和力度不可能做到精确控制，存在一定误差，于是鼓面可能出现倾斜。试建立模型描述队员的发力时机和力度与某一特定时刻的鼓面倾斜角度的关系。设队员人数为8，绳长为1.7m，鼓面初始时刻是水平静止的，初始位置较绳子水平时下降11 cm，表1中给出了队员们的不同发力时机和力度，求0.1 s时鼓面的倾斜角度。<br><img src="https://i.loli.net/2019/09/30/PWhJ9HMVvylwnS3.png" alt="chart_q2.png"><br>抱歉，不小心把答案也贴上来了<del>（不要紧不要紧</del>）</p></blockquote><h2 id="Solution-How-to-rotate"><a href="#Solution-How-to-rotate" class="headerlink" title="Solution - How to rotate?"></a>Solution - How to rotate?</h2><p>第二问其实就是让我们专注建立物理模型了！力都给我们给好了，也没有排球什么事儿，就让鼓运动就是了！关键是：怎么让鼓转起来？</p><p>当然是：转动定理！（<del>不知道的小伙伴们快快复习大物！</del>）</p><p><img src="https://i.loli.net/2019/10/01/GEld3bZ2CuWSTcx.png" alt="Drum_vectors.png"></p><p>如上图所示：鼓的一些向量属性。$\pmb{R_k}(k=1,2…8)$代表[鼓的中心点]到[鼓面边缘&amp;每个人所在竖直平面交点]的向量，它的长度是$D/2$，D是鼓的直径，方向记为$\pmb{R^o_k}(k=1,2…8)$；$\pmb{T_k}(k=1,2…8)$代表每个人拉力的大小和方向；$\pmb{n}$为鼓的法向量。</p><p>另外，我们令：$\pmb{M_k}(k=1,2…8)$为每个人的拉力对鼓造成的力矩，$\pmb{\omega}$为鼓的角速度，$\Delta\theta$为鼓的法向量偏离竖直方向$\pmb{e_z}$的角度，$\pmb{\Delta n}为法向量的瞬时移动量$，$J$为鼓的转动惯量。</p><p>转动惯量的计算：将鼓看作圆管状模型，忽略牛皮的质量。制作鼓常用的木材为梧桐木，梧桐木的密度$\rho_{wood}=0.8\times 10^3 kg/m^3$，根据题中给的鼓的尺寸和质量可以求得梧桐木厚度为w=0.0163m；根据转动惯量的定义，鼓相对侧面中轴的转动惯量为：<br>\begin{equation}<br>J=\int_{D/2-w}^{D/2} \int_{-h/2}^{h/2} 2 \pi \rho_{wood} (r^2+z^2)rdrdz=0.1517kg·m^2<br>\end{equation}</p><p>那么，我们依然直接列出离散化之后的动力学迭代公式：</p><blockquote><hr><ul><li>转动迭代<br>$\pmb{M_k}(i)=\frac{D}{2}\pmb{R^o_k}(i)\times\pmb{T_k}(i)(k=1,2…8)$……(每个人造成的分力矩)<br>$\pmb{M}(i)=\sum^{8}_{k=1}\pmb{M_k}(i)$……(拉力对鼓的合力矩)<br>$\pmb{\omega}(i+1)=\pmb{\omega}(i)+\pmb{M}(i)\Delta t/J$……(转动定理)<br>$\pmb{\Delta n}(i)=\pmb{n(i)}\times\pmb{\omega}(i)\Delta t$……(角速度造成的法向量瞬时变化量)<br>$\pmb{n}(i+1)=\pmb{n}(i)+\pmb{\Delta n}(i)$……(更新法向量)<br>$\pmb{n}(i+1)=\pmb{n}(i+1)/ | \pmb{n}(i+1) |$……(归一化消除长度误差)<br>$\pmb{R_k^o}(i+1)=\pmb{R}(i+1)\pmb{R_k^o}(1)$……(按照新的法向量更新鼓的径向,R为旋转矩阵)</li></ul><hr><ul><li>平动迭代<br>$\pmb{f_{d_{air}}}(i) = 0.5 C_d \rho S_d  \pmb{v_d}(i) |\pmb{v_d}(i)|$……(鼓的空气阻力)<br>$m_d \pmb{v_d}(i+1) = (-m_d g\pmb{e_z} + \rho V_d g\pmb{e_z} - \pmb{f_{d_{air}}}(i) + \pmb{\sum T}(i))\Delta t + m_d \pmb{v_d(i)}$……(鼓的速度迭代公式)<br>$\pmb{r_d}(i+1) = \pmb{r_d}(i) + \pmb{v_d}(i)\Delta t$……(鼓的位置迭代公式)</li></ul><hr><ul><li>上面有待确定的量<br>旋转矩阵$\pmb{R}$的求解: 见博文<a href="https://lucainiaoge.github.io/2019/10/02/rotation-in-3D-space/" target="_blank" rel="noopener">三维旋转矩阵和刚体旋转(Object Rotation in 3D Space)</a><br>$\pmb{\sum T}(i)$: 按照每一时刻表格中给出的力合成为矢量。$\pmb{T}(i)=\sum^{8}_{k=1}\pmb{T_k}(i)$<br>$\pmb{T_k}(i)$: 方向为$\pmb{T_k^o}(i)=\frac{[cos(2\pi (k-1)/N),sin(2\pi (k-1)/N),tan\varphi_k(i)]}{|[cos(2\pi (k-1)/N),sin(2\pi (k-1)/N),tan\varphi_k(i)]|}$,其中$\varphi_k(i)$的求法在第一问中已给出</li></ul></blockquote><p>至此，我们第二问完全可以求解了。将题目表格中的数据代入，就可以轻松求出任何时刻鼓的位置和角度了！结果如下：<br><img src="https://i.loli.net/2019/10/02/4dHzkQRI7JEsuTD.png" alt="Q3_P1.png"><img src="https://i.loli.net/2019/10/02/PEq1yh9VJYmczAp.png" alt="Q3_P2.png"><br><img src="https://i.loli.net/2019/10/02/NXDtSPQ1HA9Bh7q.png" alt="Q3_P3.png"><img src="https://i.loli.net/2019/10/02/e6MvbL9hncmTgqO.png" alt="Q3_P4.png"><br><img src="https://i.loli.net/2019/10/02/puENYKJLmIZRqGw.png" alt="Q3_P5.png"><img src="https://i.loli.net/2019/10/02/rvaVXTdYeQsqb49.png" alt="Q3_P6.png"><img src="https://i.loli.net/2019/10/02/JPLAURwZSXquh2K.png" alt="Q3_P7.png"></p><h2 id="Bonus-Experiment"><a href="#Bonus-Experiment" class="headerlink" title="Bonus Experiment"></a>Bonus Experiment</h2><p>我们还没讨论绳长是否可变和绳子松弛的情况。其实无论如何，影响的都是力$\pmb{T_k}(i)$的$\varphi_k(i)$。假设中，拉力在鼓面的投影一定平行于径向（这样就避免了鼓的水平自转），如果绳长可变，那么可以保证在人的水平位置不变的条件下，拉绳子的手可以竖直运动；如果绳长不可变，即假设人拉绳子总是牵着末端，那么人必定在水平移动。</p><p>无论哪种假设，都只是对$\varphi_k(i)$的计算公式产生影响。我们看看$\varphi_k(i)$对倾斜角度（第二问表格里的结果）有什么影响？因为施力时间比较短，所以假设施力过程中$\varphi_k=\varphi$不变。我们得到了这样的结果：</p><p><img src="https://i.loli.net/2019/10/02/JPAHi6kfFUCGxcB.png" alt="Q3_P8.png"></p><p>对情形2（施力不均匀）拟合了一下，是一个正弦函数——$\theta = 4^o sin\varphi$<br>可以发现对结果影响比较小，0.2秒时间内最多影响4°</p><h1 id="2019数学建模系列传送门"><a href="#2019数学建模系列传送门" class="headerlink" title="2019数学建模系列传送门"></a>2019数学建模系列传送门</h1><ul><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-1/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 1 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-2/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 2 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-3/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 3 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-4/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 4 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/29/math-modling-2019CUMCM-answer-1/" target="_blank" rel="noopener">2019数模国赛B题解析Part1(Analysis of 2019CUMCM Question-B Part1)</a></li><li><a href="https://lucainiaoge.github.io/2019/10/02/math-modling-2019CUMCM-answer-2/" target="_blank" rel="noopener">2019数模国赛B题解析Part2(Analysis of 2019CUMCM Question-B Part2)</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;这篇文章讲解2019年数学建模国赛B题的求解历程。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基础知识required：运动学和牛顿力学，空间向量的概念&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
    
      <category term="math" scheme="https://lucainiaoge.github.io.git/tags/math/"/>
    
      <category term="math_moding" scheme="https://lucainiaoge.github.io.git/tags/math-moding/"/>
    
      <category term="MATLAB" scheme="https://lucainiaoge.github.io.git/tags/MATLAB/"/>
    
      <category term="physics" scheme="https://lucainiaoge.github.io.git/tags/physics/"/>
    
      <category term="simulation" scheme="https://lucainiaoge.github.io.git/tags/simulation/"/>
    
  </entry>
  
  <entry>
    <title>KNN实现手写数字识别(KNN handwriting recognization)</title>
    <link href="https://lucainiaoge.github.io.git/2019/09/25/KNN-handwriting-recognization/"/>
    <id>https://lucainiaoge.github.io.git/2019/09/25/KNN-handwriting-recognization/</id>
    <published>2019-09-24T16:00:00.000Z</published>
    <updated>2019-09-25T13:34:05.126Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>（这其实是我第一次真正意义上的手写数字识别，使用KNN方法）</p><p>之前在某宝上买来了一个小姐姐给的吴恩达作业（小姐姐讲解声音真的好听！），但是学完了（包括手写数字识别的手打BP神经网络实现），发现自己弄还是不会！现在，上了模式识别课程，一切重新开始！</p><a id="more"></a><p>学校开的模式识别选修课使我重新捡起python了。模式识别其实挺有意思的，就是需要有些代码工程开发经验才可以更好地学习。这篇博客记载了我完成这门课的第一个作业的过程。</p><h1 id="What-is-KNN"><a href="#What-is-KNN" class="headerlink" title="What is KNN"></a>What is KNN</h1><p>KNN是什么？其实很简单：</p><p>看这里</p><blockquote><ul><li><a href="https://www.cnblogs.com/jyroy/p/9427977.html" target="_blank" rel="noopener">kNN算法:K最近邻(kNN,k-NearestNeighbor)分类算法 - JYRoy - 博客园</a></li><li><a href="https://blog.csdn.net/eeeee123456/article/details/79927128" target="_blank" rel="noopener">机器学习(二):k近邻法(kNN) - E博客 - CSDN博客</a></li></ul></blockquote><p>没必要看完，知道概念就行。</p><h1 id="Purpose"><a href="#Purpose" class="headerlink" title="Purpose"></a>Purpose</h1><p>就是用手写数字图片训练你的机器，让你的机器可以识别其他的手写数字。</p><p>课程群里有人问有没有baseline，无知的我竟然不知道这个词是啥意思！果断百度！<br>Benchmark和Baseline是什么：<a href="https://blog.csdn.net/qq_37791134/article/details/84962058" target="_blank" rel="noopener">CSDN-【简单易懂】Benchmark和baseline的区别！</a></p><p>助教回答：木有baseline。开心！</p><h1 id="How-to-Read-Dataset-Using-Python"><a href="#How-to-Read-Dataset-Using-Python" class="headerlink" title="How to Read Dataset Using Python"></a>How to Read Dataset Using Python</h1><p>拿到作业的时候，我的电脑Python是炸的，数据集怎么读不知道，甚至连能不能做出来都不知道……</p><p>课上头铁看书不听课，结果书的前面讲的贝叶斯分类，老师却直接讲KNN，并且留了KNN实现手写数字识别的作业，整的我挺慌。</p><p>那么，就这样开始了~</p><p>老舍友lmh大神花了一天时间，搞出来了并且把代码挂到了github上（看这里<a href="www.github.com/bugstop/handwritten-digit-recognition-knn">www.github.com/bugstop/handwritten-digit-recognition-knn</a>），附带转发知乎回答：<a href="https://www.zhihu.com/question/328444462/answer/717000168?utm_medium=social&utm_oi=748156667140530176&utm_source=qq" target="_blank" rel="noopener">室友想抄我的代码，给还是不给</a>……</p><p><img src="https://i.loli.net/2019/09/25/RFOk5vxyLdjrehq.png" alt="lmh_zhihu_prop_comment.png"></p><p>首先，拿到大佬的开源代码，又是logging又是threading的（python里面我不明白的操作），我也是一脸懵逼的。不管了，立个小目标：读取数据集。</p><h2 id="Information-about-the-dataset-format"><a href="#Information-about-the-dataset-format" class="headerlink" title="Information about the dataset format"></a>Information about the dataset format</h2><p><img src="https://i.loli.net/2019/09/25/5iPMBF9oIV4zxyg.png" alt="handwriting_source_files.png"></p><p>怎么读这来自远古的文件？不好好看消息记录的我竟然不知道助教大大发了数据集官网！</p><blockquote><p>来自几位大佬的手写数字数据集官网：<a href="http://yann.lecun.com/exdb/mnist/" target="_blank" rel="noopener">http://yann.lecun.com/exdb/mnist/</a></p></blockquote><p><strong>没接触过的小伙伴，请认真阅读官网！你想知道的有关这个数据集的信息都在上面！</strong></p><p>不要用txt打开这样的文件，否则你的下场是这样：</p><p><img src="https://i.loli.net/2019/09/25/wTng8Z7jQcYNk3z.png" alt="txt_read_error.png"></p><h2 id="Deal-with-two-Python-versions"><a href="#Deal-with-two-Python-versions" class="headerlink" title="Deal with two Python versions"></a>Deal with two Python versions</h2><p>解决python无法使用的问题，自闭了半天后发现原因是我的电脑有两个版本的python：2.7和3.7</p><p><img src="https://i.loli.net/2019/09/25/upsYZoRCVTqDGi3.png" alt="two_pythons.png"></p><p>这可咋办？我的sublime text编译不了啊！在网上搜索相关博文，<br>这篇博客讲得不错：<a href="http://www.360doc.com/content/17/1028/11/44784011_698782560.shtml" target="_blank" rel="noopener">Windows下多版本Python的pip安装与使用的吐血总结</a></p><h2 id="Python-coding-to-read-dataset"><a href="#Python-coding-to-read-dataset" class="headerlink" title="Python coding to read dataset"></a>Python coding to read dataset</h2><p>开始着手写代码了。阅读lmh大佬的代码后，少走了不少弯路！<br>再次贡上大佬的代码：<a href="http://www.github.com" target="_blank" rel="noopener">www.github.com</a> – (站内搜索)bugstop/handwriting-number-recognization-knn</p><p>给大佬点了个小星星！</p><p>基本的文件读取直接拿来大佬的代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">training_image_file = <span class="string">'./source/train-images.idx3-ubyte'</span></span><br><span class="line">training_label_file = <span class="string">'./source/train-labels.idx1-ubyte'</span></span><br><span class="line">test_image_file = <span class="string">'./source/t10k-images.idx3-ubyte'</span></span><br><span class="line">test_label_file = <span class="string">'./source/t10k-labels.idx1-ubyte'</span></span><br><span class="line"><span class="keyword">with</span> open(training_image_file, <span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">training_images = f.read()[<span class="number">16</span>:]</span><br><span class="line"><span class="keyword">with</span> open(training_label_file, <span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">training_labels = f.read()[<span class="number">8</span>:]</span><br><span class="line"><span class="keyword">with</span> open(test_image_file, <span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">test_images = f.read()[<span class="number">16</span>:]</span><br><span class="line"><span class="keyword">with</span> open(test_label_file, <span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">test_labels = f.read()[<span class="number">8</span>:]</span><br><span class="line">print(test_labels)</span><br></pre></td></tr></table></figure><p>Python读取文件还是蛮方便的。在前面加上这段代码就更好了！（lmh不知从哪学来的神操作）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Lmh dalao's basic operation</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Log</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        logging.basicConfig(level=logging.INFO, filemode=<span class="string">'w'</span>, filename=<span class="string">'knn.log'</span>, format=<span class="string">'%(message)s'</span>)</span><br><span class="line">        console = logging.StreamHandler()</span><br><span class="line">        console.setLevel(logging.INFO)</span><br><span class="line">        formatter = logging.Formatter(<span class="string">'%(message)s'</span>)</span><br><span class="line">        console.setFormatter(formatter)</span><br><span class="line">        logging.getLogger(<span class="string">''</span>).addHandler(console)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span><span class="params">(msg)</span>:</span></span><br><span class="line">        logging.info(<span class="string">f'<span class="subst">&#123;datetime.now().strftime(<span class="string">"%H:%M:%S.%f"</span>)&#125;</span>： <span class="subst">&#123;msg&#125;</span>'</span>)</span><br><span class="line">log = Log()</span><br><span class="line">log.info(<span class="string">'Read Files'</span>)</span><br></pre></td></tr></table></figure><p>为方便后续使用，定义全局变量，并了解一下数据集的结构：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">global</span> num_of_training_img, num_of_test_img, dim_of_img</span><br><span class="line">num_of_training_img = <span class="number">60000</span></span><br><span class="line">num_of_test_img = <span class="number">10000</span></span><br><span class="line">dim_of_img = <span class="number">28</span></span><br><span class="line">print(<span class="string">'Type of images: '</span>,type(training_images))</span><br></pre></td></tr></table></figure><p><strong>看傻了的小伙伴，请认真阅读官网！你想知道的有关这个数据集的信息都在上面！</strong></p><p>print显示读取得到的数据集，发现长成这样：</p><blockquote><p>b’\x07\x02\x01\x00\ …</p></blockquote><p>类型是Byte，这个类型是啥？其实，就是16进制拼成的数组，两个16进制数字拼成一个byte作为一个成员，顺序访问即可。所以，后续这么读（示例）：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_training_img</span><span class="params">()</span>:</span></span><br><span class="line">current_pos=<span class="number">0</span></span><br><span class="line">imgs=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(num_of_training_img):</span><br><span class="line">current_pos=i*dim_of_img*dim_of_img</span><br><span class="line">current_img=[<span class="literal">None</span>]*(dim_of_img*dim_of_img)</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(dim_of_img*dim_of_img):</span><br><span class="line"><span class="comment">#不能通过切片逐行读取，否则无法存储每个像素点</span></span><br><span class="line">current_img[index]=training_images[current_pos+index]</span><br><span class="line">imgs.append(current_img)</span><br><span class="line"><span class="keyword">return</span> imgs</span><br></pre></td></tr></table></figure><p>读取训练标签集和测试集大家可以作为练手代码。调用函数如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">log.info(<span class="string">'Read Files: training imgs'</span>)</span><br><span class="line">training_imgs_vec=read_training_img()</span><br><span class="line">training_imgs_vec=np.array(training_imgs_vec)<span class="comment">#不要用乱用np.matrix()方法</span></span><br><span class="line">training_imgs_mat=np.empty((num_of_training_img,dim_of_img,dim_of_img))<span class="comment">#一定要遵循(address,floor,room)原则</span></span><br><span class="line">log.info(<span class="string">'Reshaping: training imgs'</span>)</span><br><span class="line">training_imgs_mat=training_imgs_vec.reshape(num_of_training_img,dim_of_img,dim_of_img)</span><br><span class="line">print(<span class="string">'shape of training image vectors:'</span>,training_imgs_vec.shape)</span><br><span class="line">print(<span class="string">'shape of training image matrices:'</span>,training_imgs_mat.shape)</span><br><span class="line">log.info(<span class="string">'Read Files: training labels'</span>)</span><br><span class="line">training_labels_vec=read_training_label()</span><br><span class="line">print(<span class="string">'training labels:'</span>,training_labels_vec[<span class="number">0</span>:<span class="number">4</span>])</span><br></pre></td></tr></table></figure><p>得到这样的结果：</p><blockquote><p>shape of training image vectors: (60000, 784)<br>shape of training image matrices: (60000, 28, 28)<br>18:57:31/281304: Read Files: training labels<br>training labels: [5, 0, 4, 1]</p></blockquote><p>具体把图片保存成图片还是向量，自己看着办咯。<br>为了确认读出来了，我还画了个图：</p><p><img src="https://i.loli.net/2019/09/25/S1IPknidbsofZj8.png" alt="matplotlib_ui.png"></p><ul><li>注意：plt.show()之后，程序不会继续运行，需要把图片窗口关掉，才可以继续.</li></ul><p>接下来，就正式开始KNN了！</p><h1 id="KNN-algorthim-using-Python"><a href="#KNN-algorthim-using-Python" class="headerlink" title="KNN algorthim using Python"></a>KNN algorthim using Python</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###</span></span><br><span class="line"><span class="comment">#正式开始KNN算法  </span></span><br><span class="line"><span class="comment">###</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#算法思路：</span></span><br><span class="line"><span class="comment">#将test图片和训练集图片比对计算距离</span></span><br><span class="line"><span class="comment">#距离计算方法：</span></span><br><span class="line"><span class="comment">#选择1，逐点计算欧式距离，利用compare_ssim(img1, img2)</span></span><br><span class="line"><span class="comment">#选择2，计算余弦距离</span></span><br><span class="line"><span class="comment">#可选处理，将图片下采样</span></span><br><span class="line"><span class="comment">#判断方法：</span></span><br><span class="line"><span class="comment">#选择1，直接选前k个，按照多的取胜</span></span><br><span class="line"><span class="comment">#可选处理1，随机选取一定数量训练集图片</span></span><br><span class="line"><span class="comment">#可选处理2，统计被比较的训练集每类数量作为权重，最后真正的数量需要除以每类的数量</span></span><br></pre></td></tr></table></figure><p>其实很简单。直接贴出函数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">identify_img</span><span class="params">(img_check,imgs_refer,labels_refer_list,k_rank)</span>:</span></span><br><span class="line"><span class="comment">#img_check为矩阵(dim,dim),</span></span><br><span class="line"><span class="comment">#imgs_refer为与img_check同维度的矩阵组(length,dim,dim)</span></span><br><span class="line"><span class="comment">#labels_refer_list为imgs_refer的标签(length,-)</span></span><br><span class="line"><span class="comment">#k_rank为KNN的前k名门限值</span></span><br><span class="line">train_length=len(labels_refer_list)</span><br><span class="line"><span class="comment">#train_length=labels_refer.size</span></span><br><span class="line"><span class="comment">#labels_refer_list=labels_refer.tolist()</span></span><br><span class="line"><span class="keyword">if</span>(k_rank&gt;train_length):</span><br><span class="line">k_rank=train_length//<span class="number">2</span></span><br><span class="line">cnt_per_id=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> set(labels_refer_list):</span><br><span class="line">cnt_per_id[i] = labels_refer_list.count(i)</span><br><span class="line"><span class="comment">#计算距离</span></span><br><span class="line">dist=[<span class="literal">None</span>]*train_length</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(train_length):</span><br><span class="line">dist[index]=compare_ssim(img_check,imgs_refer[index],multichannel=<span class="literal">False</span>)</span><br><span class="line"><span class="comment">#距离排序获取索引</span></span><br><span class="line">rank=np.argsort(-np.array(dist))</span><br><span class="line"><span class="comment">#按照索引访问标签</span></span><br><span class="line">top_labels_list=[<span class="literal">None</span>]*k_rank</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(k_rank):</span><br><span class="line">top_labels_list[index]=labels_refer_list[rank[index]]</span><br><span class="line"><span class="comment">#获取前k_rank名的标签数量并计算最终得分</span></span><br><span class="line">top_cnt_per_id=&#123;&#125;</span><br><span class="line">score=[<span class="literal">None</span>]*<span class="number">10</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> set(labels_refer_list):</span><br><span class="line">top_cnt_per_id[i] = top_labels_list.count(i)</span><br><span class="line">score[i]=top_cnt_per_id[i]<span class="comment">#/cnt_per_id[i]</span></span><br><span class="line"><span class="comment">#获取第一名</span></span><br><span class="line">first_place=np.where(score==np.max(score))[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"><span class="keyword">return</span> first_place</span><br></pre></td></tr></table></figure><p>对test样本反复调用这个函数，就ok了。期间，计算两个图片之间的“距离”，我没有用基本的欧氏距离，而是用了专门计算图片相似度的函数，SSIM，后来排序的时候降序排列。</p><p>继续地，我是用了欧几里得距离进行计算。求距离就不用开方了！保持单调性就行！</p><p>根据欧几里得距离排序的方法这里就不贴出来了。</p><p>接下来，调用函数！</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">starttime = datetime.now()</span><br><span class="line"><span class="comment">#euclidian method with random</span></span><br><span class="line">num_of_test=<span class="number">1000</span></span><br><span class="line">result=[<span class="literal">None</span>]*num_of_test_img</span><br><span class="line">check_vec=[<span class="literal">None</span>]*num_of_test_img</span><br><span class="line">num_of_refer=<span class="number">5000</span></span><br><span class="line">candidate_label=[<span class="literal">None</span>]*num_of_refer</span><br><span class="line">candidate_img=np.empty((num_of_training_img,dim_of_img*dim_of_img))</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(num_of_test):</span><br><span class="line">sample_list = random.sample(range(<span class="number">0</span>,num_of_training_img),num_of_refer)</span><br><span class="line"><span class="keyword">for</span> cad <span class="keyword">in</span> range(num_of_refer):</span><br><span class="line">candidate_label[cad]=training_labels_vec[sample_list[cad]]</span><br><span class="line">candidate_img[cad]=training_imgs_vec[sample_list[cad]]</span><br><span class="line">log.info(<span class="string">'Identifying: test '</span>+str(index))</span><br><span class="line">result[index]=identify_img_euclidian(test_imgs_vec[index],candidate_img,candidate_label,<span class="number">3</span>)</span><br><span class="line">check_vec[index]=(test_labels_vec[index]==result[index])</span><br><span class="line"><span class="comment">#print('test_label='+str(test_labels_vec[index]),'result='+str(result[index]))</span></span><br><span class="line">endtime = datetime.now()</span><br><span class="line">num_of_correct=check_vec.count(<span class="literal">True</span>)</span><br><span class="line">num_of_incorrect=check_vec.count(<span class="literal">False</span>)</span><br><span class="line">print(<span class="string">'time elapsed: '</span>,endtime-starttime)</span><br><span class="line">log.info(<span class="string">f'Accuracy: <span class="subst">&#123;num_of_correct / (num_of_correct+num_of_incorrect) * <span class="number">100</span>&#125;</span>%'</span>)</span><br></pre></td></tr></table></figure><p>细心的同学会发现，我引入了随机！没错，在挑选样本的时候，我没把全训练集都用于KNN比较。既然不需要训练，那索性就随机取训练集样本。当然，不随机版本的更好些，拿来练练手。</p><p><img src="https://i.loli.net/2019/09/25/fgEYN9ITzteaHRD.png" alt="result_KNN.png"></p><div style="display: none"><p>作者：CandyBullet<br>链接：<a href="https://www.imooc.com/article/23400" target="_blank" rel="noopener">https://www.imooc.com/article/23400</a><br>来源：慕课网<br>路菜鸟KNN手写数字（结果汇总）<br>训练集样本个数|是否随机选取样本|选取排名|测试样本数|计算相似度方法|是否除以了各类数|准确率|用时(精确到秒)<br>-|-|-|-|-|-|-|-<br>2000|FALSE|200|100|compare_ssim|TRUE|79%|-<br>10000|FALSE|200|100|compare_ssim|TRUE|92%|5:35<br>1000|FALSE|200|100|compare_ssim|TRUE|72%|0:37<br>1000|FALSE|50|100|compare_ssim|TRUE|78%|0:34<br>1000|FALSE|10|100|compare_ssim|TRUE|86%|0:32<br>5000|FALSE|10|100|compare_ssim|TRUE|93%|2:56<br>5000|FALSE|10|100|compare_ssim|FALSE|94%|-<br>5000|FALSE|3|100|compare_ssim|FALSE|93%|2:40<br>30000|FALSE|3|100|compare_ssim|FALSE|99%|16:18<br>30000|FALSE|1|100|compare_ssim|FALSE|98%|16:53<br>1000|FALSE|10|100|euclidian|FALSE|84%|0:01<br>1000|FALSE|10|100|euclidian|TRUE|85%|0:00<br>1000|FALSE|10|10000|euclidian|TRUE|84.76%|1:52<br>60000|FALSE|10|100|euclidian|TRUE|98%|0:54<br>5000|FALSE|10|100|euclidian|TRUE|94%|0:04<br>5000|FALSE|3|100|euclidian|TRUE|94%|0:04<br>5000|FALSE|3|100|euclidian|FALSE|94%|0:04<br>30000|FALSE|3|100|euclidian|FALSE|97%|0:25<br>30000|TRUE|3|100|euclidian|FALSE|99%|0:44<br>5000|TRUE|3|100|euclidian|FALSE|93%|0:07<br>5000|TRUE|3|100|euclidian|TRUE|94%|0:07<br>30000|TRUE|3|1000|euclidian|TRUE|95%|7:35<br>5000|TRUE|3|1000|euclidian|TRUE|91.10%|1:16</p></div><h1 id="Several-attentions-on-python-grammar"><a href="#Several-attentions-on-python-grammar" class="headerlink" title="Several attentions on python grammar"></a>Several attentions on python grammar</h1><p>•python踩到的几个坑：</p><ul><li><p>不能用list访问list，但可以用list访问numpy的array</p></li><li><p>numpy的array没有count()方法，不过可以通过tolist()方法转化成list再进行操作</p></li><li><p>不能对list取负号，但可以对numpy的array取负号</p></li><li><p>想初始化list就用[None]*数组大小，想初始化numpy的array就用np.empty(维度1，维度2，维度3……)</p></li><li><p>想转numpy的array就用np.array()函数，但不要用np.matrix()，后者兼容性不好</p></li><li><p>在用matplotlib画subplot的时候，不要直接对分图使用方法title()，要用set_title()，否则报错</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;Intro&quot;&gt;&lt;a href=&quot;#Intro&quot; class=&quot;headerlink&quot; title=&quot;Intro&quot;&gt;&lt;/a&gt;Intro&lt;/h1&gt;&lt;p&gt;（这其实是我第一次真正意义上的手写数字识别，使用KNN方法）&lt;/p&gt;
&lt;p&gt;之前在某宝上买来了一个小姐姐给的吴恩达作业（小姐姐讲解声音真的好听！），但是学完了（包括手写数字识别的手打BP神经网络实现），发现自己弄还是不会！现在，上了模式识别课程，一切重新开始！&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="machine_learning" scheme="https://lucainiaoge.github.io.git/tags/machine-learning/"/>
    
      <category term="pattarn_recognization" scheme="https://lucainiaoge.github.io.git/tags/pattarn-recognization/"/>
    
      <category term="python" scheme="https://lucainiaoge.github.io.git/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>如何开始搭建自己博客(How to start my blog)</title>
    <link href="https://lucainiaoge.github.io.git/2019/09/23/how_to_build_a_blog/"/>
    <id>https://lucainiaoge.github.io.git/2019/09/23/how_to_build_a_blog/</id>
    <published>2019-09-22T16:00:00.000Z</published>
    <updated>2020-07-21T11:28:07.899Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>这篇文章其实是一个引导性的文章，汇总网友们的博客链接。博客的搭建对于小白来说还是要了解那么一阵子的。我同样也是，开学后半个月才摸出了点门道。我就先把我走过的路再给大家呈现一遍，然后介绍一点自己的经验。</p><a id="more"></a><h1 id="How-to-Post-Your-Website"><a href="#How-to-Post-Your-Website" class="headerlink" title="How to Post Your Website"></a>How to Post Your Website</h1><p>怎样发布你的网页，让全世界人都看到？</p><p>你需要一个服务器。服务器存储你的资源，并将它们共享给全世界。这也是互联网的的运作方式。那么怎么申请一个服务器？</p><blockquote><ul><li>参考<a href="https://jingyan.baidu.com/article/ed2a5d1f844b8409f6be17bf.html" target="_blank" rel="noopener">百度经验：申请阿里云服务器</a></li></ul></blockquote><p>我是怎么干的？我没有自己搞服务器，而是借用了Github的服务器，因为Github有专门的推出的gitpage。创建github账户之后，就可以申请挂一个网址，自定义空间还是挺大的。这一步步怎么走</p><blockquote><ul><li>参考<a href="https://www.jianshu.com/p/f82c76b90336" target="_blank" rel="noopener">韩朔的简书：Gitpage教程</a></li><li>参考<a href="https://pages.github.com/" target="_blank" rel="noopener">Gitpage官网介绍和教程</a></li><li>这位大佬做出来以后就是这个样子：<a href="https://hans2936.github.io/" target="_blank" rel="noopener">韩朔的Gitpage(里面也有教程哦)</a></li><li>也挺建议看这个，这个博客直接把后面讲的一块讲了：<a href="http://www.mamicode.com/info-detail-2294440.html" target="_blank" rel="noopener">使用Hexo和Github Pages搭建属于自己的博客 - Hello World篇</a></li></ul></blockquote><h1 id="Fill-in-Your-Website"><a href="#Fill-in-Your-Website" class="headerlink" title="Fill in Your Website"></a>Fill in Your Website</h1><p>当你按部就班地去做了以后，就会得到一个空网页（一般要申请仓库并部署之后再等上一会儿，我是中午吃了顿饭，回来搞了搞就好了）</p><h2 id="Code-it-yourself"><a href="#Code-it-yourself" class="headerlink" title="Code it yourself"></a>Code it yourself</h2><p>有一个办法(如果想速出结果，并不推荐，毕竟我现在也不大会)：学习html语言或者javascript(js)，学着自己写网页，自力动手丰衣足食。这里供上链接：</p><blockquote><ul><li>参考<a href="https://www.w3school.com.cn/js/index.asp" target="_blank" rel="noopener">js友好的教程(W3school)</a></li><li>参考<a href="https://www.w3school.com.cn/jsref/index.asp" target="_blank" rel="noopener">js参考手册(W3school)</a></li><li>参考<a href="https://www.jianshu.com/p/da53cc5ad85a" target="_blank" rel="noopener">js学习指南(简书)</a></li></ul></blockquote><h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><p>如果不想自己打代码去设计网页，就要借助强大外力了！</p><p>这里，大家很多使用一个叫Hexo的程序帮助写博客。<br>Hexo是什么？是一个不需要网页编程就可以实现博客搭建的框架：只需要在命令行中给它操作，它就可以按你的需要创建文件。你需要按照它给定的格式进行修改和配置，比如修改主题。</p><p>hexo主题是什么？顾名思义，是你的网页的色调啊、风格啊什么的。但是为什么要把它单独拿出来考虑？因为不同主题栏目设置啊、文档中配置啊没有统一的规定（虽然大同小异），所以，选定一个主题就尽量不要更换，要不之前的配置很可能作废。</p><p>话不多说，贡上连接：</p><blockquote><ul><li>前面提到的教程：<a href="http://www.mamicode.com/info-detail-2294440.html" target="_blank" rel="noopener">使用Hexo和Github Pages搭建属于自己的博客 - Hello World篇</a></li><li>如果你选择了配置服务器：<a href="https://segmentfault.com/a/1190000019588450?utm_source=tag-newest" target="_blank" rel="noopener">云服务器+域名方式搭建hexo博客</a></li><li>hexo的使用入门教程(含有安装步骤)：<a href="https://www.cnblogs.com/ruruozhenhao/p/8215011.html" target="_blank" rel="noopener">博客园:GitHub+Hexo搭建个人网站详细教程</a></li></ul></blockquote><p>先看这些吧，够用了（出现了奇奇特特的bug除外）。如果发的链接太多，反而会乱了方寸。</p><h2 id="Hexo-Tips"><a href="#Hexo-Tips" class="headerlink" title="Hexo Tips"></a>Hexo Tips</h2><h3 id="如何修改Hexo的内容"><a href="#如何修改Hexo的内容" class="headerlink" title="如何修改Hexo的内容"></a>如何修改Hexo的内容</h3><p>改动_config文件，一般是操作Hexo的方式。操作Hexo还有很多其它方式，牛逼的大佬会直接写js脚本（我现在不会哦），Hexo内部也有很多脚本可以修改以添加各种骚功能。这些东西我还没捋清楚，不过不用担心，每次你想实现一个功能就上网搜一下“Hexo 做XXX”，基本都会有答案的。</p><p>其实很多东西是在Hexo下面特定的主题里面修改的，这些请关注下一部分。</p><h3 id="对付重装"><a href="#对付重装" class="headerlink" title="对付重装"></a>对付重装</h3><p>哦对，你会发现，按照教程做以后，你的网站源其实是在自己的电脑上，甚至在C盘，这是很危险的。我的想法是，时长做备份。但毕竟太麻烦。电脑不小心重装怎么办？ </p><blockquote><ul><li>参考简书：<a href="https://www.jianshu.com/p/8f7ac6884118" target="_blank" rel="noopener">系统重装后如何找回Github+Hexo博客</a></li></ul></blockquote><h3 id="hexo-d-g命令失效"><a href="#hexo-d-g命令失效" class="headerlink" title="hexo d -g命令失效"></a>hexo d -g命令失效</h3><p>还有，有时你会发现按照hexo d -g命令不行，可能是因为这个原因：</p><blockquote><ul><li>简书: <a href="https://www.jianshu.com/p/9a137d8e554a" target="_blank" rel="noopener">Hexo d -g踩坑指北</a></li><li>是否: <a href="https://segmentfault.com/q/1010000009443399" target="_blank" rel="noopener">hexo d -g 部署没有成功怎么办</a></li></ul></blockquote><h3 id="部署的Hexo去哪里了"><a href="#部署的Hexo去哪里了" class="headerlink" title="部署的Hexo去哪里了"></a>部署的Hexo去哪里了</h3><p>还有一个问题，就是Github部署Hexo以后，应该会覆盖掉你以前在Github仓库文件夹里的文件，这一点注意一下。当然，前提是你按照之前的教程改了_config文件而且完成了配套的配置，每次部署都会在github仓库文件夹生成一个发布版的博客。</p><h3 id="每次开机如何打开Hexo"><a href="#每次开机如何打开Hexo" class="headerlink" title="每次开机如何打开Hexo"></a>每次开机如何打开Hexo</h3><p>用命令行(cmd)将你的路径定位到博客根目录下，然后操作hexo命令就好了！</p><h3 id="忽然无法用cmd执行hexo的命令"><a href="#忽然无法用cmd执行hexo的命令" class="headerlink" title="忽然无法用cmd执行hexo的命令"></a>忽然无法用cmd执行hexo的命令</h3><p>错误提示如下：<br>C:\Users\Administrator\blog&gt;hexo s<br>socket: (10106) 无法加载或初始化请求的服务提供程序。<br>解决方案：<br>管理员运行cmd，执行netsh winsock reset，然后重启电脑</p><h3 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h3><p>其他问题待添加。写这篇总结的时候，我已经离开始摸索半个多月了，之前遇到的很多小bug基本忘光了，遗憾当初没有记下来，这里给大家道个歉，没法一一总结了。</p><h1 id="Design-Your-Blog"><a href="#Design-Your-Blog" class="headerlink" title="Design Your Blog"></a>Design Your Blog</h1><p>好了，到了这里你就可以开始着手写自己的博客了。</p><p>我觉得写博客包括：</p><ol><li>设计主页：设计头像，设计背景，设计标签分类系统，设计友链和转发……</li><li>功能添加：增加评论区，增加有趣的gif，增加“阅读更多”功能，增加目录，增加多媒体功能，增加文件分享和下载功能……</li><li>写文章：就是写文章咯</li></ol><h2 id="Hexo-Theme-yilia"><a href="#Hexo-Theme-yilia" class="headerlink" title="Hexo Theme: yilia"></a>Hexo Theme: yilia</h2><p>设置Hexo主题，可是牌面问题！</p><p>主题的添加和配置，在上一部分Hexo的搭建中，已经有大神提到过了。这里主要是讲主题怎么使用。我了解的是yilia主题，所以喜欢其他主题的朋友只好找其他教程咯！</p><blockquote><ul><li>还是放一个安装教程吧：来自Litten的<a href="http://litten.me/2014/08/31/hexo-theme-yilia/" target="_blank" rel="noopener">yilia主题安装教程和初步使用</a></li><li>Litten的博客里有很多有趣的教程，这里直接贴上<a href="http://litten.me/" target="_blank" rel="noopener">Litten的博客</a></li></ul></blockquote><p>我记得安装主题以后，会将主题存放在某个奇怪的地方而不是你的blog目录里，我的起初存在了这里：</p><blockquote><p>C:\Users\Administrator\Desktop\themes</p></blockquote><p>反正，把这玩意直接复制到blog目录下的themes文件夹里，就ok了。</p><p>完了以后，你就可以操作themes\yilia文件夹里的_config.yml</p><p>哦对，如果幸运的话，里面还会有个readme.md，里面有一个yilia主题配置的入门教程，挺详细的。</p><p>如果不幸运的话，可以看这个：</p><blockquote><ul><li>博客园: <a href="https://www.cnblogs.com/chengxs/p/7430283.html" target="_blank" rel="noopener">github+hexo搭建自己的博客网站（二）更换主题yilia</a></li></ul></blockquote><p>.md是什么？是markdown，一种方便的文本编辑格式。具体看这个了解一下就好了：</p><blockquote><ul><li>CSDN: <a href="https://blog.csdn.net/u014061630/article/details/81359144" target="_blank" rel="noopener">Markdown语法图文全面详解(10分钟学会)</a></li></ul></blockquote><p>在这里讲一讲yilia主题下配置博客md源文件的事项：有些语法的解析和标准的markdown不太一致，尤其是如果你用MarkdownPad来编辑时候，右面的预览和实际网页根本就不像的。细节很多，比如一般的markdown一个#就可以表示一个标题，但在这个主题下解析需要两个#包住你要的文字。很多细节这里不赘述了，毕竟我也刚开始嘛！</p><h2 id="Write-Your-Blog"><a href="#Write-Your-Blog" class="headerlink" title="Write Your Blog"></a>Write Your Blog</h2><p>很好，要开始写文章了！</p><p>打开根目录下source\_post文件夹，里面放.md文件，就可以解析了。你只需要：尽情发挥你的md本领和你的文笔，写完以后hexo d -g一下，打开你的gitpage，就可以看到了。你还可以将你的gitpage分享给其他人，这样你的知识就得到了共享！</p><p>当然，hexo s可以用来在hexo d部署之前预览你的博客！</p><h2 id="Various-Functions"><a href="#Various-Functions" class="headerlink" title="Various Functions"></a>Various Functions</h2><p>其实嘛，做一个博客还是蛮不容易的，有很多小功能要考虑，每样小功能甚至可能花很长时间来配置。这里贡上一些我觉得挺有必要的功能以及它们的教程。</p><h3 id="添加“阅读更多”功能"><a href="#添加“阅读更多”功能" class="headerlink" title="添加“阅读更多”功能"></a>添加“阅读更多”功能</h3><p>不上链接了，直接说：你的md文件里，在你想截断的地方另起一行，填上这句话就ok了：</p><blockquote><p>&lt;!–more–&gt;</p></blockquote><h3 id="如何在博客中添加图片"><a href="#如何在博客中添加图片" class="headerlink" title="如何在博客中添加图片"></a>如何在博客中添加图片</h3><blockquote><ul><li>(别人家的博客): <a href="https://fqdawang.github.io/2019/07/28/hexo%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87/" target="_blank" rel="noopener">福球大王的博客：hexo上传图片</a></li><li>一个上传图片并自动生成md代码的网址：<a href="https://sm.ms/" target="_blank" rel="noopener">https://sm.ms/</a></li><li>更详细的图片设置: <a href="https://zhuanlan.zhihu.com/p/61226148" target="_blank" rel="noopener">知乎专栏 https://zhuanlan.zhihu.com/p/61226148</a></li></ul></blockquote><h3 id="为自己的博客设置头像"><a href="#为自己的博客设置头像" class="headerlink" title="为自己的博客设置头像"></a>为自己的博客设置头像</h3><blockquote><ul><li>CSDN: <a href="https://blog.csdn.net/dta0502/article/details/84403929" target="_blank" rel="noopener">yilia头像/图标设置</a></li></ul></blockquote><blockquote><ul><li>github: <a href="https://github.com/litten/hexo-theme-yilia/issues/288" target="_blank" rel="noopener">为什么博客里面头像不显示了</a></li></ul></blockquote><h3 id="Gitalk-让你的博客拥有评论区"><a href="#Gitalk-让你的博客拥有评论区" class="headerlink" title="Gitalk: 让你的博客拥有评论区"></a>Gitalk: 让你的博客拥有评论区</h3><blockquote><ul><li>CSDN: <a href="https://blog.csdn.net/weixin_42150650/article/details/86768616" target="_blank" rel="noopener">Hexo的yilia主题增加Gitalk插件</a></li><li>CSDN: <a href="https://blog.csdn.net/liu1340308350/article/details/86304998" target="_blank" rel="noopener">另一个Hexo的yilia主题增加Gitalk插件的教程</a></li></ul></blockquote><h3 id="让自己的网页被搜索引擎搜到"><a href="#让自己的网页被搜索引擎搜到" class="headerlink" title="让自己的网页被搜索引擎搜到"></a>让自己的网页被搜索引擎搜到</h3><blockquote><ul><li>CSDN: <a href="https://blog.csdn.net/sunshine940326/article/details/70936988/" target="_blank" rel="noopener">想让你的博客被更多的人在搜索引擎中搜到吗？</a></li></ul></blockquote><h3 id="为文章添加目录"><a href="#为文章添加目录" class="headerlink" title="为文章添加目录"></a>为文章添加目录</h3><blockquote><ul><li>CSDN: <a href="https://blog.csdn.net/Aoman_Hao/article/details/82112645" target="_blank" rel="noopener">Hexo博客yilia主题文章添加目录</a></li><li>简书: <a href="https://www.jianshu.com/p/614811d3e995" target="_blank" rel="noopener">另一个Hexo博客yilia主题文章添加目录的教程</a></li></ul></blockquote><h3 id="为文章添加标签"><a href="#为文章添加标签" class="headerlink" title="为文章添加标签"></a>为文章添加标签</h3><p>不上链接了，直接说：在你的md文件开始，添加这样的格式就ok了：</p><blockquote><p>---</p><p>toc: true</p><p>title: XXXXXXX</p><p>date: 2019.9.23</p><p>tags: [XXX1, XXX2]</p><p>---</p></blockquote><h3 id="网友的一些个性化设置总结"><a href="#网友的一些个性化设置总结" class="headerlink" title="网友的一些个性化设置总结"></a>网友的一些个性化设置总结</h3><blockquote><ul><li>CSDN: <a href="https://blog.csdn.net/qq_37513473/article/details/88617281" target="_blank" rel="noopener">Yilia个性设置</a></li></ul></blockquote><h3 id="放个大招：一些hexo-yilia的集锦"><a href="#放个大招：一些hexo-yilia的集锦" class="headerlink" title="放个大招：一些hexo+yilia的集锦"></a>放个大招：一些hexo+yilia的集锦</h3><blockquote><ul><li>简书: <a href="https://www.jianshu.com/p/65207c1981cd" target="_blank" rel="noopener">Hexo + yilia 搭建博客可能会遇到的所有疑问</a></li></ul><p>上面链接包括:添加文章目录，随笔，标签，展开全文按钮，增加阅读量，“畅言”评论（不推荐），放音乐，放视频，放相册，写文章</p></blockquote><blockquote><ul><li>SF: <a href="https://segmentfault.com/a/1190000020260103?utm_source=tag-newest" target="_blank" rel="noopener">Hexo+yilia主题网站进阶教程</a></li></ul><p>上面链接包括:展开全文按钮，添加赞赏和二维码，添加字数统计，统计网站访问量，添加版权说明，增加gitalk评论区，添加RSS，提交百度搜索引擎</p></blockquote><blockquote><ul><li>简书: <a href="https://www.jianshu.com/p/adb7640c97c2" target="_blank" rel="noopener">Hexo 基于yilia主题及其它插件优化</a></li></ul><p>上面链接包括:yilia默认设置，修改代码块样式，添加不蒜子统计，单篇文章点击量查看，网站统计备案信息，版权声明，博文置顶，gitalk和valine评论系统，在线聊天，SEO让URL持久化，私密文件加密</p></blockquote><p>先说这么多吧！待添加！</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;Intro&quot;&gt;&lt;a href=&quot;#Intro&quot; class=&quot;headerlink&quot; title=&quot;Intro&quot;&gt;&lt;/a&gt;Intro&lt;/h1&gt;&lt;p&gt;这篇文章其实是一个引导性的文章，汇总网友们的博客链接。博客的搭建对于小白来说还是要了解那么一阵子的。我同样也是，开学后半个月才摸出了点门道。我就先把我走过的路再给大家呈现一遍，然后介绍一点自己的经验。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="blog_start" scheme="https://lucainiaoge.github.io.git/tags/blog-start/"/>
    
      <category term="guide" scheme="https://lucainiaoge.github.io.git/tags/guide/"/>
    
  </entry>
  
  <entry>
    <title>2019数学建模国赛总结 Part 2 (2019 CUMCM Summary)</title>
    <link href="https://lucainiaoge.github.io.git/2019/09/15/math-modling-2019CUMCM-summary-2/"/>
    <id>https://lucainiaoge.github.io.git/2019/09/15/math-modling-2019CUMCM-summary-2/</id>
    <published>2019-09-14T16:00:00.000Z</published>
    <updated>2019-10-03T06:52:55.427Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><h1 id="First-Battle-2019-9-13"><a href="#First-Battle-2019-9-13" class="headerlink" title="First Battle - 2019.9.13"></a>First Battle - 2019.9.13</h1><p>第二天，我<strong>帅</strong>先到达战场（毕竟我就睡在隔壁战壕里）。自己又调了一会小模型，画了几个图给了子烨。就继续了。第一天晚上，我宣布完阶段性胜利后，便给翔哥分配任务了：“赶紧研究第二问，它和第一问没啥重合的，但是关系到后面”。翔哥于是就又开始自闭了。</p><a id="more"></a><p><img src="https://i.loli.net/2019/09/22/CxntuPJ2lvR4V9e.png" alt="shuai_me.png"></p><p>我呢？继续搞第一问，弄了个优化程序。美其名曰：目标规划；其实呢：暴力搜索。好，选了几个比较要命的参数，弄了个三重搜索，就算“圆满完成第一问”了（后面持续真香）。</p><p>子烨终于有事干了：抄公式，画流程图，写目标规划表达式，定义符号，接收我画的图。我觉得他有很多事干，他却总是用些“ssbb（我内心os）”的问题烦我，真的烦（半开玩笑的严肃状）！一跟我说“我就觉得你的模型不符合题意”，我问他怎么不符合，他却说不出来。我讲了n遍我的想法，试图去说服（毕竟此时分心真的不值真的不值），我于是忽然语速惊人，话音变大，变得强势（解锁新技能：<strong>开BKB!</strong>），试图把他怼回去。不过子烨一副不肯善罢甘休的样子。好吧，我不管你，你先写文章吧。于是我对他说“你还是赶紧写论文吧，这是最要紧的！而且你说的这些，都是可以挂起的事情，我现在做的东西时最要命的！这个逻辑是为什么我也给你说了很多遍了，而且你也没能有效地反驳这些逻辑。你的想法可以保留，写到你的挂起任务纸上！”于是我的技能升级了：<strong>任务挂起到纸上</strong>！</p><p>还是稍微回顾一下吧：子烨强烈要求我做的，包括：不用F-t图和φ-t图表示答案，给出切实有效的指导意见，你的连续施力不符合题意，至少也应该是忽然发力的那种。我就不明白了，我已经建好的模型这些东西（除了不画这个示意图），都可以包括这些。子烨表示，“我知道你的意思，可是我是这个意思……”我嘛，始终没领会这个意思。</p><p>此时此刻，就是考验魄力的时刻了。我真的就严肃起来了，我表示自己很伤心，给你讲了那么多你都不听，你也没听懂我的，我从你的复述上可以看出来。我现在不想被屁事分心，我要赶紧去做掉第二问（此时翔哥已经自闭几近崩溃，因为他之前推的一堆式子被我一票否决（我靠初始条件就错了），他写的程序也被我一票否决（这程序思路快到了，但是效果，emmmmmm））。这时候，我表示鸭梨又开始山大了，如果第二问搞不出来咋办？我决定：自己动手开始写第二问！自己动手开始侵略翔哥的任务！子烨此时也大概默许了我，开始加紧写论文了（我一直没有监督他，我觉得这没必要，只是不时地灌一罐心灵鸡汤（一股玩笑味儿）来激励一下（美其名曰：“特殊的时期就要采取特殊的办法”））！</p><p>当我和翔哥多次交流以后，我逼着自己去进入他的推导（这可真难，我必须得时刻紧跟步伐，并通过表达我对这一步的理解以保证我没有跟丢！这很关键！解锁新技能：<strong>跟上别人思路！</strong>）于是，我打破了他的三维转一维建模的模式，直接上三维坐标系！将一切向量刻画为三维矢量，将一切空间上的运算转化为矢量运算！</p><p>此时，干了那么久却没个结果，还被我否决了的翔哥是内心mmp的。但又能怎么样呢？为了前进，就要丢弃一些东西。为了合作，就要牺牲一些东西。为了承认新的事物，就很可能要摒弃旧的事物，不是吗？于是，想办法平覆翔哥的躁动以后，我们合力推公式，我把一些公式推导中的苦力活给了他（没想到，百感交集的翔哥进入了人生最差状态，推公式老是犯迷糊）。总之，我们构建出了一个用力拉鼓（圆柱体的侧面），使他转动，并且可以合成所有的力矩得到鼓的最终角速度，并且可以放到我原来的那个模型的世界里跑的思路。（其实，我在第一天晚上搞出来的时候，就义正辞严地告诫翔哥：你明天推出来的公式，要尽量适用于我的模型，大概是这一点让他更加害怕了吧）。顺着这个思路，翔哥大肆翻修了原来的程序，又写了个新的（魄力了得！）（我想起了当初在RM的谢老板，魄力更加了得，甚至会为了修复一个bug重写一辆车的代码）。不过，他写的程序总是跑飞，要不是不能走，要不就一转转个70多度，用翔哥的话说，“我人都晕了！”</p><p>我让他发来他的程序。我使用了顺着别人思路走的技能，找出了很多bug，那种成就感，几乎等同于翔哥的绝望感。不过，技能升级：<strong>读懂别人代码</strong>！</p><p>bug被一一扫清，具体是啥bug我也忘了，说出来也是牢骚了。此时也大概晚上了。我的大脑介于：完善第二问、突破第三问、睡觉、洗澡、打蚊子、背单词这些东西之间，啥都想不明白，最后我选择了睡觉。</p><br><p>P.S. 这天下午我忽然想，写了这么多东西，哪能白写？我要让它名垂（我的资源管理器）青史，于是便解锁新技能：求救于rar！，打包文件如下：（很多是后面的）（这些东西帮我了大忙！感谢自己！）</p><p><img src="https://i.loli.net/2019/09/22/DZH1YUeQ7bLJwar.png" alt="rar.png"></p><p>对了，说一说饭是怎么解决的吧：中午，我给翔哥带饭，子烨表示想出去散散心，自己去吃了；晚饭，我照例不吃，翔哥表示自己想要一个饼。<br>hyx（托hhn？？）带来好吃的蛋糕放到了桌上，我象征性地问了问翔哥和子烨要不要吃，实际内心已经想直接吞掉它了（事实上嘛。。。是这样的！）</p><p>夜晚游戏难度提升：WXh会来捣乱，made。。。。。。劳资烦着呢！（wxh满脸堆笑，像是有什么非分之想（hhhhhhhh））于是，百感交集的我对wxh说道“回去打你的csgo去！”（我其实还计划着比完赛打两盘dota嘿嘿）</p><p>这一天，睡得晚了一个小时，不过夜晚已经基本找到思路了，并且有了一点起色（第二问跑出来结果终于能看了，但好像还不太正常的亚子），也就是凌晨1：00上床的。上床前，猛然发现单词还没背；鸭梨山大的我愤怒地把单词上限从200减到70.哈哈哈，我一秒钟背完130个词！</p><h1 id="2019数学建模系列传送门"><a href="#2019数学建模系列传送门" class="headerlink" title="2019数学建模系列传送门"></a>2019数学建模系列传送门</h1><ul><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-1/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 1 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-2/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 2 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-3/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 3 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-4/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 4 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/29/math-modling-2019CUMCM-answer-1/" target="_blank" rel="noopener">2019数模国赛B题解析Part1(Analysis of 2019CUMCM Question-B Part1)</a></li><li><a href="https://lucainiaoge.github.io/2019/10/02/math-modling-2019CUMCM-answer-2/" target="_blank" rel="noopener">2019数模国赛B题解析Part2(Analysis of 2019CUMCM Question-B Part2)</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;First-Battle-2019-9-13&quot;&gt;&lt;a href=&quot;#First-Battle-2019-9-13&quot; class=&quot;headerlink&quot; title=&quot;First Battle - 2019.9.13&quot;&gt;&lt;/a&gt;First Battle - 2019.9.13&lt;/h1&gt;&lt;p&gt;第二天，我&lt;strong&gt;帅&lt;/strong&gt;先到达战场（毕竟我就睡在隔壁战壕里）。自己又调了一会小模型，画了几个图给了子烨。就继续了。第一天晚上，我宣布完阶段性胜利后，便给翔哥分配任务了：“赶紧研究第二问，它和第一问没啥重合的，但是关系到后面”。翔哥于是就又开始自闭了。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="math_moding" scheme="https://lucainiaoge.github.io.git/tags/math-moding/"/>
    
      <category term="experience" scheme="https://lucainiaoge.github.io.git/tags/experience/"/>
    
  </entry>
  
  <entry>
    <title>2019数学建模国赛总结 Part 1 (2019 CUMCM Summary)</title>
    <link href="https://lucainiaoge.github.io.git/2019/09/15/math-modling-2019CUMCM-summary-1/"/>
    <id>https://lucainiaoge.github.io.git/2019/09/15/math-modling-2019CUMCM-summary-1/</id>
    <published>2019-09-14T16:00:00.000Z</published>
    <updated>2019-10-03T06:53:22.280Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><h1 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h1><p>总的来说，算是顺利。提交完文档恋恋不舍，仔仔细细又看了两遍，感觉漏洞百出，算了吧，不再提交MD码了，省得出车祸。<br>具体过程呢，记不太清了，简要回忆一下吧。</p><a id="more"></a><h1 id="Just-before-the-start"><a href="#Just-before-the-start" class="headerlink" title="Just before the start"></a>Just before the start</h1><p>第一天12号，下午5:30上完电磁场与电磁波，和翔哥赶紧跑回2301B打开电脑焦急地等待。翔哥表示手在颤抖。能干啥呢？在闷热的活动室准备好了插排、台灯，烧了水，上了厕所，甚至还和hhn理论理论开空调的事情，不过被hhn拒绝了，他表示自己感冒了并且需要通风。看在他经常搞卫生的份上，我就预期接下来几天要坐桑拿房了。</p><p>6:00，子烨也来了，看题。我们分工看题，我先看的A题，给翔哥看B题，子烨看C题。不巧，子烨得紧急去开学生会，那就让他去吧。我就在钻研A，钻研半天总觉得不对劲，在bilibili和google还有油管上找了关于2019A题油管的视频（没错，我在油管找油管），但是我在油管死活找不到我要的油管：我要知道油管里是否一直有油，油管压强该怎么算，我要学流体力学，我要……妈呀想着都害怕。不过我本着不想出来这题咋回事不放弃做这道题的想法，继续逼着自己想啊想。油管里是否有空气？题目的流程到底是啥（这个想明白了）？数据咋获取？代码将会成什么样子？……我先换换思路吧，呼叫翔哥，问问他B题咋想。</p><p>扫了一眼B，发现，我天这也太小儿科了吧，弄个游戏整过来让我们建模，有意思么？？我于是老是在把这个想法表示出来，还好这只是牢骚而已，当真的话我可能就不会在现在兴奋地打字了。翔哥没有对这题表达太多的看法，难就是了，似乎要确定很多量；我当然，满脑子都在说“这题太无聊了”。恰好，子烨回来了。</p><p>我问他学生会其他的去搞建模的咋想？他说，他认识的几个都还啥都没想呢。再问：C题有想法么？他说找到数据了。仔细看C题，我天，一个数字都没有，就让我们建模。想到这里，我脑海里不禁想起通信导论的课设。<br>我还挣扎一下，呼叫他俩看看A题，我啥都没讲出来。好吧，我们讨论了一番，决定B题了。具体怎么做出的集体决定，我也忘了，总之，觉得B题相对“好欺负”就是了。</p><h1 id="first-night-2019-9-12"><a href="#first-night-2019-9-12" class="headerlink" title="first night - 2019.9.12"></a>first night - 2019.9.12</h1><p>好的，下面是干活阶段。拿到这玩意咋整？先不想乱七八糟的，第一问做不出来，其他的咋办？我们怎么分工？我第一天晚上会不会有思路？我还能不能睡着觉？我现在要不要上厕所？我还剩多长时间就比完赛了？我作业写了么？……</p><p>总之嘛，要想的问题还是很多的（呵呵）</p><p>我的大脑告诉我，首先要决定的问题就是怎么分工。传说中的 “数学-代码-写作文”的分工只是说说而已，拿到这玩意谁会套用这个“数码写”（原谅我这么简称它）的模型？我摸了一遍四个问题，发现第一问是一维的，第二问是填空题，第三问是三维的，第四问是第三问。所以决定先想第一问好了，让子烨先去干问题重述、外加查资料，反正也分析过一遍题了。翔哥呢？没让他去打代码，刚开始我记得是让他去研究一维碰撞了。分工就大致明了了：我搞代码（这也是被他俩认可的，之前两周备赛，重要代码基本都是我弄出来的），翔哥研究物理问题，子烨查资料+写作文（我还教了他几招用word打公式的骚方法，输入速度秒杀LateX）</p><p>我隐约记得，第一天晚上蹦出了很多想法，比如考虑空气阻力，然后查找空气阻力的公式，子烨找了很多论文，什么斯托克斯公式啥的，都是作为参考了的，然后我们还估算各种值，比如浮力和重力的比例啊、碰撞系数啊啥的，完全是在做一个物理题嘛。我甚至回宿舍去找大物书，发现只剩下下册了，上册捐给学弟（学妹？不存在的）了，翔哥也去我宿舍拿了我的线代书，我拿了我的大物笔记，还好笔记记得全。</p><p>我想，第一问还有点难，不过大概要输出什么东西是明白了：游戏策略嘛，不过控制力道和方向，画个F-t图和φ-t图不就得了，当然还可以是电影；这图咋来？MATLAB来。MATLAB咋来？一定要离散化。离散化咋来？转微分表达式为差分表达式。Bingo！开始干活！脑袋一热，就写了一个小球在地上颠来颠去的程序（此处感谢HYX大一时候发来的VB碰撞仿真程序带来的灵感！）还真别说，给颠起来了，很兴奋了。于是我开始找怎么做电影，还真别说，给做出来了，但是MATLAB做电影是真的真的慢慢慢慢！算了，以后再说吧，这事儿算是告一段落。</p><p>与此同时，翔哥的一维碰撞也给似乎搞出来了。我们纠结了半天碰撞该怎么刻画，我坚持让翔哥找出恢复系数e，这样我们就不需要讨论能量守恒了；还没有开始写程序的翔哥表示，一个式子已经够便宜了，这个e哪找得到？哪都找不到！炒了半天，子烨表示，自己查到了足球和地面碰撞的e=0.68，大部分e值是试验测定的。好吧，不吵了，我在碰撞中将e设为0.8得了，翔哥不必在考虑这个问题了，今后对e进行灵敏度分析就好了。于是，我解锁新技能：<strong>挂起任务</strong>！这一点真的很关键，切中了马克思主义中的“把握主要矛盾”的哲学观念。</p><p>于是，我开始着手写第一问的代码，具体那四个状态我是怎么构建出来的，我记不太清了，因为那时我在集中思考，别人在干啥我都没在意，当然，我还记得在此期间hhn热心肠拿来了一个电风扇供我消遣（感动！）<br>还真别说，我给写出来了（辣鸡MATLAB可真好用）。就看那小球越颠越高，要不就一颠就掉地上，总之，不符合常理。我就想，我不让你（指的小球）飞不就得了，你飞高了，我下次就给少一点劲儿，你飞低了，我下一次就给大一点劲儿，完美！反馈！！！负反馈！！！着手写负反馈函数，施力大小和高度成负相关。在夜里12点之前，我忘了翔哥在自闭啥，也忘了子烨写了哪部分论文，总之我很兴奋地宣布：第一问我快做出来了！到了这里，本来自闭的翔哥想开了，本来面瘫的子烨动容了，本来鸭梨山大的路菜鸟鸭梨小了。</p><p>于是，第一个物理引擎诞生了，它长在一维世界里。最后合力的分解才到二维。毕竟第一问是十分理想的。</p><p>睡觉吧。子烨先去睡了，我挑头表示我也去睡了，翔哥就也睡了。后来，隔壁Ldt表示，我们搞数学建模睡得竟然比他还早！谁叫他老喝快乐水吃炸鸡（而且肌肉发达不长胖还喜欢熬夜）呢！</p><h1 id="2019数学建模系列传送门"><a href="#2019数学建模系列传送门" class="headerlink" title="2019数学建模系列传送门"></a>2019数学建模系列传送门</h1><ul><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-1/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 1 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-2/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 2 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-3/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 3 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-4/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 4 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/29/math-modling-2019CUMCM-answer-1/" target="_blank" rel="noopener">2019数模国赛B题解析Part1(Analysis of 2019CUMCM Question-B Part1)</a></li><li><a href="https://lucainiaoge.github.io/2019/10/02/math-modling-2019CUMCM-answer-2/" target="_blank" rel="noopener">2019数模国赛B题解析Part2(Analysis of 2019CUMCM Question-B Part2)</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;Intro&quot;&gt;&lt;a href=&quot;#Intro&quot; class=&quot;headerlink&quot; title=&quot;Intro&quot;&gt;&lt;/a&gt;Intro&lt;/h1&gt;&lt;p&gt;总的来说，算是顺利。提交完文档恋恋不舍，仔仔细细又看了两遍，感觉漏洞百出，算了吧，不再提交MD码了，省得出车祸。&lt;br&gt;具体过程呢，记不太清了，简要回忆一下吧。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="math_moding" scheme="https://lucainiaoge.github.io.git/tags/math-moding/"/>
    
      <category term="experience" scheme="https://lucainiaoge.github.io.git/tags/experience/"/>
    
  </entry>
  
  <entry>
    <title>2019数学建模国赛总结 Part 3 (2019 CUMCM Summary)</title>
    <link href="https://lucainiaoge.github.io.git/2019/09/15/math-modling-2019CUMCM-summary-3/"/>
    <id>https://lucainiaoge.github.io.git/2019/09/15/math-modling-2019CUMCM-summary-3/</id>
    <published>2019-09-14T16:00:00.000Z</published>
    <updated>2019-10-03T06:53:20.182Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><h1 id="Great-progress-2019-9-14"><a href="#Great-progress-2019-9-14" class="headerlink" title="Great progress - 2019.9.14"></a>Great progress - 2019.9.14</h1><p>第三天一早（其实严格来说是第二天），我<strong>double帅</strong>先到达战场</p><a id="more"></a><p><img src="https://i.loli.net/2019/09/22/CxntuPJ2lvR4V9e.png" alt="shuai_me.png"></p><p>开始干第二问，抱着一腔“宜将剩勇追穷寇，不可沽名学霸王”的热忱。</p><p>翔哥也来了，带着一把鼻涕和一脸阴沉，看出来感冒了。昨晚上弄出了成果，我就让他想办法验证。于是一早，他又来自闭推公式了。我首先问他，你这个碰撞公式是否是对的？为什么某个速度向量表达式不含碰撞系数e？他表示不理解加不爽，看得出他及其暴躁，语气及其敷衍，用诸如“怎么了？不行么？我没错啊？你说是就是吧？”之类的话来怼。我表示不理解，并明确表达了出来，换来一句“你说是就是吧”。此时我也很不爽，甚至想发火。要知道，我在大学还是没发过几次火的。（顶多称得上愠怒，不能说发火，我真没情绪失控过，就算之前被坑、被隐瞒真相、觉得十分不公、觉得自己走错了人生道路……都没发过火，这一点不能说引以为啥，因为这一点或许是懦弱的一面。我一直觉得自己是很懦弱的。）</p><p>一旁子烨似乎不受影响。不知他内心在怎么想。反正，我只顾着和翔哥理论呢。因为，我压住了火气，从源头推了一遍碰撞的结论，找出问题所在了。</p><blockquote><p><del>我向来是对事不对人的</del></p></blockquote><p>(其实还是对人的)，你说是不是？你说不是就不是吧，反正我觉得是就是了。</p><p>接下来，就是见证奇迹的时刻：一次第二问的胜利，让翔哥重获新生，似乎是凤凰涅槃、超新星爆发一般，从废墟中焕发出了连感冒都夺不走的活力（哈哈哈哈哈）。</p><p>没错，我又出来了。这一次是真的出来了，以至于我高兴地一上午都在研究怎么画图把这难得的结果欣赏出来。（当然，顺手把平动的模型也弄出来了）</p><p>这时，我也可以开开心心地给翔哥解释他的错误所在了。并且表达了我对推公式（数学推证、数理逻辑思考）这件事情的看法：不时地定义新事物，可能会使复杂的事情变得简单；不时地想自己的问题能否抽象为已知的事物（例如，一大坨数其实就是一个常量），可能会使复杂的问题变得简单；主动地去尝试各个可能性，才是数学中发现新宇宙的精髓（这一点我没跟翔哥说，嘘。。。。。毕竟他已经自闭了）。我甚至还骄傲地以自己为例子：我，考试的时候大部分公式是自己推出来的（所以我很讨厌那种记公式记文字的考试，纯粹只是为了检验你有没有为了考试而学习）</p><p>顺便提一句，这天上午子烨依然不肯善罢甘休，甚至更加积极了：他总认为我的模型方向有误。我又开始演讲了。不过很明显，我们互相听不进去。我于是也开始急躁了：心理就在暗暗地跺脚，我靠这不就纯粹地浪费时间么？我还是压住火气，拿出我总结的系统雏形（没错，我一直在酝酿这个雏形，尽管它现在还没有实体化，但我只能尽力去说服了。<strong>还是那句话，特殊时刻，只能用特殊的办法</strong>。）</p><p>不知是不是我突然“主动地”变得耐心的缘故，让他和我一起头脑风暴，达成几点共识：这道题想要表达的，就是那三个基础量（合力大小，方向，随时间变化），并用F-t图这样程序；总之子烨似乎进入了我的世界明白了我的想法，或许是完全是服从于团队而不得不妥协，总之，随着几声“奥”，他也便耐心去打论文了。真的，压力和时间的流逝使我暴躁，但我的习惯又不想让我暴躁，这大概也是反馈吧。</p><p><img src="https://i.loli.net/2019/09/22/SPsKYGtxZzFlhkv.jpg" alt="pig_you.jpg"></p><hr><p>来不及再高兴了，看看剩多大点儿时间？只有一天半了！赶紧继续分工，把公式扔给子烨（我的天他还是老看不懂公式，老不理解系统，这可咋整？我说：你还不理解是吧？你再不理解我就……再给你讲一遍，你不理解10遍我给你讲10遍直到你理解），让翔哥：继续想验证第二问的事情，想合力分解成分力的事情，并对后者给予了厚望和大权值。</p><p>为什么想这个事情？因为我在做第二问的时候，心里就在想给第三问打铺垫了：既然考虑了三维，转动，那一定就是基于这个重新设计系统，使它适应三维世界。怎么适应三维世界？有一维已经ok了，就是竖直维度；其余两个维度，不过就是xOy平面。在这个平面上，我们要接到球，并且合适地反弹它使得它竖直上抛。问题就转化为怎么去接球，怎么设置速度了。不过，我们要控制8个人，怎么弄？很简单，先想想鼓会自己动！也就是：只考虑合力！</p><p>哈哈！有思路了（好难啊）！分解成这么几个数学问题：怎么控制它，使其想到哪到哪（莫名想到PID哦）；怎么控制它，使其速度想怎样怎样（莫名想到PID哦）；怎么设置碰撞时的速度和朝向；怎么保证鼓在移动时不翻转；怎么保证鼓在其他时刻不乱翻转？</p><p>乍一看，我了个c。。。</p><p>但再一想，诶呦不错哦！PID！RM战队牛逼！<a href="https://imuncle.github.io/" target="_blank" rel="noopener">谢老板</a>带领的南工骁鹰真是给我上了美好的一课，在这里竟然用上了！用！上！了！不过，这是一个多维度的PID，不！太！一！样！</p><p>于是第一时间，我想到了。。。百度（哈哈，第二时间我才想到了谢老板）。可悲啊，百度太辣鸡，连个二阶pid都查不到，更别说多维度了，都是水不拉几的学位论文，都给我消失！还是谢老板厉害！于是开始勾搭谢老板。没想到秒回！不过嘛。。。谢老板工程经验丰富，但是对于我这么具体的理论问题就表示无奈了，毕竟这太具体了。谢老板表示我应该着重推公式，好吧，我去推公式了，自闭时间到。（最后我表示推一下系统函数，然后，真香）</p><p>自闭了一下午，我推了三张纸，越推越爽，一直推公式一直爽！那是真的爽！不骗你！当你发现复杂问题被自己简化成一个小迭代公式还不用涉及什么矩阵求逆啊之类的复杂运算之后，整个人都升华了——觉得自己成为了数学家！问翔哥，是否想听我讲一讲；翔哥用表情表示：算了，我还在自闭，我想不开。问子烨，继续扔给他公式，要他写我们的第三问，子烨这回善罢甘休了，不过能力也是有限啊。于是我就花了很长时间，召集子烨和翔哥，讲了半天我的PID推导，讲了半天我的系统，收获了翔哥的赞叹和子烨的默许，好的，这是一个好的开始了。</p><p>后来子烨果然闷闷闷儿去用公式编辑器打公式了，不过还需要我不时地给予指导。</p><p>这方面，我没能控制住自己的傲气，这点不好。我本应理解他不能立刻理解这些数学原理的，因为毕竟用他的话来说，“这些不是计科的东西啊，我哪能直接就会”。当然，这些也不是电信的东西，但毕竟，我搞过RM，我搞过控制，我搞过MATLAB，我对物理和数学都感兴趣！我有责任讲清楚！</p><p>不过一切都开始进入正轨了。</p><p>现在距离考试结束还有86400秒钟！（包含睡觉！）</p><p>夜晚，我们大家确实都开始恋恋不舍这个战场了。我终于有那个魄力向三维的世界进发，向我所担心、害怕的世界进发！我担心，我花了一下午，6个小时，360分钟，21600秒钟推导出来的公式会是一坨辣鸡；我担心，我头铁坚持了那么久，强硬了那么多，怼了那么多次队友而坚持的道路会戛然而止；我担心，我自己会因为思绪混乱而放弃……</p><p>不过，一晚上的尝试，让我再一次表示：我靠，还真给出来了！</p><p>这得感谢我在电赛中学到的经验：把大的任务分解成小的任务。检验一个电路，先从电源模块入手，再检查每个管脚、每个功能，逐个排查；写一个大的代码，不要奢求“一把嗦（这么写的么？请教尤大佬！！）”（翻译：一步到位），而应该一步一步实现基础功能，一步一个脚印地组合到最终的功能。想一下不久前电赛备赛的时候，尤大佬是如何“一把嗦”的？他在实验室做了好久，先实现了MSP430的ADC，进而实现MSP430计数、墨水屏幕显示，然后才是MSP430频率计；然后实现FPGA流水灯、FPGA数码转换和数码管显示、FPGA的基本操作、FPGA的读取外设、FPGA的IO口使用，到这时候，尤大佬对这些东西已经有一个基本概念了，所以又可以通过FPGA实现频率计了；学会了GPIO，又可以手写SPI协议和MSP通信；SPI协议又要从最基础的发射开始，不要奢求一开始就可以读取，先用示波器尝试……啊好多啊，想想就复杂，但就被尤大佬一点点积累，等到最后出成果那一刻，美其名曰“一把嗦”！后来，我借鉴这个经验，才一点点搭建出我的FPGA第一个流水灯、读取IO、DDS生成器、AM调制、AM解调、FM调制、FM解调、TDMA信号的调制、TDMA信号的解调仿真、TDMA实际信号的解调的。</p><p>翔哥觉得自己不够聪明，实际上，就像我说的，“脑子清醒不清醒是一回事；聪明不聪明，是另一回事”。回想大一时候，翔哥可是线性代数很厉害的，我真的也赞叹。于是我就努力地学好线性代数。人在不同阶段总是要有榜样的，这种榜样，可以是自己所崇拜的那种，可以是身边的技胜一筹的，甚至可以是自己所不屑却嫉妒的那种人。</p><p>哇，扯了这么多。说说我怎么解决的最难问题吧！</p><ul><li><p>Step1：在三维模型中，不引入水平反馈，看看竖直方向是否还和之前一样。if一样，转Step2，else改程序；</p></li><li><p>Step2：尝试平动的PID公式，将球的初始水平位置设置到别处，看看能不能过去。if可以，转Step3，else找问题，确定是step1还是step2出了问题；</p></li><li><p>Step3：尝试加入接球击打的PID公式，if能打上去，转Step4，else，顺着Step123排查问题；</p></li><li><p>Step4是啥？我还差一个PID公式没有调，也就是修正转动的PID，但我并不急着弄！Step4是什么？是思考人生！思考的结果是：干到了这里，一定得有点结果！于是，我是用了求助rar技能！然后，向他俩汇报阶段性成果，接下来什么截图保存啊啥的都得有。好，转Step5</p></li><li><p>Step5：加入转动的PID公式，if能转正，then诶嘿嘿嘿，else，我了个c</p></li></ul><p>嗯没错，我了个c</p><p>这该咋办？它转不正？！我先试一拨玄学调参，调整PID的比例值大小，没用；调整公式一些参数，没用；用动画来呈现这一切，看看到底咋转，写了一晚上电影，得到结论，它给我乱转！不过走到这一步，基本确定问题了：它乱转，转到最后转没了！我怀疑是不是我画图边界太窄了，我加大好几倍，它还是没。我于是追根溯源，直接看变量值，得到NaN！我的妈耶！加了PID不收敛了！但是又发现，法向量的y分量的结果很喜人，只是x分量炸了，导致z分量一起炸，那是不是….?我还没开窍，于是傻不愣登地把参数都设为0；好，回到了step3，一切正常。也就是我的迭代公式本身没有使我的系统爆炸，而是我的PID参数。也就是，我还有没考虑到的地方。我差点就要对PID参数进行搜索了，不过上帝给了我的大脑一盏LED灯，告诉我：你的Kp应该设成负的，要不就把迭代公式设成负的，至少也要试一试！于是我就试了试，成了！哇，到了晚上两点！宣布完毕这个阶段性成果，我就去洗澡了（哇头皮是真的痒痒，如果大于两天不洗头的话）。他俩还是恋恋不舍。</p><p>这晚上我有点睡不着，不过还是莫名其妙睡着了……</p><blockquote><p>（因为中午出去买饭遇上了下雨，电梯里人也很多，所以我今天把！单！词！背！完！了！）</p></blockquote><blockquote><p>（无wxh之乱耳，无wxh之劳形，今晚成果颇丰，过得很爽！（wxh：我耳朵长铁轨上了））</p></blockquote><h1 id="2019数学建模系列传送门"><a href="#2019数学建模系列传送门" class="headerlink" title="2019数学建模系列传送门"></a>2019数学建模系列传送门</h1><ul><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-1/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 1 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-2/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 2 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-3/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 3 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-4/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 4 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/29/math-modling-2019CUMCM-answer-1/" target="_blank" rel="noopener">2019数模国赛B题解析Part1(Analysis of 2019CUMCM Question-B Part1)</a></li><li><a href="https://lucainiaoge.github.io/2019/10/02/math-modling-2019CUMCM-answer-2/" target="_blank" rel="noopener">2019数模国赛B题解析Part2(Analysis of 2019CUMCM Question-B Part2)</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;Great-progress-2019-9-14&quot;&gt;&lt;a href=&quot;#Great-progress-2019-9-14&quot; class=&quot;headerlink&quot; title=&quot;Great progress - 2019.9.14&quot;&gt;&lt;/a&gt;Great progress - 2019.9.14&lt;/h1&gt;&lt;p&gt;第三天一早（其实严格来说是第二天），我&lt;strong&gt;double帅&lt;/strong&gt;先到达战场&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="math_moding" scheme="https://lucainiaoge.github.io.git/tags/math-moding/"/>
    
      <category term="experience" scheme="https://lucainiaoge.github.io.git/tags/experience/"/>
    
  </entry>
  
  <entry>
    <title>2019数学建模国赛总结 Part 4 (2019 CUMCM Summary)</title>
    <link href="https://lucainiaoge.github.io.git/2019/09/15/math-modling-2019CUMCM-summary-4/"/>
    <id>https://lucainiaoge.github.io.git/2019/09/15/math-modling-2019CUMCM-summary-4/</id>
    <published>2019-09-14T16:00:00.000Z</published>
    <updated>2019-10-03T06:53:17.809Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>by lucainiaoge</strong></p><hr><h1 id="Final-battle-2019-9-15"><a href="#Final-battle-2019-9-15" class="headerlink" title="Final battle - 2019.9.15"></a>Final battle - 2019.9.15</h1><p>9.15，今天，</p><p>我要完成最后一关，</p><a id="more"></a><p>打大Boss！</p><p>毕竟我第四问还没碰呢。。。</p><p>一早6:30起床，于是早上我又被自己的<strong>帅帅帅</strong>先而帅到了！</p><p>一坐下，赶快进入状态（虽然还有点迷迷糊糊）。十分担心，打开客户端检查有没有被退赛，嗯好，没有，好的，打开MATLAB看看我的程序还在不在，嗯好，没有，哦不，还在，嗯好。</p><p>……</p><p>嗯，大概在7：00左右，我的大脑开始全速运转了。我把图存的差不多，直接就上手搜索PID的比例系数了。搜索量还是挺大的，而且老跑飞。保存图像时候，MATLAB还老给我崩掉（大概是因为，我画的点太多了）。不过硬着头皮，我搞出来很多组数。</p><p>这里一个教训：跑出来结果别老顾着高兴。要提前准备好一个有条理的总结方式：每次跑出结果，要记录完那些东西才能跑下一次，并且不要忘了这一次跑的条件是什么，用哪个版本的程序跑出来的……我就是，写了很多个版本，不下三个，每个版本的迭代初始设置都不一样（初始设置本来就纷繁复杂，我试图在MATLAB代码中汇总，但是还是没有根除这个问题），我最后就迷失在了这里。我真的不知道某个数据是用哪个程序跑出来的了。</p><p>我安慰自己，没事儿了，都到这个份儿上了，随便找个程序，再跑一遍，得到好看的结果直接记下来，把这一个所有信息都记下来，写到论文上就好了！</p><p>嗯，这个思想起到了效果，不过没有起到长期效果……</p><p>随着我的任务推进，我的大脑逐渐僵硬，我渐渐意识到自己快成为翔哥之前推公式的样子了。对了，上午我给翔哥的任务很简单而明确，就是：给翔哥输入合力（原来还想再给合力矩，但是很明显翔哥吃不消了，要是我我可能也无从下手了，转而自闭），翔哥输入N个人的分力的大小和方向（自由度很高，需要想办法设置分工规则）。翔哥思路很不错：让球来的方向那几个人着重使劲，其他人抵消其他影响。说的简单做起来难，翔哥也写了一上午。期间，我就用我那杂七杂八程序跑出来的玄学合力喂给他，他也用他的玄学程序输出玄学分力喂给我。于是我们就陷入了玄学循环……</p><p>眼见着就要被这点屁事带倒了。我决定，先吃顿午饭（其实是外卖，因为之前跟楚笑说我们仨今天不下去了，帮我们点外卖吧），是鸡公煲，我一般不吃鸡公煲，但今天吃的还挺有味道的。吃完回来继续重新跑我问题4的优化程序，就崩了！崩了！再也！跑！不！出！来！了！</p><p>我按捺住自己忐忑的心情，重新修改程序，修改了有半个小时，还！是！不行！！这个时刻，出这种事，谁顶得住？！</p><p>还好！还好！还记得这个嘛？</p><blockquote><p>求救rar技能</p></blockquote><p>现在的自闭时间是下午2:00，我在这时候之前做了一件让我自己十分受益的事情：</p><p><img src="https://i.loli.net/2019/09/22/f5h2T8tme7sznEG.png" alt="rar_who_saved_me.png"></p><p>仰天长笑哈哈</p><p>我复活了！</p><p>我按照这个里面打好包的程序又跑了一遍，（虽然这个程序时漏洞百出的，毕竟两个小时内，我也改了一些漏洞的，但是也可能制造了一些漏洞呢）成了！赶紧记下来，直接作为最后结果了！先不给它搜索，直接记下来，反正是按照最后一问条件跑出来的！（这个条件的刻画，我在清早分给翔哥了！）无所谓！结果可喜就是了！</p><p>好，圆满完成？</p><p>哦不！屁事多多！</p><p>e的灵敏度分析；问题4优化算法求解；论文很多公式还没打下来；论文问题4还没写结果；论文还没有写改进意见和附录；我们的支撑材料还没有完整化；翔哥还在推模型的验证系统该怎么弄（这涉及到另一套代码）……<br>继续分工，我和翔哥搞模型验证系统（又开始互传变量了！），子烨继续打公式写论文；只不过我多了一个工序：让子烨不断发论文现稿给我订正。但毕竟我精力有限，很多错误直到比赛结束也没能排查出来，哎……</p><p><img src="https://i.loli.net/2019/09/22/MIuZP1rCgis5Ely.png" alt="inf_printscreen_1.png"></p><p>最后，连扯带拽连滚带爬，极限操作搞定了以上我提到的收尾问题。虽然这些事情离我现在敲下这个字（2019.9.16 0:18，哦今天要上课了妈呀）是最近的，但是我真的不太记得这些事情是怎么解决的了。大概就是：ddl提供最大生产力吧！</p><p>总之，在最后千钧一发之际，我们搞定了。打开客户端，确认存活，上传MD5码：</p><p><img src="https://i.loli.net/2019/09/22/qTOEV8fFyI1e6PC.png" alt="MD5_1.png"></p><p>啊哦又发现文件命名不太对，重新提交（我忽然玩性大发，想要在8:00之前好好玩一玩提交MD5码，被队友制止了）：</p><p><img src="https://i.loli.net/2019/09/22/zbS8Q6npuwUPC3l.png" alt="MD5_2.png"></p><p>告一段落！再会！收拾桌子！准备哈皮（？？？）</p><hr><p><strong>P.S.</strong> 数学建模一大感受：我老是疑神疑鬼，总是觉得数学建模客户端就要关闭了。殊不知，我应该做的是再好好阅读一遍赛区规则说明。</p><p><strong>P.P.S.</strong> 最后学校群里有一个可怜虫在图书馆电脑上提交MD5码以后把文件给删了，觉得提交了MD5码就ok了，在删了以后才意识到：</p><p><img src="https://i.loli.net/2019/09/22/QRE1qxJGI5rU6dS.png" alt="inf_printscreen_2.png"><br><img src="https://i.loli.net/2019/09/22/lWdaM4qJUmv8eOC.png" alt="inf_printscreen_3.png"><br><img src="https://i.loli.net/2019/09/22/5sMqlZmSFUwIVHk.png" alt="inf_printscreen_4.png"></p><blockquote><p>这个可怜虫内心大概已经MD了5000万次了</p></blockquote><p>若有来者，有幸看到这篇文章的最后，并且打算参加下一次建模比赛，请谨记这个教训：MD5码只是一个路径的加密码而已，并不是文件本身的信息。这个码是为了保证你的文件是你的，不是别人作弊搞的。所以提交MD5码以后，不能修改信息！</p><p>所以，最后才会有一个上传文件阶段（此阶段，你的文件路径已经锁住了！锁住了！你再动，再修改，就是作弊！）所以，在我正在写总结的时候，看到上面这位可怜虫的教训的时候，我在反省自己，是否也犯了类似地错误（毕竟我提交MD5以后还欣赏了两边我的论文甚至把它发送给了我爹一起欣赏（当然最后发现我靠漏洞百出（再当然，我不敢再修改了）））</p><p>所以，我终于意识到，我还没有提交文件！</p><p><img src="https://i.loli.net/2019/09/22/zmLXBrhxnAl3dWc.png" alt="inf_printscreen_5.png"></p><p>hzy也参加数模，我赶快提醒他</p><p><img src="https://i.loli.net/2019/09/22/JQ5Hgy1M7qFp6Li.png" alt="inf_printscreen_6.png"><br><img src="https://i.loli.net/2019/09/22/ex9bKmsPS6TYvXW.png" alt="inf_printscreen_7.png"><br>谢天谢地。<br>我的心路历程：</p><pre><code>“我靠怎么这么多漏洞”</code></pre><p><img src="https://i.loli.net/2019/09/22/eIP9poOYZTxznWg.png" alt="inf_printscreen_8.png"><br><img src="https://i.loli.net/2019/09/22/fSPbo5AcKlUqg9O.png" alt="inf_printscreen_9.png"><br><img src="https://i.loli.net/2019/09/22/gtRebZhVma3YDxA.png" alt="inf_printscreen_10.png"><br><img src="https://i.loli.net/2019/09/22/rTgUPn2xBmwYGSy.png" alt="inf_printscreen_11.png"><br>    到：庆幸自己终于交上去了，<br>    论文写成啥样，怎么审核，随他去吧！随他去吧！我提交上去了！<br>    谢天谢地！啊啊啊啊啊！</p><p><img src="https://i.loli.net/2019/09/22/IyvWeQwlC3bck1u.png" alt="inf_printscreen_12.png"><br>嗯，没错，我在今天的0:53分依然十分担心自己没传上去作品，又忐忐忑忑地传了一次，截图为凭！爽了，睡觉！</p><h1 id="2019数学建模系列传送门"><a href="#2019数学建模系列传送门" class="headerlink" title="2019数学建模系列传送门"></a>2019数学建模系列传送门</h1><ul><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-1/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 1 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-2/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 2 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-3/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 3 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/15/math-modling-2019CUMCM-summary-4/" target="_blank" rel="noopener">2019数学建模国赛总结 Part 4 (2019 CUMCM Summary)</a></li><li><a href="https://lucainiaoge.github.io/2019/09/29/math-modling-2019CUMCM-answer-1/" target="_blank" rel="noopener">2019数模国赛B题解析Part1(Analysis of 2019CUMCM Question-B Part1)</a></li><li><a href="https://lucainiaoge.github.io/2019/10/02/math-modling-2019CUMCM-answer-2/" target="_blank" rel="noopener">2019数模国赛B题解析Part2(Analysis of 2019CUMCM Question-B Part2)</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;by lucainiaoge&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;Final-battle-2019-9-15&quot;&gt;&lt;a href=&quot;#Final-battle-2019-9-15&quot; class=&quot;headerlink&quot; title=&quot;Final battle - 2019.9.15&quot;&gt;&lt;/a&gt;Final battle - 2019.9.15&lt;/h1&gt;&lt;p&gt;9.15，今天，&lt;/p&gt;
&lt;p&gt;我要完成最后一关，&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="math_moding" scheme="https://lucainiaoge.github.io.git/tags/math-moding/"/>
    
      <category term="experience" scheme="https://lucainiaoge.github.io.git/tags/experience/"/>
    
  </entry>
  
</feed>
